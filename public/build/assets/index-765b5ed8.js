import{_ as P,Z as R,O as U,C as j,T as A,r as w,G as S,g as c,o as _,x as T,w as i,U as M,a as L,N as D,k as l,l as e,J as n,q as H,H as O,n as N,y as k,B as C,M as F,i as B,L as E,F as I}from"./vendor-ddfbd976.js";import{L as q}from"./main-306a5ea6.js";import{P as G}from"./page-header-2dc95532.js";import{P as J}from"./Pagination-f095ae3c.js";import{i as Y}from"./imageUpload-4f5efd67.js";import{F as Z}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";/* empty css                                                    */const z={components:{Layout:q,PageHeader:G,Head:R,Pagination:J,Multiselect:U,FormValidation:Z,imageUpload:Y},props:{successMessage:String,alertMessage:String,app_for:String,minimum_tip_add:Object,validate:Function,settings:Object},setup(a){var g;const{t}=j(),d=A({minimum_tip_amount:((g=a.minimum_tip_add)==null?void 0:g.value)??"",enable_driver_tips_feature:a.settings.enable_driver_tips_feature==="1"}),s=w(null),p=w({}),v=w(a.successMessage||""),u=w(a.alertMessage||""),V=()=>{v.value="",u.value=""},f=async(r,o)=>{if(a.app_for=="demo"){d[r]=!o,M.fire(t("error"),t("you_are_not_authorised"),"error");return}try{(await M.fire({title:`Are you sure you want to ${o?"enable":"disable"} this setting?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, proceed",cancelButtonText:"Cancel"})).isConfirmed?(await L.post("/tip-settings/update-status",{id:r,status:o?1:0}),d[r]=o,M.fire("Updated!",`Setting has been ${o?"enabled":"disabled"}.`,"success")):d[r]=!o}catch(y){console.error("Error updating status",y),d[r]=!o}},m=async()=>{if(a.app_for=="demo"){M.fire(t("error"),t("you_are_not_authorised"),"error");return}if(p.value=s.value.validate(),!(Object.keys(p.value).length>0))try{let r;r=await L.post("/tip-settings/update",d.data()),r.status===201?(v.value=t("tip_settings_updated_successfully"),d.reset(),D.get("/tip-settings")):u.value=t("failed_to_update_tip_settings")}catch(r){r.response&&r.response.status===422?p.value=r.response.data.errors:(console.error(t("error_updating_tip_settings"),r),u.value=t("failed_to_update_tip_settings"))}},h=S(()=>Number(d.minimum_tip_amount)||0),b=S(()=>(Number(d.minimum_tip_amount)||0)*2),x=S(()=>(Number(d.minimum_tip_amount)||0)*3);return{form:d,successMessage:v,alertMessage:u,handleSubmit:m,dismissMessage:V,validationRef:s,errors:p,calculatedValue1:h,calculatedValue2:b,calculatedValue3:x,confirmToggle:f}}},K={class:"col-sm-12"},Q={class:"mb-3"},W={class:"border rounded"},X={class:"row"},$={class:"col"},ee={class:"form-check-label p-2 mt-2",for:"enable_driver_tips_feature"},te={class:"col"},se={class:"form-check form-switch form-switch-md float-end p-2"},oe={class:"alert bg-warning border-warning fs-18",role:"alert"},ae={class:"row"},re={class:"col-sm-12"},ne={class:"mb-3"},ie={for:"minimum_tip_amount",class:"form-label"},le=["placeholder","readonly"],de={class:"col-lg-12"},ce={class:"text-end"},_e={type:"submit",class:"btn btn-primary"},ue={class:"col-sm-12"},me={class:"mb-3",style:{display:"grid","place-items":"center"}},pe={class:"wallet"},fe={class:"overlap"},be={class:"card cards"},ge={class:"text-center"},ve={class:"text-center"},he={class:"input-group mt-0"},ye={class:"d-flex align-items-center justify-content-center gap-2 mt-2"},we={class:"avatar-md p-1 py-2 h-auto bg border border-dashed rounded-3"},Me={class:"text-center"},ke={class:"mb-0"},Ce={class:"avatar-md p-1 py-2 h-auto bg border border-dashed rounded-3"},Be={class:"text-center"},Ve={class:"mb-0"},xe={class:"avatar-md p-1 py-2 h-auto bg border border-dashed rounded-3"},Se={class:"text-center"},Te={class:"mb-0"},He={class:"hstack gap-2 justify-content-center mt-2"},Le={type:"button",class:"btn btn-light",style:{border:"1px solid #16ad70"}},Ne={type:"button",class:"btn",style:{"background-color":"#16ad70",color:"white"}},Fe={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},Pe={class:"alert-content"},Re={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},Ue={class:"alert-content"};function je(a,t,d,s,p,v){const u=c("Head"),V=c("PageHeader"),f=c("BCardBody"),m=c("BCard"),h=c("BRow"),b=c("BCardHeader"),x=c("FormValidation"),g=c("BCol"),r=c("Layout");return _(),T(r,null,{default:i(()=>[l(u,{title:"Tip Settings"}),l(V,{title:a.$t("tip-settings"),pageTitle:a.$t("tip-settings")},null,8,["title","pageTitle"]),l(h,null,{default:i(()=>[l(m,{class:"p-0"},{default:i(()=>[l(f,{class:"p-0"},{default:i(()=>[e("div",K,[e("div",Q,[e("div",W,[e("div",X,[e("div",$,[e("label",ee,n(a.$t("enable_driver_tips_feature")),1)]),e("div",te,[e("div",se,[H(e("input",{type:"checkbox",placeholder:"If Enable this Feature, Drivers can get option to Receive rides for specific routes",offPlaceholder:"Drivers can get option get rides from Selected Routes",class:"form-check-input",id:"enable_driver_tips_feature","onUpdate:modelValue":t[0]||(t[0]=o=>s.form.enable_driver_tips_feature=o),onChange:t[1]||(t[1]=N(o=>s.confirmToggle("enable_driver_tips_feature",s.form.enable_driver_tips_feature,o.target.placeholder,o.target.getAttribute("offPlaceholder")),["prevent"]))},null,544),[[O,s.form.enable_driver_tips_feature]])])])])])])])]),_:1})]),_:1})]),_:1}),s.form.enable_driver_tips_feature==1?(_(),T(h,{key:0},{default:i(()=>[d.app_for==="demo"?(_(),T(m,{key:0,"no-body":"",id:"tasksList"},{default:i(()=>[l(b,{class:"border-0"},{default:i(()=>[e("div",oe,[e("strong",null,[k(n(a.$t("note"))+" : ",1),e("em",null,n(a.$t("actions_restricted_due_to_demo_mode")),1)])])]),_:1})]),_:1})):C("",!0),l(g,{lg:"6"},{default:i(()=>[l(m,{"no-body":"",id:"tasksList"},{default:i(()=>[l(b,{class:"border-0"}),l(f,{class:"border border-dashed border-end-0 border-start-0"},{default:i(()=>[e("form",{onSubmit:t[3]||(t[3]=N((...o)=>s.handleSubmit&&s.handleSubmit(...o),["prevent"]))},[l(x,{form:s.form,ref:"validationRef"},{default:i(()=>[e("div",ae,[e("div",re,[e("div",ne,[e("label",ie,[k(n(a.$t("minimum_tip_amount"))+" ",1),t[7]||(t[7]=e("span",{class:"text-danger"},"*",-1))]),H(e("input",{type:"text",class:"form-control",placeholder:a.$t("enter_minimum_tip_amount"),id:"minimum_tip_amount","onUpdate:modelValue":t[2]||(t[2]=o=>s.form.minimum_tip_amount=o),readonly:d.app_for==="demo"},null,8,le),[[F,s.form.minimum_tip_amount]]),(_(!0),B(I,null,E(s.errors.minimum_tip_amount,(o,y)=>(_(),B("span",{key:y,class:"text-danger"},n(o),1))),128))])]),e("div",de,[e("div",ce,[e("button",_e,n(a.$t("save")),1)])])])]),_:1},8,["form"])],32)]),_:1})]),_:1})]),_:1}),l(g,{lg:"6"},{default:i(()=>[l(m,{"no-body":"",id:"tasksList"},{default:i(()=>[l(b,{class:"border-0"},{default:i(()=>[e("h5",null,n(a.$t("mobile_view")),1)]),_:1}),l(f,{class:"border border-dashed border-end-0 border-start-0"},{default:i(()=>[e("div",ue,[e("div",me,[e("div",pe,[e("div",fe,[e("div",be,[e("h6",ge,n(a.$t("trip_fare"))+" $550",1),e("h6",ve,n(a.$t("add_tip_message")),1),e("div",he,[t[8]||(t[8]=e("span",{class:"input-group-text",id:"basic-addon1"},"$",-1)),H(e("input",{disabled:"",type:"text",class:"form-control",id:"calculated_value","onUpdate:modelValue":t[4]||(t[4]=o=>s.calculatedValue1=o)},null,512),[[F,s.calculatedValue1]])]),e("div",ye,[e("div",we,[e("div",Me,[e("h6",ke,"$"+n(s.calculatedValue1),1)])]),e("div",Ce,[e("div",Be,[e("h6",Ve,"$"+n(s.calculatedValue2),1)])]),e("div",xe,[e("div",Se,[e("h6",Te,"$"+n(s.calculatedValue3),1)])])]),e("div",He,[e("button",Le,n(a.$t("cancel")),1),e("button",Ne,n(a.$t("add_tip")),1)])])])])])])]),_:1})]),_:1})]),_:1})]),_:1})):C("",!0),e("div",null,[s.successMessage?(_(),B("div",Fe,[e("div",Pe,[t[9]||(t[9]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[10]||(t[10]=e("strong",null,"Success",-1)),k(" - "+n(s.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[5]||(t[5]=(...o)=>s.dismissMessage&&s.dismissMessage(...o)),"aria-label":"Close Success Message"})])])):C("",!0),s.alertMessage?(_(),B("div",Re,[e("div",Ue,[t[11]||(t[11]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[12]||(t[12]=e("strong",null,"Alert",-1)),k(" - "+n(s.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[6]||(t[6]=(...o)=>s.dismissMessage&&s.dismissMessage(...o)),"aria-label":"Close Alert Message"})])])):C("",!0)])]),_:1})}const Ze=P(z,[["render",je]]);export{Ze as default};
