import{_ as U,Z as N,O as I,P as j,z as q,C as z,r as b,T as G,Q as K,a2 as W,a as A,R as E,g as d,o as c,x as P,w as n,U as S,N as Y,k as o,l as e,y as m,J as a,B as k,i as p,F as J,L as Q,n as T,q as Z,K as X}from"./vendor-ddfbd976.js";import{L as ee}from"./main-306a5ea6.js";import{P as te}from"./page-header-2dc95532.js";import{P as se}from"./Pagination-f095ae3c.js";import{s as ae}from"./search-2c17aadd.js";import{s as le}from"./searchbar-3acbc236.js";import{l as oe}from"./footer-e648049d.js";import{_ as ne}from"./search-file-ab3e1046.js";import"./app-042fb454.js";const ie={data(){return{rightOffcanvas:!1}},components:{Layout:ee,PageHeader:te,Head:N,Pagination:se,Multiselect:I,flatPickr:j,Link:q,search:ae,searchbar:le},props:{successMessage:String,alertMessage:String,serviceLocations:{type:Object,required:!0}},setup(s){const{t}=z(),y=b(""),i=G({all:"",locked:""}),f=b([]),R=b({}),C=b(!1),v=b(!1),g=b(null),h=b(s.successMessage||""),M=b(s.alertMessage||""),w=()=>{h.value="",M.value=""},V=async(r,l)=>{try{await A.post("/faq/update-status",{id:r,status:l});const u=f.value.findIndex(B=>B.id===r);u!==-1&&(f.value[u].active=l)}catch(u){console.error(t("error_updating_status"),u)}},$=()=>{v.value=!0},D=()=>{i.reset(),_(),v.value=!1},L=()=>{C.value=!1},x=async r=>{try{await A.delete(`/mail-template/delete/${r}`);const l=f.value.findIndex(u=>u.id===r);l!==-1&&f.value.splice(l,1),C.value=!1,S.fire(t("success"),t("mail_template_deleted_successfully"),"success")}catch{S.fire(t("error"),t("failed_to_delete_mail_template"),"error")}},O=async r=>{S.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async l=>{if(l.isConfirmed)try{await x(r)}catch(u){console.error(t("error_deleting_data"),u),S.fire(t("error"),t("failed_to_delete_the_data"),"error")}})};K(y,W.debounce(function(r){_(y.value)},300));const _=async(r=1)=>{try{const l=i.data();l.search=y.value,l.page=r;const u=await A.get("/mail-template/list",{params:l});f.value=u.data.results,R.value=u.data.paginator,v.value=!1}catch(l){console.error(t("error_fetching_mail_template"),l)}};return{results:f,modalShow:C,deleteItemId:g,successMessage:h,alertMessage:M,filterData:$,deleteModal:O,closeModal:L,deleteData:x,dismissMessage:w,searchTerm:y,paginator:R,modalFilter:v,clearFilter:D,fetchDatas:_,filter:i,handlePageChanged:async r=>{_(r)},editData:async r=>{Y.get(`/mail-template/edit/${r.id}`)},toggleActiveStatus:V}},computed:{...oe,...E(["permissions"])},mounted(){this.fetchDatas()}},re={class:"d-flex align-items-center gap-2"},de={class:"table-responsive"},ce={class:"table align-middle position-relative table-nowrap"},ue={class:"table-active"},me={scope:"col"},pe={scope:"col"},fe={scope:"col"},ge={scope:"col"},be={key:0},ve={class:"dropdown"},he={class:"dropdown-menu dropdown-menu-end"},_e={key:0},ke=["onClick"],ye=["onClick"],Ce=["onClick"],we=["onClick"],Be={key:1},Me={colspan:"7",class:"text-center"},$e={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},xe={class:"alert-content"},Pe={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Se={class:"alert-content"},Re={class:"offcanvas-body"},Ve={class:"mb-4"},De={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Le={value:"All Tasks"},Oe={value:"Completed"},Ae={value:"Inprogress"},Fe={value:"Pending"},He={value:"Pending"},Te={class:"mb-4"},Ue={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ne={class:"form-check form-check-inline"},Ie={class:"form-check-label",for:"inlineRadio1"},je={class:"form-check form-check-inline"},qe={class:"form-check-label",for:"inlineRadio1"},ze={class:"form-check form-check-inline"},Ge={class:"form-check-label",for:"inlineRadio1"},Ke={class:"mb-4"},We={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ee={class:"mb-4"},Ye={for:"country-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Je={class:"mb-4"},Qe={for:"status-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ze={class:"form-check"},Xe={class:"form-check-label",for:"inlineCheckbox1"},et={class:"form-check"},tt={class:"form-check-label",for:"inlineCheckbox2"},st={class:"form-check"},at={class:"form-check-label",for:"inlineCheckbox3"},lt={class:"form-check"},ot={class:"form-check-label",for:"inlineCheckbox4"},nt={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function it(s,t,y,i,f,R){const C=d("Head"),v=d("PageHeader"),g=d("BCol"),h=d("BButton"),M=d("Link"),w=d("BRow"),V=d("BCardHeader"),$=d("BBadge"),D=d("BCardBody"),L=d("BCard"),x=d("flat-pickr"),O=d("Multiselect"),_=d("BFrom"),F=d("BOffcanvas"),H=d("Pagination"),r=d("Layout");return c(),P(r,null,{default:n(()=>[o(C,{title:"Template"}),o(v,{title:s.$t("template"),pageTitle:s.$t("template")},null,8,["title","pageTitle"]),o(w,null,{default:n(()=>[o(g,{lg:"12"},{default:n(()=>[o(L,{"no-body":"",id:"tasksList"},{default:n(()=>[o(V,{class:"border-0"},{default:n(()=>[o(w,{class:"g-2"},{default:n(()=>[o(g,{md:"3"}),o(g,{md:"auto",class:"ms-auto"},{default:n(()=>[e("div",re,[s.permissions.includes("add-mail-template")?(c(),P(M,{key:0,href:"/mail-template/create"},{default:n(()=>[o(h,{variant:"primary",class:"float-end"},{default:n(()=>[t[6]||(t[6]=e("i",{class:"ri-add-line align-bottom me-1"},null,-1)),m(" "+a(s.$t("add_template")),1)]),_:1,__:[6]})]),_:1})):k("",!0)])]),_:1})]),_:1})]),_:1}),o(D,{class:"border border-dashed border-end-0 border-start-0"},{default:n(()=>[e("div",de,[e("table",ce,[e("thead",ue,[e("tr",null,[e("th",me,a(s.$t("s_no")),1),e("th",pe,a(s.$t("subject")),1),e("th",fe,a(s.$t("status")),1),e("th",ge,a(s.$t("action")),1)])]),i.results.length>0?(c(),p("tbody",be,[(c(!0),p(J,null,Q(i.results,(l,u)=>(c(),p("tr",{key:u},[e("td",null,a(u+1),1),e("td",null,a(l.email_subject),1),e("td",null,[l.active==1?(c(),P($,{key:0,variant:"success",class:"text-uppercase"},{default:n(()=>[m(a(s.$t("active")),1)]),_:1})):(c(),P($,{key:1,variant:"danger",class:"text-uppercase"},{default:n(()=>[m(a(s.$t("inactive")),1)]),_:1}))]),e("td",null,[e("div",ve,[t[11]||(t[11]=e("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("span",{class:"text-muted fs-18"},[e("i",{class:"mdi mdi-dots-vertical"})])],-1)),e("div",he,[s.permissions.includes("toggle-mail-template")?(c(),p("div",_e,[l.active===1?(c(),p("a",{key:0,class:"dropdown-item",href:"#",onClick:B=>i.toggleActiveStatus(l.id,0)},[t[7]||(t[7]=e("i",{class:"bx bxs-low-vision align-center text-muted me-2"},null,-1)),m(" "+a(s.$t("inactive")),1)],8,ke)):(c(),p("a",{key:1,class:"dropdown-item",href:"#",onClick:B=>i.toggleActiveStatus(l.id,1)},[t[8]||(t[8]=e("i",{class:"bx bx-show-alt align-center text-muted me-2"},null,-1)),m(" "+a(s.$t("active")),1)],8,ye))])):k("",!0),s.permissions.includes("edit-mail-template")?(c(),p("a",{key:1,class:"dropdown-item",href:"#",onClick:T(B=>i.editData(l),["prevent"])},[t[9]||(t[9]=e("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),m(a(s.$t("edit")),1)],8,Ce)):k("",!0),s.permissions.includes("delete-mail-template")?(c(),p("a",{key:2,class:"dropdown-item",href:"#",onClick:T(B=>i.deleteModal(l.id),["prevent"])},[t[10]||(t[10]=e("i",{class:"bx bxs-trash align-center text-muted me-2"},null,-1)),m(a(s.$t("delete")),1)],8,we)):k("",!0)])])])]))),128))])):(c(),p("tbody",Be,[e("tr",null,[e("td",Me,[t[12]||(t[12]=e("img",{src:ne,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,a(s.$t("no_data_found")),1)])])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[i.successMessage?(c(),p("div",$e,[e("div",xe,[t[13]||(t[13]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[14]||(t[14]=m()),t[15]||(t[15]=e("strong",null,"Success",-1)),m(" - "+a(i.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[0]||(t[0]=(...l)=>i.dismissMessage&&i.dismissMessage(...l)),"aria-label":"Close Success Message"})])])):k("",!0),i.alertMessage?(c(),p("div",Pe,[e("div",Se,[t[16]||(t[16]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[17]||(t[17]=m()),t[18]||(t[18]=e("strong",null,"Alert",-1)),m(" - "+a(i.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[1]||(t[1]=(...l)=>i.dismissMessage&&i.dismissMessage(...l)),"aria-label":"Close Alert Message"})])])):k("",!0)]),o(F,{modelValue:f.rightOffcanvas,"onUpdate:modelValue":t[5]||(t[5]=l=>f.rightOffcanvas=l),placement:"end",title:s.$t("leads_filters"),"header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:n(()=>[o(_,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:n(()=>[e("div",Re,[e("div",Ve,[e("label",De,a(s.$t("process")),1),Z(e("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":t[2]||(t[2]=l=>s.status=l)},[e("option",Le,a(s.$t("all")),1),e("option",Oe,a(s.$t("completed")),1),e("option",Ae,a(s.$t("inprogress")),1),e("option",Fe,a(s.$t("pending")),1),e("option",He,a(s.$t("cancelled")),1)],512),[[X,s.status]])]),e("div",Te,[e("label",Ue,a(s.$t("payment")),1),e("div",null,[e("div",Ne,[t[19]||(t[19]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio1",value:"option1"},null,-1)),e("label",Ie,a(s.$t("online")),1)]),e("div",je,[t[20]||(t[20]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio2",value:"option2"},null,-1)),e("label",qe,a(s.$t("card")),1)]),e("div",ze,[t[21]||(t[21]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio3",value:"option3"},null,-1)),e("label",Ge,a(s.$t("cash")),1)])])]),e("div",Ke,[e("label",We,a(s.$t("date")),1),o(x,{placeholder:s.$t("select_date"),modelValue:s.date,"onUpdate:modelValue":t[3]||(t[3]=l=>s.date=l),config:s.rangeDateconfig,class:"form-control flatpickr-input",id:"demo-datepicker"},null,8,["placeholder","modelValue","config"])]),e("div",Ee,[e("label",Ye,a(s.$t("country")),1),o(O,{class:"form-control",modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=l=>s.value=l),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Select country"},{value:"Argentina",label:"Argentina"},{value:"Belgium",label:"Belgium"},{value:"Brazil",label:"Brazil"},{value:"Colombia",label:"Colombia"},{value:"Denmark",label:"Denmark"},{value:"France",label:"France"},{value:"Germany",label:"Germany"},{value:"Mexico",label:"Mexico"},{value:"Russia",label:"Russia"},{value:"Spain",label:"Spain"},{value:"Syria",label:"Syria"},{value:"United Kingdom",label:"United Kingdom"}]},null,8,["modelValue"])]),e("div",Je,[e("label",Qe,a(s.$t("status")),1),o(w,{class:"g-2"},{default:n(()=>[o(g,{lg:"6"},{default:n(()=>[e("div",Ze,[t[22]||(t[22]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox1",value:"option1"},null,-1)),e("label",Xe,a(s.$t("active")),1)])]),_:1}),o(g,{lg:"6"},{default:n(()=>[e("div",et,[t[23]||(t[23]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox2",value:"option2"},null,-1)),e("label",tt,a(s.$t("inactive")),1)])]),_:1}),o(g,{lg:"6"},{default:n(()=>[e("div",st,[t[24]||(t[24]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox3",value:"option3"},null,-1)),e("label",at,a(s.$t("cash")),1)])]),_:1}),o(g,{lg:"6"},{default:n(()=>[e("div",lt,[t[25]||(t[25]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox4",value:"option4"},null,-1)),e("label",ot,a(s.$t("card")),1)])]),_:1})]),_:1})]),t[26]||(t[26]=e("div",null,null,-1))]),e("div",nt,[o(h,{variant:"light",class:"w-100"},{default:n(()=>[m(a(s.$t("clear_filter")),1)]),_:1}),o(h,{type:"submit",variant:"success",class:"w-100"},{default:n(()=>[m(a(s.$t("apply")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue","title"]),o(H,{paginator:i.paginator,onPageChanged:i.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const vt=U(ie,[["render",it]]);export{vt as default};
