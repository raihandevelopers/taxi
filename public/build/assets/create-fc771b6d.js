import{_ as J,D as ee,g as n,o as u,x as P,w as d,k as i,l as e,i as b,L as j,p as te,J as C,F as O,q as E,M as K,B as x,Z as se,O as oe,r as m,T as Y,Q as le,a2 as ae,a as V,U as z,y as M,n as re,K as Z}from"./vendor-ddfbd976.js";import{L as ne}from"./main-306a5ea6.js";import{P as ie}from"./page-header-2dc95532.js";import{P as ce}from"./Pagination-f095ae3c.js";import{i as de}from"./imageUpload-4f5efd67.js";import{u as ue}from"./footer-e648049d.js";import"./app-042fb454.js";/* empty css                                                    */const me={props:{form:Object},data(){return{activeTab:"English",languages:[]}},setup(){const{languages:f,fetchData:t}=ue();return ee(async()=>{f.value.length||await t(),this.$emit("languages-loaded",f.value),this.languages=f.value}),{languages:f}},methods:{setActiveTab(f){this.activeTab=f}}},fe={class:"nav nav-tabs nav-tabs-custom nav-success nav-justified",role:"tablist"},ve={class:"nav-item",role:"presentation"},_e=["onClick"],be=["id"],pe={class:"col-6 mt-3"},ye={class:"mb-3"},ge=["for"],he=["placeholder","id","onUpdate:modelValue","required"];function Ce(f,t,v,s,g,_){const h=n("BCol"),y=n("BRow");return u(),P(y,null,{default:d(()=>[i(h,{lg:"12"},{default:d(()=>[e("div",null,[e("ul",fe,[(u(!0),b(O,null,j(s.languages,a=>(u(),P(y,{key:a.code},{default:d(()=>[i(h,{lg:"12"},{default:d(()=>[e("li",ve,[e("a",{class:te(["nav-link",{active:g.activeTab===a.label}]),onClick:p=>_.setActiveTab(a.label),role:"tab","aria-selected":"true"},C(a.label),11,_e)])]),_:2},1024)]),_:2},1024))),128))]),(u(!0),b(O,null,j(s.languages,a=>(u(),b("div",{class:"tab-content text-muted",key:a.code},[g.activeTab===a.label?(u(),b("div",{key:0,class:"tab-pane active show",id:`${a.label}`,role:"tabpanel"},[e("div",pe,[e("div",ye,[e("label",{for:`name-${a.code}`,class:"form-label"},"Name",8,ge),E(e("input",{type:"text",class:"form-control",placeholder:`Enter Name in ${a.label}`,id:`name-${a.code}`,"onUpdate:modelValue":p=>v.form.tabFields[a.code].name=p,required:a.code==="en"},null,8,he),[[K,v.form.tabFields[a.code].name]])])])],8,be)):x("",!0)]))),128))])]),_:1})]),_:1})}const xe=J(me,[["render",Ce],["__scopeId","data-v-4de280db"]]);const ke={components:{Layout:ne,PageHeader:ie,Head:se,Pagination:ce,Multiselect:oe,imageUpload:de,tab:xe},props:{successMessage:String,alertMessage:String,countries:Array,timeZones:Array},setup(f){const t=m(""),v=m(null),s=Y({country:"",name:"",currencycode:"",currencysymbol:"",timezone:"",unit:""}),g=Y({all:"",locked:""}),_=m([]),h=m({}),y=m(!1),a=m(!1),p=m(!1),F=m(null),k=m(f.successMessage||""),B=m(f.alertMessage||""),R=()=>{k.value="",B.value=""},U=()=>{p.value=!0},w=l=>{v.value=l,s.country=l.country,s.name=l.name,s.currencycode=l.currencycode,s.currencysymbol=l.currencysymbol,s.timezone=l.timezone,s.clearErrors(),a.value=!0},A=()=>{s.reset(),a.value=!1,v.value=null},q=()=>{g.reset(),S(),p.value=!1},r=()=>{const{country:l,name:o,currencycode:c,currencysymbol:T,timezone:D,unit:$}=s,I={},H={country:{test:()=>!l,message:"Country is required"},name:{test:()=>!o,message:"Name is required"},currencycode:{test:()=>!c,message:"Currency code is required"},currencysymbol:{test:()=>!T,message:"Currency symbol is required"},timezone:{test:()=>!D,message:"Time Zone is required"},unit:{test:()=>!$,message:"Unit is required"}};return Object.keys(H).forEach(N=>{H[N].test()&&(I[N]=H[N].message)}),I},Q=async()=>{const l=r();if(Object.keys(l).length===0)try{let o;if(v.value?o=await V.put(`/roles/update/${v.value.id}`,s.data()):o=await V.post("/roles",s.data()),o.status===200||o.status===201){k.value=o.data.successMessage;const c=o.data.roles;if(v.value){const T=_.value.findIndex(D=>D.id===v.value.id);T!==-1&&(_.value[T]=c)}else _.value.push(c);a.value=!1,s.reset()}else console.error("Unexpected response status:",o.status)}catch(o){if(console.error("Error handling form submission:",o),o.response&&o.response.status===422){const c=o.response.data.errors;s.errors=c}else console.error("An unexpected error occurred:",o)}else s.errors=l},G=l=>{s.errors[l]=""},W=()=>{y.value=!1},L=async l=>{try{await V.delete(`/roles/delete/${l}`);const o=_.value.findIndex(c=>c.id===l);o!==-1&&_.value.splice(o,1),y.value=!1,z.fire("Success","Role deleted successfully","success")}catch(o){console.error("Error deleting role:",o),z.fire("Error","Failed to delete role","error")}},X=async l=>{z.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async o=>{if(o.isConfirmed)try{await L(l)}catch(c){console.error("Error deleting role:",c),z.fire("Error","Failed to delete the role","error")}})};le(t,ae.debounce(function(l){S(t.value)},300));const S=async(l=1)=>{try{const o=g.data();o.search=t.value,o.page=l;const c=await V.get("/roles1/list",{params:o});_.value=c.data.roles,h.value=c.data.paginator,p.value=!1}catch(o){console.error("Error fetching roles:",o)}};return{form:s,roles:_,modalShow:y,modalForm:a,deleteItemId:F,selectedCountry:v,successMessage:k,alertMessage:B,filterRole:U,editRole:w,cancelEdit:A,handleSubmit:Q,deleteModal:X,closeModal:W,deleteRole:L,dismissMessage:R,hideError:G,searchTerm:t,paginator:h,modalFilter:p,clearFilter:q,fetchRoles:S,filter:g,handlePageChanged:async l=>{S(l)},selectedCountry:m(null),selectedTimezone:m(null)}},mounted(){this.fetchRoles()}},Me={class:"row"},Be={class:"col-6"},we={class:"mb-3"},Se={key:0,class:"text-danger"},Te={class:"col-6"},Ve={class:"mb-3"},ze={key:0,class:"text-danger"},Ee={class:"col-6"},Fe={class:"mb-3"},Re={key:0,class:"text-danger"},Ue={class:"col-12"},Ae={class:"mb-3"},qe={key:0,class:"text-danger"},De={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},He={class:"alert-content"},Ne={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},Pe={class:"alert-content"},Le={class:"input-group"};function Ie(f,t,v,s,g,_){const h=n("Head"),y=n("PageHeader"),a=n("tab"),p=n("BCardHeader"),F=n("imageUpload"),k=n("BCardBody"),B=n("BCard"),R=n("BCol"),U=n("BRow"),w=n("BButton"),A=n("BModal"),q=n("Layout");return u(),P(q,null,{default:d(()=>[i(h,{title:"Vehicle Make"}),i(y,{title:"Create",pageTitle:"Vehicle Make"}),i(U,null,{default:d(()=>[i(R,{lg:"12"},{default:d(()=>[i(B,{"no-body":"",id:"tasksList"},{default:d(()=>[i(p,{class:"border-0"},{default:d(()=>[i(a)]),_:1}),i(k,{class:"border border-dashed border-end-0 border-start-0"},{default:d(()=>[e("form",{onSubmit:t[1]||(t[1]=re((...r)=>s.handleSubmit&&s.handleSubmit(...r),["prevent"]))},[e("div",Me,[e("div",Be,[e("div",we,[t[7]||(t[7]=e("label",{for:"select_country",class:"form-label"},"Transport Type",-1)),t[8]||(t[8]=e("select",{id:"select_country",class:"form-select"},[e("option",{disabled:"",value:""},"Choose Type..."),e("option",{value:""},"Taxi"),e("option",{value:""},"Delivery"),e("option",{value:""},"Both")],-1)),s.form.errors.country?(u(),b("span",Se,C(s.form.errors.country),1)):x("",!0)])]),e("div",Te,[e("div",Ve,[t[9]||(t[9]=e("label",{for:"name",class:"form-label"},"Vehicle Make Name",-1)),E(e("input",{type:"text",class:"form-control",placeholder:"Enter Name",id:"name","onUpdate:modelValue":t[0]||(t[0]=r=>s.form.name=r)},null,512),[[K,s.form.name]]),s.form.errors.name?(u(),b("span",ze,C(s.form.errors.name),1)):x("",!0)])]),e("div",Ee,[e("div",Fe,[t[10]||(t[10]=e("label",{for:"select_timezone",class:"form-label"},"Vehicle Make For",-1)),t[11]||(t[11]=e("select",{id:"select_timezone",class:"form-select"},[e("option",{disabled:"",value:""},"Choose Make..."),e("option",{value:""},"Taxi"),e("option",{value:""},"Bike"),e("option",{value:""},"Truck")],-1)),s.form.errors.timezone?(u(),b("span",Re,C(s.form.errors.timezone),1)):x("",!0)])]),e("div",Ue,[e("div",Ae,[t[12]||(t[12]=e("label",{for:"select_timezone",class:"form-label d-flex"},[M("Vehicle Image "),e("span",null,[e("h5",{class:"text-muted mt-1 mb-0 fs-13"},"(320px x 320px)")])],-1)),i(F),s.form.errors.timezone?(u(),b("span",qe,C(s.form.errors.timezone),1)):x("",!0)])]),t[13]||(t[13]=e("div",{class:"col-lg-12"},[e("div",{class:"text-end"},[e("button",{type:"submit",class:"btn btn-primary"},"Save")])],-1))])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[s.successMessage?(u(),b("div",De,[e("div",He,[t[14]||(t[14]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[15]||(t[15]=e("strong",null,"Success",-1)),M(" - "+C(s.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[2]||(t[2]=(...r)=>s.dismissMessage&&s.dismissMessage(...r)),"aria-label":"Close Success Message"})])])):x("",!0),s.alertMessage?(u(),b("div",Ne,[e("div",Pe,[t[16]||(t[16]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[17]||(t[17]=e("strong",null,"Alert",-1)),M(" - "+C(s.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[3]||(t[3]=(...r)=>s.dismissMessage&&s.dismissMessage(...r)),"aria-label":"Close Alert Message"})])])):x("",!0)]),i(A,{modelValue:s.modalFilter,"onUpdate:modelValue":t[6]||(t[6]=r=>s.modalFilter=r),"hide-footer":"","dialog-class":"modal-dialog-right",title:"Filter",class:"v-modal-custom",size:"sm"},{default:d(()=>[e("form",null,[e("div",Le,[E(e("select",{class:"form-select mb-3","aria-label":"Default select example","onUpdate:modelValue":t[4]||(t[4]=r=>s.filter.all=r)},t[18]||(t[18]=[e("option",{selected:""},"Select Status",-1),e("option",{value:"1"},"Yes",-1),e("option",{value:"0"},"No",-1)]),512),[[Z,s.filter.all]]),E(e("select",{class:"form-select mb-3","aria-label":"Default select example","onUpdate:modelValue":t[5]||(t[5]=r=>s.filter.locked=r)},t[19]||(t[19]=[e("option",{selected:""},"Select Status",-1),e("option",{value:"0"},"Inactive",-1),e("option",{value:"1"},"Active",-1)]),512),[[Z,s.filter.locked]])]),i(w,{variant:"primary",class:"float-end",onClick:s.fetchRoles},{default:d(()=>t[20]||(t[20]=[M(" Apply")])),_:1,__:[20]},8,["onClick"]),i(w,{variant:"outline-primary",class:"float-end mx-2",onClick:s.clearFilter},{default:d(()=>t[21]||(t[21]=[M("Clear")])),_:1,__:[21]},8,["onClick"])])]),_:1},8,["modelValue"])]),_:1})}const Xe=J(ke,[["render",Ie]]);export{Xe as default};
