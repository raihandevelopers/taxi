import{_ as ue,Z as me,O as he,P as ve,z as fe,C as be,r as h,D as re,X as x,g as T,o as i,x as de,w as _,a4 as ge,a as pe,U as se,k as u,l as e,J as s,i as r,F as ne,L as ce,B as d,y as v}from"./vendor-ddfbd976.js";import{s as ye}from"./search-2c17aadd.js";import{s as xe}from"./searchbar-3acbc236.js";import{i as we}from"./app-042fb454.js";import{_ as _e,a as ke,b as Be,c as qe,d as De,e as Me}from"./driver-76405b51.js";const Te={data(){return{rightOffcanvas:!1}},components:{Head:me,Multiselect:he,flatPickr:ve,Link:fe,search:ye,searchbar:xe},props:{successMessage:String,alertMessage:String,app_for:String,pick_icon:String,drop_icon:String,stop_icon:String,firebaseConfig:Object,request:Object},setup(l){var Z,W,b,N;const{t:a}=be(),o=h(l.request),t=h(!1),ie=h(!1),te=h(l.request?l.request.requestStops.data:[]),le=h(l.request?l.request.rejectedDrivers.data:[]),G=h(l.successMessage||""),C=h(l.alertMessage||""),I=h(null),F=h(null),w=h(null),L=h(null),S=h(null),ae=h([]),U=h("**********"),j=h("**********"),R=h("**********"),H=h("**********"),J=()=>{G.value="",C.value=""},Q=async()=>{map.value=x.map("map",{zoomControl:!0,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1}).setView([o.value.pick_lat,o.value.pick_lng],12),map.value.dragging.disable(),map.value.scrollWheelZoom.disable(),map.value.doubleClickZoom.disable(),x.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(map.value);const c=x.icon({iconUrl:"/image/map/pickup.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),n=x.icon({iconUrl:"/image/map/drop.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]});if(I.value=x.marker([o.value.pick_lat,o.value.pick_lng],{icon:c,draggable:!1}).addTo(map.value),F.value=x.marker([o.value.drop_lat,o.value.drop_lng],{icon:n,draggable:!1}).addTo(map.value),te.value.forEach((g,k)=>{const q=x.icon({iconUrl:"/image/map/"+k+".png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),m=x.marker([g.latitude,g.longitude],{icon:q,draggable:!1}).addTo(map.value);ae.value[k]=m}),o.value.poly_line){const g=ge.decode(o.value.poly_line);let k=x.polyline(g,{color:"blue"}).addTo(map.value);map.value.fitBounds(k)}},X=()=>{t.value=!1},P=async c=>{try{const n=await pe.get(`/rides-request/cancel/${c}`);o.value=n.data.request,t.value=!1,se.fire(a("success"),a("trip_cancelled_successfully"),"success")}catch{se.fire(a("error"),a("failed_to_cancel_trip"),"error")}},f=h(""),V=()=>{const c=new Date,n={weekday:"short",day:"numeric",month:"short",year:"numeric"};return c.toLocaleDateString("en-US",n)},K=async c=>{se.fire({title:"Are you sure?",text:"You want to be cancel this ride!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, Cancel it!",cancelButtonText:"Close"}).then(async n=>{if(n.isConfirmed)try{await P(c)}catch(g){console.error(a("error_deleting_data"),g),se.fire(a("error"),a("failed_to_delete_the_data"),"error")}})},$=(c,n)=>{if(!c||!n||isNaN(n.lat)||isNaN(n.lng)){console.error("Invalid marker or destination coordinates:",c,n);return}const g=2e3,k=performance.now(),q=y=>y<.5?2*y*y:-1+(4-2*y)*y,m=c.getLatLng().lat,B=c.getLatLng().lng,p=n.lat,A=n.lng;if(isNaN(m)||isNaN(B)){console.error("Invalid marker starting position:",c.getLatLng());return}const D=y=>{const oe=y-k,Y=Math.min(oe/g,1),O=q(Y),E=m+(p-m)*O,M=B+(A-B)*O;if(isNaN(E)||isNaN(M)){console.error("Calculated invalid LatLng during animation:",{currentLat:E,currentLng:M});return}c.setLatLng([E,M]),Y<1&&requestAnimationFrame(D)};requestAnimationFrame(D)},ee=c=>{const n="0123456789bcdefghjkmnpqrstuvwxyz",g=[16,8,4,2,1];let k=!0,q=-90,m=90,B=-180,p=180,A,D;if(c){for(let y=0;y<c.length;y++){let oe=c.charAt(y),Y=n.indexOf(oe);for(let O=0;O<5;O++){let E=g[O];if(k){let M=(B+p)/2;Y&E?B=M:p=M}else{let M=(q+m)/2;Y&E?q=M:m=M}k=!k}}return A=(q+m)/2,D=(B+p)/2,{lat:A,lon:D}}};re(async()=>{const c=localStorage.getItem("locale")||"en";if(await we(c),!o.value.is_cancelled&&!o.value.is_completed)try{const n=l.firebaseConfig;firebase.apps.length||firebase.initializeApp(n),firebase.database().ref(`requests/${o.value.id}`).on("value",q=>{const m=q.val();m&&(m.hasOwnProperty("is_completed")&&(o.value.is_completed=!0,f.value=a("ride_completed"),setTimeout(()=>{window.location.reload()},2e3)),m.accept!==1&&(o.value.driver_id=null,f.value=a("searching")),m.driver_id&&o.value.driver_id&&window.location.reload(),o.value.is_later&&m.hasOwnProperty("modified_by_driver")&&(f.value=a("driver_started"),o.value.is_driver_started=1),m.trip_arrived==1&&(f.value=a("driver_arrived"),o.value.is_driver_arrived=!0,o.value.converted_arrived_at||(o.value.converted_arrived_at=V())),m.trip_start==1&&(f.value=a("on_trip"),o.value.is_trip_start=!0,o.value.converted_trip_start_time||(o.value.converted_trip_start_time=V())),(m.is_cancelled||m.is_cancel)&&(o.value.is_cancelled=!0,setTimeout(()=>{window.location.reload()},2e3)))}),o.value.driverDetail.data&&firebase.database().ref("drivers/driver_"+o.value.driverDetail.data.id).on("value",m=>{const B=m.val(),p=ee(B.g);if(p){const A=[p.lat,p.lon];L.value=p.lat,S.value=p.lon;let D=B.vehicle_type_icon?`/image/map/${B.vehicle_type_icon}.png`:"";if(D.length>0)if(w.value){const y={lat:p.lat,lng:p.lon};$(w.value,y),w.value.setIcon(x.icon({iconUrl:D,iconSize:[30,30]}))}else w.value=x.marker(A,{icon:x.icon({iconUrl:D,iconSize:[30,30]})}).addTo(map.value),map.value.setView([L.value,S.value],15);else w.value&&(map.value.removeLayer(w.value),w.value=null)}})}catch(n){console.error("Error initializing Firebase or fetching settings:",n)}else o.value.is_cancelled?f.value=a("ride_cancelled"):o.value.is_completed?f.value=a("ride_completed"):o.value.is_result.value_start?f.value=a("on_trip"):o.value.is_driver_arrived?f.value=a("driver_arrived"):o.value.is_later&&o.value.is_driver_started?f.value=a("driver_started"):o.value.driver_id?f.value=a("accepted"):o.value.is_later?f.value=a("upcoming"):f.value=a("searching")}),re(()=>{Q()}),l.app_for!="demo"&&(o.value.userDetail&&(U.value=(Z=o.value.userDetail.data)==null?void 0:Z.mobile,j.value=(W=o.value.userDetail.data)==null?void 0:W.email),o.value.driverDetail&&(R.value=(b=o.value.driverDetail.data)==null?void 0:b.mobile,H.value=(N=o.value.driverDetail.data)==null?void 0:N.email));const z=h(a("normal"));return o.value.is_out_station&&(o.value.is_round_trip?z.value=a("round_trip_outstation_trip"):z.value=a("one_way_outstation_trip")),{result:o,modalShow:t,successMessage:G,alertMessage:C,rejected_drivers:le,deleteModal:K,closeModal:X,deleteData:P,stops:te,user_mobile:U,user_email:j,driver_mobile:R,driver_email:H,showStops:ie,dispatch_type:z,rideStatus:f,dismissMessage:J}}},Ce={class:"mb-1"},Le={class:"row"},Se={class:"col-xxl-4 col-md-6"},Ne={class:"card card-animate border border-dashed border-primary"},ze={class:"card-body text-center"},Ae={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Oe={class:"mb-3 fs-18"},Ee={class:"fs-14 mb-4"},Ie={key:0,class:"col-xxl-4 col-md-6"},Fe={class:"card card-animate border border-dashed border-primary"},Ue={class:"card-body text-center"},je={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Re={class:"mb-3 fs-18"},He={class:"fs-14 mb-4"},Pe={key:1,class:"col-xxl-4 col-md-6"},Ve={class:"card card-animate border border-dashed border-primary"},Ze={class:"card-body text-center"},We={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ye={class:"mb-3 fs-18"},Ge={class:"fs-14 mb-4"},Je={class:"col-xxl-4 col-md-6"},Qe={class:"card card-animate border border-dashed border-primary"},Xe={class:"card-body text-center"},Ke={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},$e={class:"mt-5 mb-3 fs-18"},es={class:"mb-1"},ss={class:"row"},ts={class:"col-xxl-4 col-md-6"},ls={class:"card card-animate border border-dashed border-primary"},as={class:"card-body"},os={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},is={class:"d-flex align-items-center mb-2"},rs={class:"flex-shrink-0"},ds={class:"text-muted mb-0"},ns={class:"flex-grow-1 ms-2"},cs={class:"mb-0"},_s={class:"d-flex align-items-center mb-2"},us={class:"flex-shrink-0"},ms={class:"text-muted mb-0"},hs={class:"flex-grow-1 ms-2"},vs={class:"mb-0"},fs={key:0},bs={key:1},gs={key:2},ps={class:"d-flex align-items-center mb-2"},ys={class:"flex-shrink-0"},xs={class:"text-muted mb-0"},ws={class:"flex-grow-1 ms-2"},ks={class:"mb-0"},Bs={class:"d-flex align-items-center mb-2"},qs={class:"flex-shrink-0"},Ds={class:"text-muted mb-0"},Ms={class:"flex-grow-1 ms-2"},Ts={class:"mb-0"},Cs={key:0,class:"d-flex align-items-center mb-2"},Ls={class:"flex-shrink-0"},Ss={class:"text-muted mb-0"},Ns={class:"flex-grow-1 ms-2"},zs={class:"mb-0"},As={class:"d-flex align-items-center mb-2"},Os={class:"flex-shrink-0"},Es={class:"text-muted mb-0"},Is={class:"flex-grow-1 ms-2"},Fs={class:"mb-0"},Us={key:1,class:"d-flex align-items-center mb-2"},js={class:"flex-shrink-0"},Rs={class:"text-muted mb-0"},Hs={class:"flex-grow-1 ms-2"},Ps={class:"mb-0"},Vs={class:"col-xxl-4 col-md-6"},Zs={class:"card card-animate border border-dashed border-primary"},Ws={class:"card-body"},Ys={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Gs={class:"d-flex align-items-center mb-2"},Js={class:"flex-shrink-0"},Qs={class:"text-muted mb-0"},Xs={class:"flex-grow-1 ms-2"},Ks={class:"mb-0"},$s={class:"d-flex align-items-center mb-2"},et={class:"flex-shrink-0"},st={class:"text-muted mb-0"},tt={class:"flex-grow-1 ms-2"},lt={class:"mb-0"},at={class:"d-flex align-items-center mb-2"},ot={class:"flex-shrink-0"},it={class:"text-muted mb-0"},rt={class:"flex-grow-1 ms-2"},dt={class:"mb-0"},nt={class:"d-flex align-items-center mb-2"},ct={class:"flex-shrink-0"},_t={class:"text-muted mb-0"},ut={class:"flex-grow-1 ms-2"},mt={class:"mb-0"},ht={key:0,class:"col-xxl-4 col-md-6"},vt={class:"card card-animate border border-dashed border-primary"},ft={class:"card-body"},bt={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},gt={class:"d-flex align-items-center mb-2"},pt={class:"flex-shrink-0"},yt={class:"text-muted mb-0"},xt={class:"flex-grow-1 ms-2"},wt={class:"mb-0"},kt={class:"d-flex align-items-center mb-2"},Bt={class:"flex-shrink-0"},qt={class:"text-muted mb-0"},Dt={class:"flex-grow-1 ms-2"},Mt={class:"mb-0"},Tt={class:"d-flex align-items-center mb-2"},Ct={class:"flex-shrink-0"},Lt={class:"text-muted mb-0"},St={class:"flex-grow-1 ms-2"},Nt={class:"mb-0"},zt={class:"d-flex align-items-center mb-2"},At={class:"flex-shrink-0"},Ot={class:"text-muted mb-0"},Et={class:"flex-grow-1 ms-2"},It={class:"mb-0"},Ft={key:0,class:"text-center"},Ut=["href"],jt={class:"mb-1"},Rt={class:"col-lg-6"},Ht={class:"card border mt-3"},Pt={class:"table-responsive"},Vt={class:"table align-middle position-relative table-nowrap"},Zt={class:"table-active"},Wt={class:"fs-16"},Yt={scope:"col"},Gt={scope:"col"},Jt={scope:"col"},Qt={key:0},Xt={key:1},Kt={key:0},$t={key:1,class:"text-danger"},el={key:2},sl={key:3},tl={key:4},ll={key:5},al={key:6},ol={key:0},il={key:1},rl={key:2},dl={key:3},nl={class:"bg-body bg-success-subtle"},cl={colspan:"2",class:"text-success"},_l={class:"text-success"},ul={class:"text-success"},ml={class:"text-success"},hl={class:"col-lg-6"},vl={class:"card border mt-3"},fl={class:"table-responsive"},bl={class:"table align-middle position-relative table-nowrap"},gl={class:"table-active"},pl={class:"fs-16"},yl={scope:"col"},xl={scope:"col"},wl={class:"text-danger"},kl={colspan:"2"},Bl={class:"text-danger"},ql={colspan:"2"},Dl={class:"text-danger"},Ml={colspan:"2"},Tl={colspan:"2"},Cl={key:0},Ll={key:1},Sl={class:"bg-body bg-success-subtle"},Nl={colspan:"2",class:"text-success"},zl={class:"text-success"},Al={class:"text-success"},Ol={class:"text-success"},El={class:"card"},Il={class:"mb-1"},Fl={class:"card-body"},Ul={class:"profile-timeline"},jl={class:"accordion accordion-flush",id:"accordionFlushExample"},Rl={class:"accordion-item border-0"},Hl={class:"accordion-header",id:"headingOne"},Pl={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"true","aria-controls":"collapseOne"},Vl={class:"d-flex align-items-center"},Zl={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Wl=["src"],Yl={class:"flex-grow-1 ms-3"},Gl={class:"fs-15 mb-0 fw-semibold text-primary"},Jl={class:"fw-normal text-muted"},Ql={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Xl={class:"accordion-body ms-5 ps-5 pt-0"},Kl={class:"mb-1 text-success"},$l={class:"accordion-item border-0"},ea={class:"accordion-header",id:"headingTwo"},sa={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseTwo"},ta={class:"d-flex align-items-center"},la={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},aa=["src"],oa={class:"flex-grow-1 ms-3"},ia={class:"fs-15 mb-1 fw-semibold text-danger"},ra={class:"fw-normal"},da={id:"collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},na={class:"accordion-body ms-5 ps-5 pt-0"},ca={class:"mb-1"},_a={key:0,class:"accordion-item border-0"},ua={class:"accordion-header",id:"headingThree"},ma={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},ha={class:"d-flex align-items-center"},va={class:"flex-shrink-0 border border-4 border-success rounded-circle"},fa=["src"],ba={class:"flex-grow-1 ms-3"},ga={class:"fs-15 mb-1 fw-semibold text-success"},pa={class:"fw-normal"},ya={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},xa={class:"accordion-body ms-5 ps-5 pt-0"},wa={class:"mb-1"},ka={key:1,class:"accordion-item border-0"},Ba={class:"accordion-header",id:"headingThree"},qa={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},Da={class:"d-flex align-items-center"},Ma={class:"flex-shrink-0 border border-4 border-warning rounded-circle"},Ta=["src"],Ca={class:"flex-grow-1 ms-3"},La={class:"fs-15 mb-1 fw-semibold text-warning"},Sa={class:"fw-normal"},Na={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},za={class:"accordion-body ms-5 ps-5 pt-0"},Aa={class:"mb-1"},Oa={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Ea={class:"accordion-body ms-5 ps-5 pt-0"},Ia={class:"mb-1 text-success"},Fa={key:2,class:"accordion-item border-0"},Ua={class:"accordion-header",id:"headingThree"},ja={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},Ra={class:"d-flex align-items-center"},Ha={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Pa=["src"],Va={class:"flex-grow-1 ms-3"},Za={class:"fs-15 mb-1 fw-semibold text-success"},Wa={class:"fw-normal"},Ya={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Ga={class:"accordion-body ms-5 ps-5 pt-0"},Ja={class:"mb-1"},Qa={key:3,class:"accordion-item border-0"},Xa={class:"accordion-header",id:"headingFour"},Ka={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},$a={class:"d-flex align-items-center"},eo={class:"flex-shrink-0 border border-4 border-success rounded-circle"},so=["src"],to={class:"flex-grow-1 ms-3"},lo={class:"fs-14 mb-0 fw-semibold text-success"},ao={class:"fw-normal text-muted"},oo={key:4,class:"accordion-item border-0"},io={class:"accordion-header",id:"headingFour"},ro={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},no={class:"d-flex align-items-center"},co={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},_o=["src"],uo={class:"flex-grow-1 ms-3"},mo={class:"fs-14 mb-0 fw-semibold text-danger"},ho={class:"fw-normal text-muted"},vo={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},fo={class:"alert-content"},bo={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},go={class:"alert-content"};function po(l,a,o,t,ie,te){const le=T("Head"),G=T("PageHeader"),C=T("BCardHeader"),I=T("BCardBody"),F=T("BCard"),w=T("BCol"),L=T("BRow"),S=T("BBadge"),ae=T("Layout");return i(),de(ae,null,{default:_(()=>{var U,j,R,H,J,Q,X,P,f,V,K,$,ee,z,Z,W;return[u(le,{title:"View Details"}),u(G,{title:l.$t("view_details"),pageTitle:l.$t("view_details"),pageLink:"/rides-request"},null,8,["title","pageTitle"]),u(L,null,{default:_(()=>[u(w,{lg:"12"},{default:_(()=>[u(F,{"no-body":"",id:"tasksList"},{default:_(()=>[u(C,null,{default:_(()=>[e("h4",Ce,s(l.$t("map_view")),1)]),_:1}),u(I,null,{default:_(()=>[e("div",Le,[a[6]||(a[6]=e("div",{class:"mt-3"},null,-1)),a[7]||(a[7]=e("div",{class:"col-sm-12"},[e("div",{class:"card"},[e("div",{class:"card-body"},[e("div",{id:"map",style:{height:"400px"}})])])],-1)),e("div",Se,[e("div",Ne,[e("div",ze,[e("h4",Ae,s(l.$t("pickup_details")),1),a[2]||(a[2]=e("div",{class:"flex-grow-1"},[e("img",{src:_e,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Oe,s(l.$t("location"))+":",1),e("h6",Ee,s(t.result.pick_address),1)])])]),t.stops.length>0?(i(),r("div",Ie,[e("div",Fe,[e("div",Ue,[e("h4",je,s(l.$t("stop_details")),1),a[3]||(a[3]=e("div",{class:"flex-grow-1"},[e("img",{src:_e,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Re,s(l.$t("location"))+":",1),(i(!0),r(ne,null,ce(t.stops,(b,N)=>(i(),r("h6",He,s(b.address),1))),256))])])])):d("",!0),t.result.drop_address?(i(),r("div",Pe,[e("div",Ve,[e("div",Ze,[e("h4",We,s(l.$t("drop_details")),1),a[4]||(a[4]=e("div",{class:"flex-grow-1"},[e("img",{src:ke,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Ye,s(l.$t("location"))+":",1),e("h6",Ge,s(t.result.drop_address),1)])])])):d("",!0),e("div",Je,[e("div",Qe,[e("div",Xe,[e("h4",Ke,s(l.$t("trip_status"))+" "+s(t.result.is_bid_ride?l.$t("bidding"):""),1),a[5]||(a[5]=e("div",{class:"flex-grow-1 mt-2"},[e("img",{src:Be,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",$e,s(t.rideStatus),1)])])])])]),_:1})]),_:1})]),_:1})]),_:1}),u(L,null,{default:_(()=>[u(w,{lg:"12"},{default:_(()=>[u(F,{"no-body":"",id:"tasksList"},{default:_(()=>[u(C,null,{default:_(()=>[e("h4",es,s(l.$t("request_details")),1)]),_:1}),u(I,null,{default:_(()=>{var b,N,c,n,g;return[e("div",ss,[e("div",ts,[e("div",ls,[e("div",as,[e("h4",os,s(l.$t("request")),1),a[8]||(a[8]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:qe,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",is,[e("div",rs,[e("p",ds,s(l.$t("zone"))+":",1)]),e("div",ns,[e("h6",cs,s(t.result.zone_name??"-"),1)])]),e("div",_s,[e("div",us,[e("p",ms,s(l.$t("transport_type"))+":",1)]),e("div",hs,[e("h6",vs,[t.result.transport_type==="taxi"?(i(),r("span",fs,s(l.$t("taxi")),1)):t.result.transport_type==="delivery"?(i(),r("span",bs,s(l.$t("delivery")),1)):(i(),r("span",gs,s(l.$t("all")),1))])])]),e("div",ps,[e("div",ys,[e("p",xs,s(l.$t("vehicle_type"))+":",1)]),e("div",ws,[e("h6",ks,s(t.result.vehicle_type_name??"-"),1)])]),e("div",Bs,[e("div",qs,[e("p",Ds,s(l.$t("trip_time"))+":",1)]),e("div",Ms,[e("h6",Ts,s(t.result.is_later?t.result.converted_trip_start_time:t.result.converted_created_at),1)])]),t.result.rental_package_name!=="-"?(i(),r("div",Cs,[e("div",Ls,[e("p",Ss,s(l.$t("rental_pack"))+":",1)]),e("div",Ns,[e("h6",zs,s(t.result.rental_package_name),1)])])):d("",!0),e("div",As,[e("div",Os,[e("p",Es,s(l.$t("ride_type"))+":",1)]),e("div",Is,[e("h6",Fs,s(t.dispatch_type),1)])]),t.result.is_round_trip?(i(),r("div",Us,[e("div",js,[e("p",Rs,s(l.$t("return_time"))+":",1)]),e("div",Hs,[e("h6",Ps,s(t.result.return_time),1)])])):d("",!0)])])]),e("div",Vs,[e("div",Zs,[e("div",Ws,[e("h4",Ys,s(l.$t("user_details")),1),a[9]||(a[9]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:De,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",Gs,[e("div",Js,[e("p",Qs,s(l.$t("name"))+":",1)]),e("div",Xs,[e("h6",Ks,s(t.result.userDetail?(b=t.result.userDetail.data)==null?void 0:b.name:"-"),1)])]),e("div",$s,[e("div",et,[e("p",st,s(l.$t("email"))+":",1)]),e("div",tt,[e("h6",lt,s(t.user_email),1)])]),e("div",at,[e("div",ot,[e("p",it,s(l.$t("mobile"))+":",1)]),e("div",rt,[e("h6",dt,s(t.user_mobile),1)])]),e("div",nt,[e("div",ct,[e("p",_t,s(l.$t("rating"))+":",1)]),e("div",ut,[e("h6",mt,s(t.result.userDetail?(N=t.result.userDetail.data)==null?void 0:N.rating:0),1)])])])])]),t.result.driverDetail?(i(),r("div",ht,[e("div",vt,[e("div",ft,[e("h4",bt,s(l.$t("driver_details")),1),a[11]||(a[11]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:Me,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",gt,[e("div",pt,[e("p",yt,s(l.$t("name"))+":",1)]),e("div",xt,[e("h6",wt,s(t.result.driverDetail?(c=t.result.driverDetail.data)==null?void 0:c.name:"-"),1)])]),e("div",kt,[e("div",Bt,[e("p",qt,s(l.$t("email"))+":",1)]),e("div",Dt,[e("h6",Mt,s(t.driver_email),1)])]),e("div",Tt,[e("div",Ct,[e("p",Lt,s(l.$t("mobile"))+":",1)]),e("div",St,[e("h6",Nt,s(t.driver_mobile),1)])]),e("div",zt,[e("div",At,[e("p",Ot,s(l.$t("rating"))+":",1)]),e("div",Et,[e("h6",It,s(t.result.driverDetail?(n=t.result.driverDetail.data)==null?void 0:n.rating:0),1)])]),!t.result.is_cancelled&&!t.result.is_completed?(i(),r("div",Ft,[t.result.driverDetail&&((g=t.result.driverDetail.data)!=null&&g.mobile)?(i(),r("a",{key:0,href:`tel:${t.result.driverDetail.data.mobile}`,type:"button",class:"btn btn-success btn-label waves-effect waves-light fs-18"},[a[10]||(a[10]=e("i",{class:"ri-phone-fill label-icon align-middle fs-16 me-2"},null,-1)),v(" "+s(l.$t("call")),1)],8,Ut)):d("",!0)])):d("",!0)])])])):d("",!0)])]}),_:1})]),_:1})]),_:1})]),_:1}),t.result.requestBill?(i(),de(L,{key:0},{default:_(()=>[u(w,{lg:"col-12"},{default:_(()=>[u(F,null,{default:_(()=>[u(C,null,{default:_(()=>[e("h4",jt,s(l.$t("bill_details")),1)]),_:1}),u(I,null,{default:_(()=>[u(L,null,{default:_(()=>[e("div",Rt,[e("div",Ht,[e("div",Pt,[e("table",Vt,[e("thead",Zt,[e("tr",Wt,[e("th",Yt,s(l.$t("title")),1),e("th",Gt,s(l.$t("description")),1),e("th",Jt,s(l.$t("price")),1)])]),t.result.accepted_ride_fare>0?(i(),r("tbody",Qt,[e("tr",null,[e("td",null,s(l.$t("bid_fare")),1),e("td",null,s(t.result.accepted_ride_fare),1)])])):(i(),r("tbody",Xt,[e("tr",null,[e("td",null,s(l.$t("base_price")),1),e("td",null,s(l.$t("for_first"))+" "+s(t.result.requestBill.data.base_distance)+" "+s(l.$t("km")),1),e("td",null,s(t.result.requestBill.data.base_price),1)]),e("tr",null,[e("td",null,s(l.$t("distance_price")),1),e("td",null,s(t.result.requestBill.data.total_distance>t.result.requestBill.data.base_distance?t.result.requestBill.data.total_distance-t.result.requestBill.data.base_distance:0)+" "+s(l.$t("km"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_distance)+" / "+s(l.$t("km")),1),e("td",null,s(t.result.requestBill.data.distance_price),1)]),e("tr",null,[e("td",null,s(l.$t("time_price")),1),e("td",null,s(t.result.requestBill.data.total_time)+" "+s(l.$t("min"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_time)+" / "+s(l.$t("min")),1),e("td",null,s(t.result.requestBill.data.time_price),1)]),t.result.requestBill.data.cancellation_fee>0?(i(),r("tr",Kt,[e("td",null,s(l.$t("cancellation_fee")),1),a[12]||(a[12]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.cancellation_fee),1)])):d("",!0),e("tr",null,[e("td",null,s(l.$t("service_tax")),1),a[13]||(a[13]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.service_tax),1)]),t.result.requestBill.data.promo_discount>0?(i(),r("tr",$t,[e("td",null,s(l.$t("promo_discount")),1),a[14]||(a[14]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.promo_discount),1)])):d("",!0),e("tr",null,[e("td",null,s(l.$t("admin_commission")),1),a[15]||(a[15]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.admin_commision),1)]),t.result.requestBill.data.additional_charges_amount>0?(i(),r("tr",el,[e("td",null,s(t.result.requestBill.data.additional_charges_reason),1),a[16]||(a[16]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.additional_charges_amount),1)])):d("",!0),t.result.requestBill.data.tips>0?(i(),r("tr",sl,[e("td",null,s(l.$t("driver_tips")),1),a[17]||(a[17]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.tips),1)])):d("",!0),t.result.requestBill.data.waiting_charge>0?(i(),r("tr",tl,[e("td",null,s(l.$t("waiting_charge")),1),e("td",null,s(l.$t("For"))+" "+s(t.result.requestBill.data.waiting_charge)+" min",1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.waiting_charge),1)])):d("",!0),t.result.requestBill.data.airport_surge_fee>0&&t.result.transport_type==="taxi"?(i(),r("tr",ll,[e("td",null,s(l.$t("airport_surge_fee")),1),a[18]||(a[18]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.airport_surge_fee),1)])):d("",!0),t.result.payment_opt?(i(),r("tr",al,[e("td",null,s(l.$t("payment_option")),1),a[19]||(a[19]=e("td",null,"-",-1)),t.result.payment_opt==0?(i(),r("td",ol,[u(S,{variant:"success",class:"text-uppercase"},{default:_(()=>[v(s(l.$t("card")),1)]),_:1})])):d("",!0),t.result.payment_opt==1?(i(),r("td",il,[u(S,{variant:"success",class:"text-uppercase"},{default:_(()=>[v(s(l.$t("cash")),1)]),_:1})])):d("",!0),t.result.payment_opt==2?(i(),r("td",rl,[u(S,{variant:"success",class:"text-uppercase"},{default:_(()=>[v(s(l.$t("wallet")),1)]),_:1})])):d("",!0),t.result.payment_opt==3?(i(),r("td",dl,[u(S,{variant:"success",class:"text-uppercase"},{default:_(()=>[v(s(l.$t("wallet/cash")),1)]),_:1})])):d("",!0)])):d("",!0)])),e("tfoot",nl,[e("tr",null,[e("td",cl,[e("h4",_l,s(l.$t("total")),1)]),e("td",ul,[e("h4",ml,s(t.result.requestBill.data.total_amount),1)])])])])])])]),e("div",hl,[e("div",vl,[e("div",fl,[e("table",bl,[e("thead",gl,[e("tr",pl,[e("th",yl,s(l.$t("title")),1),a[20]||(a[20]=e("th",{scope:"col"},null,-1)),e("th",xl,s(l.$t("price")),1)])]),e("tbody",null,[e("tr",wl,[e("td",kl,s(l.$t("admin_commission")),1),e("td",null,s(t.result.requestBill.data.admin_commision),1)]),e("tr",Bl,[e("td",ql,s(l.$t("service_tax")),1),e("td",null,s(t.result.requestBill.data.service_tax),1)]),e("tr",Dl,[e("td",Ml,s(l.$t("admin_commission_from_driver")),1),e("td",null,s(t.result.requestBill.data.admin_commision_from_driver),1)]),e("tr",null,[e("td",Tl,[v(s(l.$t("driver_commission"))+" ("+s(l.$t("included"))+" - ",1),t.result.requestBill.data.driver_tips>0?(i(),r("div",Cl,s(l.$t("driver_tips"))+" -"+s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.driver_tips),1)):d("",!0),t.result.requestBill.data.airport_surge_fee>0&&t.result.transport_type==="taxi"?(i(),r("div",Ll,s(l.$t("airport_surge_fee"))+" - "+s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.airport_surge_fee),1)):d("",!0),a[21]||(a[21]=v(") "))]),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.driver_commision),1)])]),e("tfoot",Sl,[e("tr",null,[e("td",Nl,[e("h4",zl,s(l.$t("total")),1)]),e("td",Al,[e("h4",Ol,s(t.result.requestBill.data.total_amount),1)])])])])])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):d("",!0),e("div",El,[u(C,null,{default:_(()=>[e("h4",Il,s(l.$t("request_timeline")),1)]),_:1}),e("div",Fl,[e("div",Ul,[e("div",jl,[e("div",Rl,[e("div",Hl,[e("a",Pl,[e("div",Vl,[e("div",Zl,[e("img",{src:t.result.userDetail?(U=t.result.userDetail.data)==null?void 0:U.profile_picture:"/assets/images/default-profile-picture.png",alt:"",class:"avatar-md rounded-circle"},null,8,Wl)]),e("div",Yl,[e("h6",Gl,[v(s(l.$t("ride_created"))+" -",1),e("span",Jl,s(t.result.converted_created_at),1)])])])])]),!t.result.driver_id&&!t.result.is_cancelled?(i(),r("div",Ql,[e("div",Xl,[e("h6",Kl,s(l.$t("searching")),1)])])):d("",!0)]),(i(!0),r(ne,null,ce(t.rejected_drivers,(b,N)=>(i(),r("div",$l,[e("div",ea,[e("a",sa,[e("div",ta,[e("div",la,[e("img",{src:b.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,aa)]),e("div",oa,[e("h6",ia,[v(s(l.$t("rejected"))+" - ",1),e("span",ra,s(b.converted_created_at),1)])])])])]),e("div",da,[e("div",na,[e("h5",ca,s(b.driver_name),1)])])]))),256)),t.result.driverDetail?(i(),r("div",_a,[e("div",ua,[e("a",ma,[e("div",ha,[e("div",va,[e("img",{src:(R=(j=t.result.driverDetail)==null?void 0:j.data)==null?void 0:R.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,fa)]),e("div",ba,[e("h6",ga,[v(s(l.$t("accepted"))+" - ",1),e("span",pa,s(t.result.converted_accepted_at),1)])])])])]),e("div",ya,[e("div",xa,[e("h5",wa,s((H=t.result.driverDetail.data)==null?void 0:H.name),1)])])])):d("",!0),t.result.is_driver_arrived?(i(),r("div",ka,[e("div",Ba,[e("a",qa,[e("div",Da,[e("div",Ma,[e("img",{src:(Q=(J=t.result.driverDetail)==null?void 0:J.data)==null?void 0:Q.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Ta)]),e("div",Ca,[e("h6",La,[v(s(l.$t("arrived"))+" - ",1),e("span",Sa,s(t.result.converted_arrived_at),1)])])])])]),e("div",Na,[e("div",za,[e("h5",Aa,s((P=(X=t.result.driverDetail)==null?void 0:X.data)==null?void 0:P.name),1)])]),t.result.is_trip_start?d("",!0):(i(),r("div",Oa,[e("div",Ea,[e("h6",Ia,s(l.$t("waiting")),1)])]))])):d("",!0),t.result.is_trip_start?(i(),r("div",Fa,[e("div",Ua,[e("a",ja,[e("div",Ra,[e("div",Ha,[e("img",{src:(V=(f=t.result.driverDetail)==null?void 0:f.data)==null?void 0:V.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Pa)]),e("div",Va,[e("h6",Za,[v(s(t.result.transport_type=="delivery"?l.$t("tripLoaded"):l.$t("tripStarted"))+" - ",1),e("span",Wa,s(t.result.converted_trip_start_time),1)])])])])]),e("div",Ya,[e("div",Ga,[e("h5",Ja,s(($=(K=t.result.driverDetail)==null?void 0:K.data)==null?void 0:$.name),1)])])])):d("",!0),t.result.is_completed?(i(),r("div",Qa,[e("div",Xa,[e("a",Ka,[e("div",$a,[e("div",eo,[e("img",{src:(z=(ee=t.result.driverDetail)==null?void 0:ee.data)==null?void 0:z.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,so)]),e("div",to,[e("h6",lo,[v(s(t.result.transport_type=="delivery"?l.$t("tripUnloaded"):l.$t("ride_completed"))+" -",1),e("span",ao,s(t.result.converted_completed_at),1)])])])])])])):d("",!0),t.result.is_cancelled?(i(),r("div",oo,[e("div",io,[e("a",ro,[e("div",no,[e("div",co,[e("img",{src:(W=(Z=t.result.userDetail)==null?void 0:Z.data)==null?void 0:W.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,_o)]),e("div",uo,[e("h6",mo,[v(s(l.$t("ride_cancelled"))+" -",1),e("span",ho,s(t.result.converted_cancelled_at),1)])])])])])])):d("",!0)])])])]),e("div",null,[t.successMessage?(i(),r("div",vo,[e("div",fo,[a[22]||(a[22]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),a[23]||(a[23]=v()),a[24]||(a[24]=e("strong",null,"Success",-1)),v(" - "+s(t.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:a[0]||(a[0]=(...b)=>t.dismissMessage&&t.dismissMessage(...b)),"aria-label":"Close Success Message"})])])):d("",!0),t.alertMessage?(i(),r("div",bo,[e("div",go,[a[25]||(a[25]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),a[26]||(a[26]=v()),a[27]||(a[27]=e("strong",null,"Alert",-1)),v(" - "+s(t.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:a[1]||(a[1]=(...b)=>t.dismissMessage&&t.dismissMessage(...b)),"aria-label":"Close Alert Message"})])])):d("",!0)])]}),_:1})}const qo=ue(Te,[["render",po]]);export{qo as default};
