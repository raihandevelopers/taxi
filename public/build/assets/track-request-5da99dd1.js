import{_ as _e,Z as ue,O as me,P as he,z as ve,C as fe,r as x,D as ie,g as S,o as i,x as re,w as m,a as de,U,k as h,l as e,J as s,i as r,F as oe,L as ae,B as n,y as b}from"./vendor-ddfbd976.js";import{s as ge}from"./search-2c17aadd.js";import{s as be}from"./searchbar-3acbc236.js";import{i as pe}from"./app-042fb454.js";import{_ as ne,a as ye,b as we,c as xe,d as ke,e as Be}from"./driver-76405b51.js";const qe={data(){return{rightOffcanvas:!1}},components:{Head:ue,Multiselect:me,flatPickr:he,Link:ve,search:ge,searchbar:be},props:{successMessage:String,alertMessage:String,googleMapKey:String,app_for:String,pick_icon:String,drop_icon:String,stop_icon:String,rejected_drivers:Object,firebaseConfig:Object,request:Object},setup(l){var R,A,N,W;const{t:o}=fe(),d=x(l.request),t=x(l.rejected_drivers),K=x(!1),D=x(null),se=x(l.request.requestProofs.data),te=x(l.request.requestStops.data),C=x(l.successMessage||""),P=x(l.alertMessage||""),I=x("**********"),z=x("**********"),T=x("**********"),E=x("**********"),le=()=>{C.value="",P.value=""},Y=a=>{const _=document.getElementById("map").offsetWidth,v=a.getSouthWest().lng();let u=a.getNorthEast().lng()-v;return u<0&&(u+=360),Math.floor(Math.log(_*360/u/256)/Math.LN2)},{googleMapKey:j}=l,Z=()=>{const a=l.pick_icon,c=l.drop_icon,_=d.value,v=new google.maps.LatLng(_.pick_lat,_.pick_lng),y=new google.maps.LatLng(_.drop_lat,_.drop_lng),u=_.stops,f=[];u&&u.forEach(g=>{const B=new google.maps.LatLng(g.latitude,g.longitude);f.push(B)});const w=new google.maps.LatLngBounds;if(w.extend(v),w.extend(y),f.forEach(g=>{w.extend(g)}),D.value=new google.maps.Map(document.getElementById("map"),{center:{lat:_.pick_lat,lng:_.pick_lng},zoom:Y(w)}),new google.maps.Marker({position:v,icon:a,map:D.value}),new google.maps.Marker({position:y,icon:c,map:D.value}),f.forEach(g=>{new google.maps.Marker({position:g,icon:c,map:D.value})}),D.value.fitBounds(w),_.poly_line){const g=google.maps.geometry.encoding.decodePath(_.poly_line);g.length>0&&new google.maps.Polyline({path:g,geodesic:!0,strokeColor:"#0066FF",strokeOpacity:4,strokeWeight:5}).setMap(D.value)}},J=()=>{K.value=!1},Q=async a=>{try{const c=await de.get(`/rides-request/cancel/${a}`);d.value=c.data.request,K.value=!1,U.fire(o("success"),o("trip_cancelled_successfully"),"success")}catch{U.fire(o("error"),o("failed_to_cancel_trip"),"error")}},p=x(""),H=()=>{const a=new Date,c={weekday:"short",day:"numeric",month:"short",year:"numeric"};return a.toLocaleDateString("en-US",c)},X=async a=>{U.fire({title:"Are you sure?",text:"You want to be cancel this ride!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, Cancel it!",cancelButtonText:"Close"}).then(async c=>{if(c.isConfirmed)try{const _=await de.get(`/rides-request/cancel/${a}`);if(_.data.success){const v=_.data.request;c.value=v,U.fire(o("success"),o("trip_cancelled_successfully"),"success")}}catch(_){console.error(o("error_deleting_data"),_),U.fire(o("error"),o("failed_to_delete_the_data"),"error")}})};let M=null;const $=(a,c,_,v)=>{let u=c.lat(),f=c.lng(),w=_.lat(),g=_.lng();if(u===w&&f===g){v!==void 0&&a.setIcon({...a.getIcon(),rotation:v}),a.setPosition(_),a.prevBearing=v;return}const B=k=>k<.5?2*k*k:-1+(4-2*k)*k,q=k=>{let F=B(k/60),G=new google.maps.LatLng(u+(w-u)*F,f+(g-f)*F);if(a.setPosition(G),v!==void 0){const V=a.prevBearing||v,O=v-V,ce=V+O*F;a.setIcon({...a.getIcon(),rotation:ce})}k<60?requestAnimationFrame(()=>q(k+1)):a.prevBearing=v};q(0)},ee=a=>{const c="0123456789bcdefghjkmnpqrstuvwxyz",_=[16,8,4,2,1];let v=!0,y=-90,u=90,f=-180,w=180,g,B;if(a){for(let q=0;q<a.length;q++){let k=a.charAt(q),F=c.indexOf(k);for(let G=0;G<5;G++){let V=_[G];if(v){let O=(f+w)/2;F&V?f=O:w=O}else{let O=(y+u)/2;F&V?y=O:u=O}v=!v}}return g=(y+u)/2,B=(f+w)/2,{lat:g,lon:B}}};ie(async()=>{const a=localStorage.getItem("locale")||"en";if(await pe(a),!d.value.is_cancelled&&!d.value.is_completed)try{const c=l.firebaseConfig;firebase.apps.length||firebase.initializeApp(c),firebase.database().ref(`requests/${d.value.id}`).on("value",y=>{const u=y.val();u&&(u.hasOwnProperty("is_completed")&&(d.value.is_completed=!0,p.value=o("ride_completed"),setTimeout(()=>{window.location.reload()},2e3)),u.accept!==1&&(d.value.driver_id=null,p.value=o("searching")),u.driver_id&&d.value.driver_id&&window.location.reload(),d.value.is_later&&u.hasOwnProperty("modified_by_driver")&&(p.value=o("driver_started"),d.value.is_driver_started=1),u.trip_arrived==1&&(p.value=o("driver_arrived"),d.value.is_driver_arrived=!0,d.value.converted_arrived_at||(d.value.converted_arrived_at=H())),u.trip_start==1&&(p.value=o("on_trip"),d.value.is_trip_start=!0,d.value.converted_trip_start_time||(d.value.converted_trip_start_time=H())),(u.is_cancelled||u.is_cancel)&&(d.value.is_cancelled=!0,setTimeout(()=>{window.location.reload()},2e3)))}),d.value.driverDetail.data&&firebase.database().ref("drivers/driver_"+d.value.driverDetail.data.id).on("value",u=>{const f=u.val(),w=f.g,g=ee(w);if(f&&g&&f.l&&f.l[0]&&f.l[1]){const B={lat:f.l[0],lng:f.l[1]};let q;q=`/image/map/${f.vehicle_type_icon}.png`;const k=new google.maps.LatLng(g.lat,g.lon);M?($(M,M.getPosition(),k,f.bearing),M.setPosition(B),M.setIcon({url:q,scaledSize:new google.maps.Size(30,30)})):M=new google.maps.Marker({position:B,map:D.value,icon:{url:q,scaledSize:new google.maps.Size(30,30)},title:"Driver Location"}),D.value.setCenter(B)}})}catch(c){console.error("Error initializing Firebase or fetching settings:",c)}else d.value.is_cancelled?p.value=o("ride_cancelled"):d.value.is_completed?p.value=o("ride_completed"):d.value.is_result.value_start?p.value=o("on_trip"):d.value.is_driver_arrived?p.value=o("driver_arrived"):d.value.is_later&&d.value.is_driver_started?p.value=o("driver_started"):d.value.driver_id?p.value=o("accepted"):d.value.is_later?p.value=o("upcoming"):p.value=o("searching")}),ie(()=>{if(!j){console.error("Google Map API Key is null or undefined.");return}const a=document.createElement("script");a.src=`https://maps.googleapis.com/maps/api/js?key=${j}&libraries=geometry`,a.onload=()=>{Z()},document.head.appendChild(a)}),l.app_for!="demo"&&(d.value.userDetail&&(I.value=(R=d.value.userDetail.data)==null?void 0:R.mobile,z.value=(A=d.value.userDetail.data)==null?void 0:A.email),d.value.driverDetail&&(T.value=(N=d.value.driverDetail.data)==null?void 0:N.mobile,E.value=(W=d.value.driverDetail.data)==null?void 0:W.email));const L=x(o("normal"));return d.value.is_bid_ride&&(L.value=o("bidding")),d.value.is_rental&&(L.value=o("rental")),d.value.is_out_station&&(d.value.is_round_trip?L.value=o("round_trip_outstation_trip"):L.value=o("one_way_outstation_trip")),{result:d,modalShow:K,successMessage:C,alertMessage:P,rejected_drivers:t,deleteModal:X,closeModal:J,deleteData:Q,stops:te,proof:se,rideStatus:p,user_mobile:I,user_email:z,dispatch_type:L,driver_mobile:T,driver_email:E,dismissMessage:le}}},De={class:"mb-1"},Me={class:"row"},Se={class:"col-xxl-4 col-md-6"},Ce={class:"card card-animate border border-dashed border-primary"},Le={class:"card-body text-center"},Te={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ee={class:"mb-3 fs-18"},Oe={class:"fs-14 mb-4"},Pe={key:0,class:"col-xxl-4 col-md-6"},Ie={class:"card card-animate border border-dashed border-primary"},ze={class:"card-body text-center"},Fe={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},je={class:"mb-3 fs-18"},He={class:"fs-14 mb-4"},Re={key:1,class:"col-xxl-4 col-md-6"},Ae={class:"card card-animate border border-dashed border-primary"},Ne={class:"card-body text-center"},We={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ge={class:"mb-3 fs-18"},Ve={class:"fs-14 mb-4"},Ue={class:"col-xxl-4 col-md-6"},Ke={class:"card card-animate border border-dashed border-primary"},Ye={class:"card-body text-center"},Ze={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Je={class:"mt-5 mb-3 fs-18"},Qe={class:"mb-1"},Xe={class:"row"},$e={class:"col-xxl-4 col-md-6"},es={class:"card card-animate border border-dashed border-primary"},ss={class:"card-body"},ts={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},ls={class:"d-flex align-items-center mb-2"},os={class:"flex-shrink-0"},as={class:"text-muted mb-0"},is={class:"flex-grow-1 ms-2"},rs={class:"mb-0"},ds={class:"d-flex align-items-center mb-2"},ns={class:"flex-shrink-0"},cs={class:"text-muted mb-0"},_s={class:"flex-grow-1 ms-2"},us={class:"mb-0"},ms={key:0},hs={key:1},vs={key:2},fs={class:"d-flex align-items-center mb-2"},gs={class:"flex-shrink-0"},bs={class:"text-muted mb-0"},ps={class:"flex-grow-1 ms-2"},ys={class:"mb-0"},ws={class:"d-flex align-items-center mb-2"},xs={class:"flex-shrink-0"},ks={class:"text-muted mb-0"},Bs={class:"flex-grow-1 ms-2"},qs={class:"mb-0"},Ds={key:0,class:"d-flex align-items-center mb-2"},Ms={class:"flex-shrink-0"},Ss={class:"text-muted mb-0"},Cs={class:"flex-grow-1 ms-2"},Ls={class:"mb-0"},Ts={class:"d-flex align-items-center mb-2"},Es={class:"flex-shrink-0"},Os={class:"text-muted mb-0"},Ps={class:"flex-grow-1 ms-2"},Is={class:"mb-0"},zs={key:1,class:"d-flex align-items-center mb-2"},Fs={class:"flex-shrink-0"},js={class:"text-muted mb-0"},Hs={class:"flex-grow-1 ms-2"},Rs={class:"mb-0"},As={class:"col-xxl-4 col-md-6"},Ns={class:"card card-animate border border-dashed border-primary"},Ws={class:"card-body"},Gs={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Vs={class:"d-flex align-items-center mb-2"},Us={class:"flex-shrink-0"},Ks={class:"text-muted mb-0"},Ys={class:"flex-grow-1 ms-2"},Zs={class:"mb-0"},Js={class:"d-flex align-items-center mb-2"},Qs={class:"flex-shrink-0"},Xs={class:"text-muted mb-0"},$s={class:"flex-grow-1 ms-2"},et={class:"mb-0"},st={class:"d-flex align-items-center mb-2"},tt={class:"flex-shrink-0"},lt={class:"text-muted mb-0"},ot={class:"flex-grow-1 ms-2"},at={class:"mb-0"},it={class:"d-flex align-items-center mb-2"},rt={class:"flex-shrink-0"},dt={class:"text-muted mb-0"},nt={class:"flex-grow-1 ms-2"},ct={class:"mb-0"},_t={key:0,class:"col-xxl-4 col-md-6"},ut={class:"card card-animate border border-dashed border-primary"},mt={class:"card-body"},ht={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},vt={class:"d-flex align-items-center mb-2"},ft={class:"flex-shrink-0"},gt={class:"text-muted mb-0"},bt={class:"flex-grow-1 ms-2"},pt={class:"mb-0"},yt={class:"d-flex align-items-center mb-2"},wt={class:"flex-shrink-0"},xt={class:"text-muted mb-0"},kt={class:"flex-grow-1 ms-2"},Bt={class:"mb-0"},qt={class:"d-flex align-items-center mb-2"},Dt={class:"flex-shrink-0"},Mt={class:"text-muted mb-0"},St={class:"flex-grow-1 ms-2"},Ct={class:"mb-0"},Lt={class:"d-flex align-items-center mb-2"},Tt={class:"flex-shrink-0"},Et={class:"text-muted mb-0"},Ot={class:"flex-grow-1 ms-2"},Pt={class:"mb-0"},It={key:0,class:"text-center"},zt=["href"],Ft={class:"mb-1"},jt={class:"col-lg-6"},Ht={class:"card border mt-3"},Rt={class:"table-responsive"},At={class:"table align-middle position-relative table-nowrap"},Nt={class:"table-active"},Wt={class:"fs-16"},Gt={scope:"col"},Vt={scope:"col"},Ut={scope:"col"},Kt={key:0},Yt={key:1},Zt={key:0},Jt={key:1,class:"text-danger"},Qt={key:2},Xt={key:3},$t={key:4},el={key:5},sl={key:6},tl={key:0},ll={key:1},ol={key:2},al={key:3},il={class:"bg-body bg-success-subtle"},rl={colspan:"2",class:"text-success"},dl={class:"text-success"},nl={class:"text-success"},cl={class:"text-success"},_l={class:"col-lg-6"},ul={class:"card border mt-3"},ml={class:"table-responsive"},hl={class:"table align-middle position-relative table-nowrap"},vl={class:"table-active"},fl={class:"fs-16"},gl={scope:"col"},bl={scope:"col"},pl={class:"text-danger"},yl={colspan:"2"},wl={class:"text-danger"},xl={colspan:"2"},kl={class:"text-danger"},Bl={colspan:"2"},ql={colspan:"2"},Dl={key:0},Ml={key:1},Sl={class:"bg-body bg-success-subtle"},Cl={colspan:"2",class:"text-success"},Ll={class:"text-success"},Tl={class:"text-success"},El={class:"text-success"},Ol={class:"card"},Pl={class:"mb-1"},Il={class:"card-body"},zl={class:"profile-timeline"},Fl={class:"accordion accordion-flush",id:"accordionFlushExample"},jl={class:"accordion-item border-0"},Hl={class:"accordion-header",id:"headingOne"},Rl={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"true","aria-controls":"collapseOne"},Al={class:"d-flex align-items-center"},Nl={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Wl=["src"],Gl={class:"flex-grow-1 ms-3"},Vl={class:"fs-15 mb-0 fw-semibold text-primary"},Ul={class:"fw-normal text-muted"},Kl={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Yl={class:"accordion-body ms-5 ps-5 pt-0"},Zl={key:0,class:"mb-1 text-warning"},Jl={key:1,class:"mb-1 text-success"},Ql={class:"accordion-item border-0"},Xl={class:"accordion-header",id:"headingTwo"},$l={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseTwo"},eo={class:"d-flex align-items-center"},so={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},to=["src"],lo={class:"flex-grow-1 ms-3"},oo={class:"fs-15 mb-1 fw-semibold text-danger"},ao={class:"fw-normal"},io={id:"collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},ro={class:"accordion-body ms-5 ps-5 pt-0"},no={class:"mb-1"},co={key:0,class:"accordion-item border-0"},_o={class:"accordion-header",id:"headingThree"},uo={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},mo={class:"d-flex align-items-center"},ho={class:"flex-shrink-0 border border-4 border-success rounded-circle"},vo=["src"],fo={class:"flex-grow-1 ms-3"},go={class:"fs-15 mb-1 fw-semibold text-success"},bo={class:"fw-normal"},po={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},yo={class:"accordion-body ms-5 ps-5 pt-0"},wo={class:"mb-1"},xo={key:1,class:"accordion-item border-0"},ko={class:"accordion-header",id:"headingThree"},Bo={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},qo={class:"d-flex align-items-center"},Do={class:"flex-shrink-0 border border-4 border-warning rounded-circle"},Mo=["src"],So={class:"flex-grow-1 ms-3"},Co={class:"fs-15 mb-1 fw-semibold text-warning"},Lo={class:"fw-normal"},To={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Eo={class:"accordion-body ms-5 ps-5 pt-0"},Oo={class:"mb-1"},Po={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Io={class:"accordion-body ms-5 ps-5 pt-0"},zo={class:"mb-1 text-success"},Fo={key:2,class:"accordion-item border-0"},jo={class:"accordion-header",id:"headingThree"},Ho={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},Ro={class:"d-flex align-items-center"},Ao={class:"flex-shrink-0 border border-4 border-success rounded-circle"},No=["src"],Wo={class:"flex-grow-1 ms-3"},Go={class:"fs-15 mb-1 fw-semibold text-success"},Vo={class:"fw-normal"},Uo={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Ko={class:"accordion-body ms-5 ps-5 pt-0"},Yo={class:"mb-1"},Zo={key:3,class:"accordion-item border-0"},Jo={class:"accordion-header",id:"headingFour"},Qo={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},Xo={class:"d-flex align-items-center"},$o={class:"flex-shrink-0 border border-4 border-success rounded-circle"},ea=["src"],sa={class:"flex-grow-1 ms-3"},ta={class:"fs-14 mb-0 fw-semibold text-success"},la={class:"fw-normal text-muted"},oa={key:4,class:"accordion-item border-0"},aa={class:"accordion-header",id:"headingFour"},ia={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},ra={class:"d-flex align-items-center"},da={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},na=["src"],ca={class:"flex-grow-1 ms-3"},_a={class:"fs-14 mb-0 fw-semibold text-danger"},ua={class:"fw-normal text-muted"},ma={key:1,class:"card"},ha={class:"mb-1"},va={class:"card-body"},fa={class:"row"},ga={class:"col-lg-4"},ba=["src"],pa={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},ya={class:"alert-content"},wa={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},xa={class:"alert-content"};function ka(l,o,d,t,K,D){const se=S("Head"),te=S("PageHeader"),C=S("BCardHeader"),P=S("BCardBody"),I=S("BCard"),z=S("BCol"),T=S("BRow"),E=S("BBadge"),le=S("Layout");return i(),re(le,null,{default:m(()=>{var Y,j,Z,J,Q,p,H,X,M,$,ee,L,R,A,N,W;return[h(se,{title:"View Details"}),h(te,{title:l.$t("view_details"),pageTitle:l.$t("view_details"),pageLink:"/rides-request"},null,8,["title","pageTitle"]),h(T,null,{default:m(()=>[h(z,{lg:"12"},{default:m(()=>[h(I,{"no-body":"",id:"tasksList"},{default:m(()=>[h(C,null,{default:m(()=>[e("h4",De,s(l.$t("map_view")),1)]),_:1}),h(P,null,{default:m(()=>[e("div",Me,[o[6]||(o[6]=e("div",{class:"mt-3"},null,-1)),o[7]||(o[7]=e("div",{class:"col-sm-12"},[e("div",{class:"card"},[e("div",{class:"card-body"},[e("div",{id:"map",style:{height:"400px"}})])])],-1)),e("div",Se,[e("div",Ce,[e("div",Le,[e("h4",Te,s(l.$t("pickup_details")),1),o[2]||(o[2]=e("div",{class:"flex-grow-1"},[e("img",{src:ne,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Ee,s(l.$t("location"))+":",1),e("h6",Oe,s(t.result.pick_address),1)])])]),t.stops.length>0?(i(),r("div",Pe,[e("div",Ie,[e("div",ze,[e("h4",Fe,s(l.$t("stop_details")),1),o[3]||(o[3]=e("div",{class:"flex-grow-1"},[e("img",{src:ne,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",je,s(l.$t("location"))+":",1),(i(!0),r(oe,null,ae(t.stops,(a,c)=>(i(),r("h6",He,s(a.address),1))),256))])])])):n("",!0),t.result.drop_address?(i(),r("div",Re,[e("div",Ae,[e("div",Ne,[e("h4",We,s(l.$t("drop_details")),1),o[4]||(o[4]=e("div",{class:"flex-grow-1"},[e("img",{src:ye,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Ge,s(l.$t("location"))+":",1),e("h6",Ve,s(t.result.drop_address),1)])])])):n("",!0),e("div",Ue,[e("div",Ke,[e("div",Ye,[e("h4",Ze,s(l.$t("trip_status"))+" "+s(t.result.is_bid_ride?l.$t("bidding"):""),1),o[5]||(o[5]=e("div",{class:"flex-grow-1 mt-2"},[e("img",{src:we,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Je,s(t.rideStatus),1)])])])])]),_:1})]),_:1})]),_:1})]),_:1}),h(T,null,{default:m(()=>[h(z,{lg:"12"},{default:m(()=>[h(I,{"no-body":"",id:"tasksList"},{default:m(()=>[h(C,null,{default:m(()=>[e("h4",Qe,s(l.$t("request_details")),1)]),_:1}),h(P,null,{default:m(()=>{var a,c,_,v,y;return[e("div",Xe,[e("div",$e,[e("div",es,[e("div",ss,[e("h4",ts,s(l.$t("request")),1),o[8]||(o[8]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:xe,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",ls,[e("div",os,[e("p",as,s(l.$t("zone"))+":",1)]),e("div",is,[e("h6",rs,s(t.result.zone_name??"-"),1)])]),e("div",ds,[e("div",ns,[e("p",cs,s(l.$t("transport_type"))+":",1)]),e("div",_s,[e("h6",us,[t.result.transport_type==="taxi"?(i(),r("span",ms,s(l.$t("taxi")),1)):t.result.transport_type==="delivery"?(i(),r("span",hs,s(l.$t("delivery")),1)):(i(),r("span",vs,s(l.$t("all")),1))])])]),e("div",fs,[e("div",gs,[e("p",bs,s(l.$t("vehicle_type"))+":",1)]),e("div",ps,[e("h6",ys,s(t.result.vehicle_type_name??"-"),1)])]),e("div",ws,[e("div",xs,[e("p",ks,s(l.$t("trip_time"))+":",1)]),e("div",Bs,[e("h6",qs,s(t.result.is_later?t.result.converted_trip_start_time:t.result.converted_created_at),1)])]),t.result.rental_package_name!=="-"?(i(),r("div",Ds,[e("div",Ms,[e("p",Ss,s(l.$t("rental_pack"))+":",1)]),e("div",Cs,[e("h6",Ls,s(t.result.rental_package_name),1)])])):n("",!0),e("div",Ts,[e("div",Es,[e("p",Os,s(l.$t("ride_type"))+":",1)]),e("div",Ps,[e("h6",Is,s(t.dispatch_type),1)])]),t.result.is_round_trip?(i(),r("div",zs,[e("div",Fs,[e("p",js,s(l.$t("return_time"))+":",1)]),e("div",Hs,[e("h6",Rs,s(t.result.return_time),1)])])):n("",!0)])])]),e("div",As,[e("div",Ns,[e("div",Ws,[e("h4",Gs,s(l.$t("user_details")),1),o[9]||(o[9]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:ke,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",Vs,[e("div",Us,[e("p",Ks,s(l.$t("name"))+":",1)]),e("div",Ys,[e("h6",Zs,s(t.result.userDetail?(a=t.result.userDetail.data)==null?void 0:a.name:"-"),1)])]),e("div",Js,[e("div",Qs,[e("p",Xs,s(l.$t("email"))+":",1)]),e("div",$s,[e("h6",et,s(t.user_email),1)])]),e("div",st,[e("div",tt,[e("p",lt,s(l.$t("mobile"))+":",1)]),e("div",ot,[e("h6",at,s(t.user_mobile),1)])]),e("div",it,[e("div",rt,[e("p",dt,s(l.$t("rating"))+":",1)]),e("div",nt,[e("h6",ct,s(t.result.userDetail?(c=t.result.userDetail.data)==null?void 0:c.rating:0),1)])])])])]),t.result.driverDetail?(i(),r("div",_t,[e("div",ut,[e("div",mt,[e("h4",ht,s(l.$t("driver_details")),1),o[11]||(o[11]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:Be,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",vt,[e("div",ft,[e("p",gt,s(l.$t("name"))+":",1)]),e("div",bt,[e("h6",pt,s(t.result.driverDetail?(_=t.result.driverDetail.data)==null?void 0:_.name:"-"),1)])]),e("div",yt,[e("div",wt,[e("p",xt,s(l.$t("email"))+":",1)]),e("div",kt,[e("h6",Bt,s(t.driver_email),1)])]),e("div",qt,[e("div",Dt,[e("p",Mt,s(l.$t("mobile"))+":",1)]),e("div",St,[e("h6",Ct,s(t.driver_mobile),1)])]),e("div",Lt,[e("div",Tt,[e("p",Et,s(l.$t("rating"))+":",1)]),e("div",Ot,[e("h6",Pt,s(t.result.driverDetail?(v=t.result.driverDetail.data)==null?void 0:v.rating:0),1)])]),!t.result.is_cancelled&&!t.result.is_completed?(i(),r("div",It,[t.result.driverDetail&&((y=t.result.driverDetail.data)!=null&&y.mobile)?(i(),r("a",{key:0,href:`tel:${t.result.driverDetail.data.mobile}`,type:"button",class:"btn btn-success btn-label waves-effect waves-light fs-18"},[o[10]||(o[10]=e("i",{class:"ri-phone-fill label-icon align-middle fs-16 me-2"},null,-1)),b(" "+s(l.$t("call")),1)],8,zt)):n("",!0)])):n("",!0)])])])):n("",!0)])]}),_:1})]),_:1})]),_:1})]),_:1}),t.result.requestBill?(i(),re(T,{key:0},{default:m(()=>[h(z,{lg:"col-12"},{default:m(()=>[h(I,null,{default:m(()=>[h(C,null,{default:m(()=>[e("h4",Ft,s(l.$t("bill_details")),1)]),_:1}),h(P,null,{default:m(()=>[h(T,null,{default:m(()=>[e("div",jt,[e("div",Ht,[e("div",Rt,[e("table",At,[e("thead",Nt,[e("tr",Wt,[e("th",Gt,s(l.$t("title")),1),e("th",Vt,s(l.$t("description")),1),e("th",Ut,s(l.$t("price")),1)])]),t.result.accepted_ride_fare>0?(i(),r("tbody",Kt,[e("tr",null,[e("td",null,s(l.$t("bid_fare")),1),e("td",null,s(t.result.accepted_ride_fare),1)])])):(i(),r("tbody",Yt,[e("tr",null,[e("td",null,s(l.$t("base_price")),1),e("td",null,s(l.$t("for_first"))+" "+s(t.result.requestBill.data.base_distance)+" "+s(l.$t("km")),1),e("td",null,s(t.result.requestBill.data.base_price),1)]),e("tr",null,[e("td",null,s(l.$t("distance_price")),1),e("td",null,s(t.result.requestBill.data.total_distance>t.result.requestBill.data.base_distance?t.result.requestBill.data.total_distance-t.result.requestBill.data.base_distance:0)+" "+s(l.$t("km"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_distance)+" / "+s(l.$t("km")),1),e("td",null,s(t.result.requestBill.data.distance_price),1)]),e("tr",null,[e("td",null,s(l.$t("time_price")),1),e("td",null,s(t.result.requestBill.data.total_time)+" "+s(l.$t("min"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_time)+" / "+s(l.$t("min")),1),e("td",null,s(t.result.requestBill.data.time_price),1)]),t.result.requestBill.data.cancellation_fee>0?(i(),r("tr",Zt,[e("td",null,s(l.$t("cancellation_fee")),1),o[12]||(o[12]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.cancellation_fee),1)])):n("",!0),e("tr",null,[e("td",null,s(l.$t("service_tax")),1),o[13]||(o[13]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.service_tax),1)]),t.result.requestBill.data.promo_discount>0?(i(),r("tr",Jt,[e("td",null,s(l.$t("promo_discount")),1),o[14]||(o[14]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.promo_discount),1)])):n("",!0),e("tr",null,[e("td",null,s(l.$t("admin_commission")),1),o[15]||(o[15]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.admin_commision),1)]),t.result.requestBill.data.additional_charges_amount>0?(i(),r("tr",Qt,[e("td",null,s(t.result.requestBill.data.additional_charges_reason),1),o[16]||(o[16]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.additional_charges_amount),1)])):n("",!0),t.result.requestBill.data.tips>0?(i(),r("tr",Xt,[e("td",null,s(l.$t("driver_tips")),1),o[17]||(o[17]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.tips),1)])):n("",!0),t.result.requestBill.data.waiting_charge>0?(i(),r("tr",$t,[e("td",null,s(l.$t("waiting_charge")),1),e("td",null,s(l.$t("For"))+" "+s(t.result.requestBill.data.waiting_charge)+" min",1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.waiting_charge),1)])):n("",!0),t.result.requestBill.data.airport_surge_fee>0&&t.result.transport_type==="taxi"?(i(),r("tr",el,[e("td",null,s(l.$t("airport_surge_fee")),1),o[18]||(o[18]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.airport_surge_fee),1)])):n("",!0),t.result.payment_opt?(i(),r("tr",sl,[e("td",null,s(l.$t("payment_option")),1),o[19]||(o[19]=e("td",null,"-",-1)),t.result.payment_opt==0?(i(),r("td",tl,[h(E,{variant:"success",class:"text-uppercase"},{default:m(()=>[b(s(l.$t("card")),1)]),_:1})])):n("",!0),t.result.payment_opt==1?(i(),r("td",ll,[h(E,{variant:"success",class:"text-uppercase"},{default:m(()=>[b(s(l.$t("cash")),1)]),_:1})])):n("",!0),t.result.payment_opt==2?(i(),r("td",ol,[h(E,{variant:"success",class:"text-uppercase"},{default:m(()=>[b(s(l.$t("wallet")),1)]),_:1})])):n("",!0),t.result.payment_opt==3?(i(),r("td",al,[h(E,{variant:"success",class:"text-uppercase"},{default:m(()=>[b(s(l.$t("wallet/cash")),1)]),_:1})])):n("",!0)])):n("",!0)])),e("tfoot",il,[e("tr",null,[e("td",rl,[e("h4",dl,s(l.$t("total")),1)]),e("td",nl,[e("h4",cl,s(t.result.requestBill.data.total_amount),1)])])])])])])]),e("div",_l,[e("div",ul,[e("div",ml,[e("table",hl,[e("thead",vl,[e("tr",fl,[e("th",gl,s(l.$t("title")),1),o[20]||(o[20]=e("th",{scope:"col"},null,-1)),e("th",bl,s(l.$t("price")),1)])]),e("tbody",null,[e("tr",pl,[e("td",yl,s(l.$t("admin_commission")),1),e("td",null,s(t.result.requestBill.data.admin_commision),1)]),e("tr",wl,[e("td",xl,s(l.$t("service_tax")),1),e("td",null,s(t.result.requestBill.data.service_tax),1)]),e("tr",kl,[e("td",Bl,s(l.$t("admin_commission_from_driver")),1),e("td",null,s(t.result.requestBill.data.admin_commision_from_driver),1)]),e("tr",null,[e("td",ql,[b(s(l.$t("driver_commission"))+" ("+s(l.$t("included"))+" - ",1),t.result.requestBill.data.driver_tips>0?(i(),r("div",Dl,s(l.$t("driver_tips"))+" -"+s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.driver_tips),1)):n("",!0),t.result.requestBill.data.airport_surge_fee>0&&t.result.transport_type==="taxi"?(i(),r("div",Ml,s(l.$t("airport_surge_fee"))+" - "+s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.airport_surge_fee),1)):n("",!0),o[21]||(o[21]=b(") "))]),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.driver_commision),1)])]),e("tfoot",Sl,[e("tr",null,[e("td",Cl,[e("h4",Ll,s(l.$t("total")),1)]),e("td",Tl,[e("h4",El,s(t.result.requestBill.data.total_amount),1)])])])])])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):n("",!0),e("div",Ol,[h(C,null,{default:m(()=>[e("h4",Pl,s(l.$t("request_timeline")),1)]),_:1}),e("div",Il,[e("div",zl,[e("div",Fl,[e("div",jl,[e("div",Hl,[e("a",Rl,[e("div",Al,[e("div",Nl,[e("img",{src:t.result.userDetail?(Y=t.result.userDetail.data)==null?void 0:Y.profile_picture:"/assets/images/default-profile-picture.png",alt:"",class:"avatar-md rounded-circle"},null,8,Wl)]),e("div",Gl,[e("h6",Vl,[b(s(l.$t("ride_created"))+" -",1),e("span",Ul,s(t.result.converted_created_at),1)])])])])]),!t.result.driver_id&&!t.result.is_cancelled?(i(),r("div",Kl,[e("div",Yl,[t.result.is_later&&!t.result.onSearch?(i(),r("h6",Zl,s(l.$t("yet_to_search")),1)):!t.result.driverDetail&&!t.result.is_cancelled&&!t.result.is_completed?(i(),r("h6",Jl,s(l.$t("searching")),1)):n("",!0)])])):n("",!0)]),(i(!0),r(oe,null,ae(t.rejected_drivers,(a,c)=>(i(),r("div",Ql,[e("div",Xl,[e("a",$l,[e("div",eo,[e("div",so,[e("img",{src:a.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,to)]),e("div",lo,[e("h6",oo,[b(s(l.$t("rejected"))+" - ",1),e("span",ao,s(a.converted_created_at),1)])])])])]),e("div",io,[e("div",ro,[e("h5",no,s(a.driver_name),1)])])]))),256)),t.result.driverDetail?(i(),r("div",co,[e("div",_o,[e("a",uo,[e("div",mo,[e("div",ho,[e("img",{src:(Z=(j=t.result.driverDetail)==null?void 0:j.data)==null?void 0:Z.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,vo)]),e("div",fo,[e("h6",go,[b(s(l.$t("accepted"))+" - ",1),e("span",bo,s(t.result.converted_accepted_at),1)])])])])]),e("div",po,[e("div",yo,[e("h5",wo,s((J=t.result.driverDetail.data)==null?void 0:J.name),1)])])])):n("",!0),t.result.is_driver_arrived?(i(),r("div",xo,[e("div",ko,[e("a",Bo,[e("div",qo,[e("div",Do,[e("img",{src:(p=(Q=t.result.driverDetail)==null?void 0:Q.data)==null?void 0:p.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Mo)]),e("div",So,[e("h6",Co,[b(s(l.$t("arrived"))+" - ",1),e("span",Lo,s(t.result.converted_arrived_at),1)])])])])]),e("div",To,[e("div",Eo,[e("h5",Oo,s((X=(H=t.result.driverDetail)==null?void 0:H.data)==null?void 0:X.name),1)])]),t.result.is_trip_start?n("",!0):(i(),r("div",Po,[e("div",Io,[e("h6",zo,s(l.$t("waiting")),1)])]))])):n("",!0),t.result.is_trip_start?(i(),r("div",Fo,[e("div",jo,[e("a",Ho,[e("div",Ro,[e("div",Ao,[e("img",{src:($=(M=t.result.driverDetail)==null?void 0:M.data)==null?void 0:$.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,No)]),e("div",Wo,[e("h6",Go,[b(s(t.result.transport_type=="delivery"?l.$t("tripLoaded"):l.$t("tripStarted"))+" - ",1),e("span",Vo,s(t.result.converted_trip_start_time),1)])])])])]),e("div",Uo,[e("div",Ko,[e("h5",Yo,s((L=(ee=t.result.driverDetail)==null?void 0:ee.data)==null?void 0:L.name),1)])])])):n("",!0),t.result.is_completed?(i(),r("div",Zo,[e("div",Jo,[e("a",Qo,[e("div",Xo,[e("div",$o,[e("img",{src:(A=(R=t.result.driverDetail)==null?void 0:R.data)==null?void 0:A.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,ea)]),e("div",sa,[e("h6",ta,[b(s(t.result.transport_type=="delivery"?l.$t("tripUnloaded"):l.$t("ride_completed"))+" -",1),e("span",la,s(t.result.converted_completed_at),1)])])])])])])):n("",!0),t.result.is_cancelled?(i(),r("div",oa,[e("div",aa,[e("a",ia,[e("div",ra,[e("div",da,[e("img",{src:(W=(N=t.result.userDetail)==null?void 0:N.data)==null?void 0:W.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,na)]),e("div",ca,[e("h6",_a,[b(s(l.$t("ride_cancelled"))+" -",1),e("span",ua,s(t.result.converted_cancelled_at),1)])])])])])])):n("",!0)])])])]),t.proof.length>0?(i(),r("div",ma,[h(C,null,{default:m(()=>[e("h4",ha,s(l.$t("request_proof")),1)]),_:1}),e("div",va,[e("div",fa,[(i(!0),r(oe,null,ae(t.proof,(a,c)=>(i(),r("div",ga,[e("img",{src:a.proof_image,style:{height:"100%",width:"100%"}},null,8,ba)]))),256))])])])):n("",!0),e("div",null,[t.successMessage?(i(),r("div",pa,[e("div",ya,[o[22]||(o[22]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),o[23]||(o[23]=b()),o[24]||(o[24]=e("strong",null,"Success",-1)),b(" - "+s(t.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:o[0]||(o[0]=(...a)=>t.dismissMessage&&t.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):n("",!0),t.alertMessage?(i(),r("div",wa,[e("div",xa,[o[25]||(o[25]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),o[26]||(o[26]=b()),o[27]||(o[27]=e("strong",null,"Alert",-1)),b(" - "+s(t.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:o[1]||(o[1]=(...a)=>t.dismissMessage&&t.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):n("",!0)])]}),_:1})}const Ca=_e(qe,[["render",ka]]);export{Ca as default};
