import{_ as Y,Z as j,O as z,P as G,z as J,C as K,r as _,T as Z,R as $,g as d,o as c,x as T,w as u,a as O,U as q,N as W,k as r,l as t,J as l,y as k,B as C,q as X,K as ee,i as m,L as F,F as A,n as E}from"./vendor-ddfbd976.js";import{L as te}from"./main-306a5ea6.js";import{P as se}from"./page-header-2dc95532.js";import{P as ae}from"./Pagination-f095ae3c.js";import{s as ne}from"./searchbar-3acbc236.js";import{I as oe}from"./ImageModal-6c71a18e.js";import{l as le}from"./footer-e648049d.js";import{_ as ie}from"./search-file-ab3e1046.js";import"./app-042fb454.js";const re={data(){return{rightOffcanvas:!1,SearchQuery:""}},methods:{editData(s){this.$inertia.get(this.route("landing_quicklink.edit",{id:s.id}))},stripHtmlTags(s){return new DOMParser().parseFromString(s,"text/html").body.textContent||""}},components:{Layout:te,PageHeader:se,Head:j,Pagination:ae,Multiselect:z,flatPickr:G,Link:J,searchbar:ne,ImageModal:oe},props:{successMessage:String,alertMessage:String,landingQuickLink:{type:Object,required:!0}},setup(s){const{t:e}=K(),v=_(""),a=Z({transport_type:null,dispatch_type:null,status:null,limit:10}),f=_([]),w=_({}),y=_(!1),b=_(!1),S=_(null),p=_({}),M=_(s.successMessage||""),P=_(s.alertMessage||""),B=()=>{M.value="",P.value=""},L=async(o,i)=>{try{await O.post("/landing-quicklink/update-status",{id:o,status:i});const g=f.value.findIndex(U=>U.id===o);g!==-1&&(f.value[g].active=i)}catch(g){console.error(e("error_updating_status"),g)}},D=()=>{b.value=!0},H=()=>{a.reset(),h()},I=()=>{y.value=!1},x=async o=>{try{await O.delete(`/landing-quicklink/delete/${o}`);const i=f.value.findIndex(g=>g.id===o);i!==-1&&f.value.splice(i,1),y.value=!1,q.fire(e("success"),e("landing_quicklinks_deleted_successfully"),"success")}catch{q.fire(e("error"),e("failed_to_delete_landing_quicklinks"),"error")}},n=async o=>{q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async i=>{if(i.isConfirmed)try{await x(o)}catch(g){console.error(e("error_deleting_data"),g),q.fire(e("error"),e("failed_to_delete_the_data"),"error")}})},N=async o=>{v.value=o,h()},h=async(o=1)=>{try{const i=a.data();i.search=v.value,i.page=o;const g=await O.get("/landing-quicklink/list",{params:i});f.value=g.data.results,w.value=g.data.paginator,R(w.value.total),b.value=!1}catch(i){console.error(e("error_fetching_quicklink"),i)}},V=async o=>{localStorage.setItem("/landing-quicklink/list",o),h(o)},Q=async o=>{W.get(`/landing-quicklink/edit/${o.id}`)},R=()=>{p.value=[10,25,50,100,200,500]};return{results:f,modalShow:y,deleteItemId:S,successMessage:M,alertMessage:P,filterData:D,deleteModal:n,closeModal:I,deleteData:x,dismissMessage:B,searchTerm:v,fetchSearch:N,paginator:w,modalFilter:b,clearFilter:H,fetchDatas:h,filter:a,handlePageChanged:V,toggleActiveStatus:L,editData:Q,paginatorOption:p,changeEntriesPerPage:()=>{h()}}},computed:{...le,...$(["permissions"])},mounted(){this.fetchDatas();const s=localStorage.getItem("/landing-quicklink/list");s?this.handlePageChanged(Number(s)):this.handlePageChanged(1)}},de={class:"card",height:"100px"},ce={class:"card-body"},ue={class:"card-title mb-2"},ge={class:"d-flex align-items-center gap-2"},me={class:"d-flex align-items-center mt-3"},_e={class:"me-2 text-muted"},fe=["value"],pe={class:"ms-2 text-muted"},he={class:"table-responsive"},ke={class:"table align-middle position-relative table-nowrap"},ve={class:"table-active"},ye={scope:"col"},be={scope:"col"},Ce={scope:"col"},we={key:0},Me={class:"dropdown"},Pe={class:"dropdown-menu dropdown-menu-end"},Be=["onClick"],xe=["onClick"],qe={key:1},Se={colspan:"4",class:"text-center"},Le={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},De={class:"alert-content"},He={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Ie={class:"alert-content"};function Ne(s,e,v,a,f,w){const y=d("Head"),b=d("PageHeader"),S=d("ImageModal"),p=d("BCol"),M=d("BButton"),P=d("Link"),B=d("BRow"),L=d("BCardHeader"),D=d("BCardBody"),H=d("BCard"),I=d("Pagination"),x=d("Layout");return c(),T(x,null,{default:u(()=>[r(y,{title:"Landing Quick Links"}),r(b,{title:s.$t("index"),pageTitle:s.$t("landing_quicklinks")},null,8,["title","pageTitle"]),r(B,null,{default:u(()=>[r(p,{lg:"12"},{default:u(()=>[r(H,{"no-body":"",id:"tasksList"},{default:u(()=>[r(L,{class:"border-0"},{default:u(()=>[r(B,{class:"g-2"},{default:u(()=>[r(p,{class:"col-12",md:"6"},{default:u(()=>[t("div",de,[r(S,{imageSrc:"/images/quick.png",imageAlt:"Header-Footer",width:"100px"}),t("div",ce,[t("h4",ue,l(s.$t("quick_link_page")),1)])])]),_:1}),r(p,{md:"auto",class:"ms-auto"},{default:u(()=>[t("div",ge,[s.permissions.includes("add_landing_quicklinks")?(c(),T(P,{key:0,href:"/landing-quicklink/create"},{default:u(()=>[r(M,{variant:"primary",class:"float-end"},{default:u(()=>[e[4]||(e[4]=t("i",{class:"ri-add-line align-bottom me-1"},null,-1)),k(" "+l(s.$t("add")),1)]),_:1,__:[4]})]),_:1})):C("",!0)])]),_:1})]),_:1}),r(p,{md:"3"},{default:u(()=>[t("div",me,[t("label",_e,l(s.$t("show")),1),X(t("select",{"onUpdate:modelValue":e[0]||(e[0]=n=>a.filter.limit=n),onChange:e[1]||(e[1]=(...n)=>a.changeEntriesPerPage&&a.changeEntriesPerPage(...n)),class:"form-select form-select-sm w-auto"},[(c(!0),m(A,null,F(a.paginatorOption,n=>(c(),m("option",{key:n,value:n},l(n),9,fe))),128))],544),[[ee,a.filter.limit]]),t("label",pe,l(s.$t("entries")),1)])]),_:1})]),_:1}),r(D,{class:"border border-dashed border-end-0 border-start-0"},{default:u(()=>[t("div",he,[t("table",ke,[t("thead",ve,[t("tr",null,[t("th",ye,l(s.$t("title")),1),t("th",be,l(s.$t("language")),1),t("th",Ce,l(s.$t("action")),1)])]),a.results.length>0?(c(),m("tbody",we,[(c(!0),m(A,null,F(a.results,(n,N)=>(c(),m("tr",{key:N},[t("td",null,l(n.privacy_title),1),t("td",null,l(n.language),1),t("td",null,[t("div",Me,[e[7]||(e[7]=t("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[t("span",{class:"text-muted fs-18"},[t("i",{class:"mdi mdi-dots-vertical"})])],-1)),t("div",Pe,[s.permissions.includes("edit_landing_quicklinks")?(c(),m("a",{key:0,class:"dropdown-item",href:"#",onClick:E(h=>a.editData(n),["prevent"])},[e[5]||(e[5]=t("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),k(l(s.$t("edit")),1)],8,Be)):C("",!0),s.permissions.includes("delete_landing_quicklinks")&&a.results.length>1?(c(),m("a",{key:1,class:"dropdown-item",href:"#",onClick:E(h=>a.deleteModal(n.id),["prevent"])},[e[6]||(e[6]=t("i",{class:"bx bxs-trash align-center text-muted me-2"},null,-1)),k(l(s.$t("delete")),1)],8,xe)):C("",!0)])])])]))),128))])):(c(),m("tbody",qe,[t("tr",null,[t("td",Se,[e[8]||(e[8]=t("img",{src:ie,alt:"Loading...",style:{width:"100px"}},null,-1)),t("h5",null,l(s.$t("no_data_found")),1)])])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),t("div",null,[a.successMessage?(c(),m("div",Le,[t("div",De,[e[9]||(e[9]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[10]||(e[10]=k()),e[11]||(e[11]=t("strong",null,"Success",-1)),k(" - "+l(a.successMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-success",onClick:e[2]||(e[2]=(...n)=>a.dismissMessage&&a.dismissMessage(...n)),"aria-label":"Close Success Message"})])])):C("",!0),a.alertMessage?(c(),m("div",He,[t("div",Ie,[e[12]||(e[12]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[13]||(e[13]=k()),e[14]||(e[14]=t("strong",null,"Alert",-1)),k(" - "+l(a.alertMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[3]||(e[3]=(...n)=>a.dismissMessage&&a.dismissMessage(...n)),"aria-label":"Close Alert Message"})])])):C("",!0)]),r(I,{paginator:a.paginator,onPageChanged:a.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const je=Y(re,[["render",Ne]]);export{je as default};
