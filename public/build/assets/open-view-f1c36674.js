import{_ as oe,Z as ie,O as re,P as de,z as ce,C as ne,r as v,D as le,g as p,o,x as G,w as n,X as x,a4 as _e,a as ue,U as J,k as _,l as e,J as s,i,F,L as H,B as d,p as K,n as me,y as u}from"./vendor-ddfbd976.js";import{L as he}from"./main-306a5ea6.js";import{P as ve}from"./page-header-2dc95532.js";import{s as be}from"./search-2c17aadd.js";import{s as fe}from"./searchbar-3acbc236.js";import{_ as ae,a as ge,b as pe,c as ye,d as xe,e as we}from"./driver-76405b51.js";import"./footer-e648049d.js";import"./app-042fb454.js";const ke={data(){return{rightOffcanvas:!1}},components:{Layout:he,PageHeader:ve,Head:ie,Multiselect:re,flatPickr:de,Link:ce,search:be,searchbar:fe},props:{successMessage:String,alertMessage:String,app_for:String,pick_icon:String,drop_icon:String,stop_icon:String,firebaseConfig:Object,request:Object},setup(l){var O,A,E,P;const{t:a}=ne(),r=v(l.request),t=v(!1),Q=v(!1),$=v(l.request.requestProofs.data),V=v(l.request?l.request.requestStops.data:[]),X=v(l.request?l.request.rejectedDrivers.data:[]),w=v(l.successMessage||""),Z=v(l.alertMessage||""),C=v(null),M=v(null),T=v([]),k=v("**********"),q=v("**********"),U=v("**********"),S=v("**********"),j=()=>{w.value="",Z.value=""},I=async()=>{map.value=x.map("map",{zoomControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1}).setView([r.value.pick_lat,r.value.pick_lng],12),map.value.dragging.disable(),map.value.scrollWheelZoom.disable(),map.value.doubleClickZoom.disable(),map.value.touchZoom.disable(),x.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(map.value);const m=x.icon({iconUrl:"/image/map/pickup.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),f=x.icon({iconUrl:"/image/map/drop.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]});if(C.value=x.marker([r.value.pick_lat,r.value.pick_lng],{icon:m,draggable:!1}).addTo(map.value),M.value=x.marker([r.value.drop_lat,r.value.drop_lng],{icon:f,draggable:!1}).addTo(map.value),V.value.forEach((g,y)=>{const b=x.icon({iconUrl:"/image/map/"+y+".png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),Y=x.marker([g.latitude,g.longitude],{icon:b,draggable:!1}).addTo(map.value);T.value[y]=Y}),r.value.poly_line){const g=_e.decode(r.value.poly_line);let y=x.polyline(g,{color:"blue"}).addTo(map.value);map.value.fitBounds(y)}},N=()=>{t.value=!1},L=async m=>{try{const f=await ue.get(`/rides-request/cancel/${m}`);r.value=f.data.request,t.value=!1,J.fire(a("success"),a("trip_cancelled_successfully"),"success")}catch{J.fire(a("error"),a("failed_to_cancel_trip"),"error")}},h=v(""),R=m=>m.cancel_method==0?a("automatic"):m.cancel_method==1?a("cancelled_by_user"):m.cancel_method==2?a("cancelled_by_driver"):a("cancelled_by_dispatcher"),z=()=>{const m=new Date,f={weekday:"short",day:"numeric",month:"short",year:"numeric"};return m.toLocaleDateString("en-US",f)},W=async m=>{J.fire({title:"Are you sure?",text:"You want to be cancel this ride!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, Cancel it!",cancelButtonText:"Close"}).then(async f=>{if(f.isConfirmed)try{await L(m)}catch(g){console.error(a("error_deleting_data"),g),J.fire(a("error"),a("failed_to_delete_the_data"),"error")}})};le(async()=>{if(!r.value.is_cancelled&&!r.value.is_completed)try{const m=l.firebaseConfig;firebase.apps.length||firebase.initializeApp(m),firebase.database().ref(`requests/${r.value.id}`).on("value",y=>{const b=y.val();b&&(b.hasOwnProperty("is_completed")&&(r.value.is_completed=!0,h.value=a("ride_completed"),setTimeout(()=>{window.location.reload()},2e3)),b.accept!==1&&(r.value.driver_id=null,h.value=a("searching")),b.driver_id&&r.value.driver_id&&window.location.reload(),r.value.is_later&&b.hasOwnProperty("modified_by_driver")&&(h.value=a("driver_started"),r.value.is_driver_started=1),b.trip_arrived==1&&(h.value=a("driver_arrived"),r.value.is_driver_arrived=!0,r.value.converted_arrived_at||(r.value.converted_arrived_at=z())),b.trip_start==1&&(h.value=a("on_trip"),r.value.is_trip_start=!0,r.value.converted_trip_start_time||(r.value.converted_trip_start_time=z())),(b.is_cancelled||b.is_cancel)&&(r.value.is_cancelled=!0,setTimeout(()=>{window.location.reload()},2e3)))})}catch(m){console.error("Error initializing Firebase or fetching settings:",m)}else r.value.is_cancelled?h.value=a("ride_cancelled"):r.value.is_completed?h.value=a("ride_completed"):r.value.is_result.value_start?h.value=a("on_trip"):r.value.is_driver_arrived?h.value=a("driver_arrived"):r.value.is_later&&r.value.is_driver_started?h.value=a("driver_started"):r.value.driver_id?h.value=a("accepted"):r.value.is_later?h.value=a("upcoming"):h.value=a("searching")}),le(()=>{I()}),l.app_for!="demo"&&(r.value.userDetail&&(k.value=(O=r.value.userDetail.data)==null?void 0:O.mobile,q.value=(A=r.value.userDetail.data)==null?void 0:A.email),r.value.driverDetail&&(U.value=(E=r.value.driverDetail.data)==null?void 0:E.mobile,S.value=(P=r.value.driverDetail.data)==null?void 0:P.email));const B=v(a("normal"));return r.value.is_out_station&&(r.value.is_round_trip?B.value=a("round_trip_outstation_trip"):B.value=a("one_way_outstation_trip")),{result:r,modalShow:t,successMessage:w,alertMessage:Z,rejected_drivers:X,deleteModal:W,closeModal:N,deleteData:L,stops:V,user_mobile:k,user_email:q,driver_mobile:U,driver_email:S,proof:$,showStops:Q,rideStatus:h,dispatch_type:B,dismissMessage:j,cancelledBy:R}}},qe={class:"mb-1"},Be={class:"row"},De={class:"col-xxl-4 col-md-6"},Ce={class:"card card-animate border border-dashed border-primary"},Me={class:"card-body text-center"},Te={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Se={class:"mb-3 fs-18"},Le={class:"fs-14 mb-4"},ze={key:0,class:"col-xxl-4 col-md-6"},Oe={class:"card card-animate border border-dashed border-primary"},Ae={class:"card-body text-center"},Ee={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Pe={class:"mb-3 fs-18"},Fe={class:"fs-14 mb-4"},He={key:1,class:"col-xxl-4 col-md-6"},Ve={class:"card card-animate border border-dashed border-primary"},Ze={class:"card-body text-center"},Ue={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},je={class:"mb-3 fs-18"},Ie={class:"fs-14 mb-4"},Ne={class:"col-xxl-4 col-md-6"},Re={class:"card card-animate border border-dashed border-primary"},We={class:"card-body text-center"},Ye={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Je={key:0,class:"fs-14 text-danger"},Xe={class:"mb-1"},Ge={class:"row"},Ke={class:"col-xxl-4 col-md-6"},Qe={class:"card card-animate border border-dashed border-primary"},$e={class:"card-body"},es={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},ss={class:"d-flex align-items-center mb-2 mt-1"},ts={class:"flex-shrink-0"},ls={class:"text-muted mb-0"},as={class:"flex-grow-1 ms-2"},os={class:"mb-0"},is={class:"d-flex align-items-center mb-2"},rs={class:"flex-shrink-0"},ds={class:"text-muted mb-0"},cs={class:"flex-grow-1 ms-2"},ns={class:"mb-0"},_s={class:"d-flex align-items-center mb-2"},us={class:"flex-shrink-0"},ms={class:"text-muted mb-0"},hs={class:"flex-grow-1 ms-2"},vs={class:"mb-0"},bs={key:0},fs={key:1},gs={key:2},ps={class:"d-flex align-items-center mb-2"},ys={class:"flex-shrink-0"},xs={class:"text-muted mb-0"},ws={class:"flex-grow-1 ms-2"},ks={class:"mb-0"},qs={class:"d-flex align-items-center mb-2"},Bs={class:"flex-shrink-0"},Ds={class:"text-muted mb-0"},Cs={class:"flex-grow-1 ms-2"},Ms={class:"mb-0"},Ts={key:0,class:"d-flex align-items-center mb-2"},Ss={class:"flex-shrink-0"},Ls={class:"text-muted mb-0"},zs={class:"flex-grow-1 ms-2"},Os={class:"mb-0"},As={class:"d-flex align-items-center mb-2"},Es={class:"flex-shrink-0"},Ps={class:"text-muted mb-0"},Fs={class:"flex-grow-1 ms-2"},Hs={class:"mb-0"},Vs={key:1,class:"d-flex align-items-center mb-2"},Zs={class:"flex-shrink-0"},Us={class:"text-muted mb-0"},js={class:"flex-grow-1 ms-2"},Is={class:"mb-0"},Ns={class:"col-xxl-4 col-md-6"},Rs={class:"card card-animate border border-dashed border-primary"},Ws={class:"card-body"},Ys={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Js={class:"d-flex align-items-center mb-2"},Xs={class:"flex-shrink-0"},Gs={class:"text-muted mb-0"},Ks={class:"flex-grow-1 ms-2"},Qs={class:"mb-0"},$s={class:"d-flex align-items-center mb-2"},et={class:"flex-shrink-0"},st={class:"text-muted mb-0"},tt={class:"flex-grow-1 ms-2"},lt={class:"mb-0"},at={class:"d-flex align-items-center mb-2"},ot={class:"flex-shrink-0"},it={class:"text-muted mb-0"},rt={class:"flex-grow-1 ms-2"},dt={class:"mb-0"},ct={key:0,class:"col-xxl-4 col-md-6"},nt={class:"card card-animate border border-dashed border-primary"},_t={class:"card-body"},ut={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},mt={class:"d-flex align-items-center mb-2"},ht={class:"flex-shrink-0"},vt={class:"text-muted mb-0"},bt={class:"flex-grow-1 ms-2"},ft={class:"mb-0"},gt={class:"d-flex align-items-center mb-2"},pt={class:"flex-shrink-0"},yt={class:"text-muted mb-0"},xt={class:"flex-grow-1 ms-2"},wt={class:"mb-0"},kt={class:"d-flex align-items-center mb-2"},qt={class:"flex-shrink-0"},Bt={class:"text-muted mb-0"},Dt={class:"flex-grow-1 ms-2"},Ct={class:"mb-0"},Mt={class:"mb-1"},Tt={class:"col-lg-6"},St={class:"card border mt-3"},Lt={class:"table-responsive"},zt={class:"table align-middle position-relative table-nowrap"},Ot={class:"table-active"},At={class:"fs-16"},Et={scope:"col"},Pt={scope:"col"},Ft={scope:"col"},Ht={key:0},Vt={key:0},Zt={key:1},Ut={key:0},jt={key:1,class:"text-danger"},It={key:2},Nt={key:3},Rt={key:4},Wt={key:5},Yt={key:6},Jt={key:0},Xt={key:1},Gt={key:2},Kt={key:3},Qt={class:"bg-body bg-success-subtle"},$t={colspan:"2",class:"text-success"},el={class:"text-success"},sl={class:"text-success"},tl={class:"text-success"},ll={class:"col-lg-6"},al={class:"card border mt-3"},ol={class:"table-responsive"},il={class:"table align-middle position-relative table-nowrap"},rl={class:"table-active"},dl={class:"fs-16"},cl={scope:"col"},nl={scope:"col"},_l={class:"text-danger"},ul={colspan:"2"},ml={class:"text-danger"},hl={colspan:"2"},vl={class:"text-danger"},bl={colspan:"2"},fl={colspan:"2"},gl={key:0},pl={key:1},yl={class:"bg-body bg-success-subtle"},xl={colspan:"2",class:"text-success"},wl={class:"text-success"},kl={class:"text-success"},ql={class:"text-success"},Bl={class:"card"},Dl={class:"mb-1"},Cl={class:"card-body"},Ml={class:"profile-timeline"},Tl={class:"accordion accordion-flush",id:"accordionFlushExample"},Sl={class:"accordion-item border-0"},Ll={class:"accordion-header",id:"headingOne"},zl={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"true","aria-controls":"collapseOne"},Ol={class:"d-flex align-items-center"},Al={class:"flex-shrink-0 border border-4 border-success rounded-circle"},El=["src"],Pl={class:"flex-grow-1 ms-3"},Fl={class:"fs-15 mb-0 fw-semibold text-primary"},Hl={class:"fw-normal text-muted"},Vl={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Zl={class:"accordion-body ms-5 ps-5 pt-0"},Ul={class:"mb-1 text-success"},jl={class:"accordion-item border-0"},Il={class:"accordion-header",id:"headingTwo"},Nl={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseTwo"},Rl={class:"d-flex align-items-center"},Wl={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},Yl=["src"],Jl={class:"flex-grow-1 ms-3"},Xl={class:"fs-15 mb-1 fw-semibold text-danger"},Gl={class:"fw-normal"},Kl={id:"collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},Ql={class:"accordion-body ms-5 ps-5 pt-0"},$l={class:"mb-1"},ea={class:"badge bg-light text-body fs-14 fw-large"},sa={key:0,class:"accordion-item border-0"},ta={class:"accordion-header",id:"headingThree"},la={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},aa={class:"d-flex align-items-center"},oa={class:"flex-shrink-0 border border-4 border-success rounded-circle"},ia=["src"],ra={class:"flex-grow-1 ms-3"},da={class:"fs-15 mb-1 fw-semibold text-success"},ca={class:"fw-normal"},na={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},_a={class:"accordion-body ms-5 ps-5 pt-0"},ua={class:"mb-1"},ma={class:"badge bg-light text-body fs-14 fw-large"},ha={key:1,class:"accordion-item border-0"},va={class:"accordion-header",id:"headingThree"},ba={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},fa={class:"d-flex align-items-center"},ga={class:"flex-shrink-0 border border-4 border-warning rounded-circle"},pa=["src"],ya={class:"flex-grow-1 ms-3"},xa={class:"fs-15 mb-1 fw-semibold text-warning"},wa={class:"fw-normal"},ka={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},qa={class:"accordion-body ms-5 ps-5 pt-0"},Ba={class:"mb-1"},Da={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Ca={class:"accordion-body ms-5 ps-5 pt-0"},Ma={class:"mb-1 text-success"},Ta={key:2,class:"accordion-item border-0"},Sa={class:"accordion-header",id:"headingThree"},La={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},za={class:"d-flex align-items-center"},Oa={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Aa=["src"],Ea={class:"flex-grow-1 ms-3"},Pa={class:"fs-15 mb-1 fw-semibold text-success"},Fa={class:"fw-normal"},Ha={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Va={class:"accordion-body ms-5 ps-5 pt-0"},Za={class:"mb-1"},Ua={key:3,class:"accordion-item border-0"},ja={class:"accordion-header",id:"headingFour"},Ia={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},Na={class:"d-flex align-items-center"},Ra={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Wa=["src"],Ya={class:"flex-grow-1 ms-3"},Ja={class:"fs-14 mb-0 fw-semibold text-success"},Xa={class:"fw-normal text-muted"},Ga={key:4,class:"accordion-item border-0"},Ka={class:"accordion-header",id:"headingFour"},Qa={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},$a={class:"d-flex align-items-center"},eo={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},so=["src"],to={class:"flex-grow-1 ms-3"},lo={class:"fs-14 mb-0 fw-semibold text-danger"},ao={class:"fw-normal text-muted"},oo={key:1,class:"card"},io={class:"card-body border-top border-top-dashed p-4"},ro={class:"text-muted text-uppercase fw-semibold mb-4"},co={class:"card-body"},no={class:"text-muted text-uppercase fw-semibold mb-2"},_o={class:"d-flex"},uo={class:"flex-shrink-0 avatar-sm"},mo={class:"avatar-title bg-light rounded"},ho=["src"],vo={class:"flex-grow-1 ms-3"},bo={class:"text-muted mb-1 fst-italic"},fo={class:"text-muted mb-1 fst-italic"},go={class:"fs-11 align-middle text-warning"},po=["id"],yo={class:"card-body"},xo={class:"text-muted text-uppercase fw-semibold mb-4"},wo={class:"d-flex"},ko={class:"flex-shrink-0 avatar-sm"},qo={class:"avatar-title bg-light rounded"},Bo=["src"],Do={class:"flex-grow-1 ms-3"},Co={class:"text-muted mb-1 fst-italic"},Mo={class:"text-muted mb-1 fst-italic"},To={class:"fs-11 align-middle text-warning"},So=["id"],Lo={key:2,class:"card"},zo={class:"mb-1"},Oo={class:"card-body"},Ao={class:"row"},Eo={class:"col-lg-4"},Po=["src"],Fo={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Ho={class:"alert-content"},Vo={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Zo={class:"alert-content"};function Uo(l,a,r,t,Q,$){const V=p("Head"),X=p("PageHeader"),w=p("BCardHeader"),Z=p("BButton"),C=p("BCardBody"),M=p("BCard"),T=p("BCol"),k=p("BRow"),q=p("BBadge"),U=p("Layout");return o(),G(U,null,{default:n(()=>{var S,j,I,N,L,h,R,z,W,B,O,A,E,P,m,f,g,y,b,Y,ee,se,te;return[_(V,{title:"View Details"}),_(X,{title:l.$t("view_details"),pageTitle:l.$t("view_details"),pageLink:"/rides-request"},null,8,["title","pageTitle"]),_(k,null,{default:n(()=>[_(T,{lg:"12"},{default:n(()=>[_(M,{"no-body":"",id:"tasksList"},{default:n(()=>[_(w,null,{default:n(()=>[e("h4",qe,s(l.$t("map_view")),1)]),_:1}),_(C,null,{default:n(()=>[e("div",Be,[a[8]||(a[8]=e("div",{class:"mt-3"},null,-1)),a[9]||(a[9]=e("div",{class:"col-sm-12"},[e("div",{class:"card"},[e("div",{class:"card-body"},[e("div",{id:"map",style:{height:"400px"}})])])],-1)),e("div",De,[e("div",Ce,[e("div",Me,[e("h4",Te,s(l.$t("pickup_details")),1),a[3]||(a[3]=e("div",{class:"flex-grow-1"},[e("img",{src:ae,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Se,s(l.$t("location"))+":",1),e("h6",Le,s(t.result.pick_address),1)])])]),t.stops.length>0?(o(),i("div",ze,[e("div",Oe,[e("div",Ae,[e("h4",Ee,s(l.$t("stop_details")),1),a[4]||(a[4]=e("div",{class:"flex-grow-1"},[e("img",{src:ae,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Pe,s(l.$t("location"))+":",1),(o(!0),i(F,null,H(t.stops,(c,D)=>(o(),i("h6",Fe,s(c.address),1))),256))])])])):d("",!0),t.result.drop_address?(o(),i("div",He,[e("div",Ve,[e("div",Ze,[e("h4",Ue,s(l.$t("drop_details")),1),a[5]||(a[5]=e("div",{class:"flex-grow-1"},[e("img",{src:ge,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",je,s(l.$t("location"))+":",1),e("h6",Ie,s(t.result.drop_address),1)])])])):d("",!0),e("div",Ne,[e("div",Re,[e("div",We,[e("h4",Ye,s(l.$t("trip_status"))+" "+s(t.result.is_bid_ride?l.$t("bidding"):""),1),a[7]||(a[7]=e("div",{class:"flex-grow-1 mt-2"},[e("img",{src:pe,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",{class:K(["mt-5 mb-3 fs-18",{"text-danger":t.result.is_cancelled,"text-success":t.result.is_completed,"text-warning":!t.result.is_cancelled&&!t.result.is_completed}])},s(t.rideStatus),3),t.result.is_cancelled?(o(),i("h5",Je,"( "+s(t.cancelledBy(t.result))+" )",1)):d("",!0),!t.result.is_cancelled&&!t.result.is_completed?(o(),G(Z,{key:1,class:"btn btn-danger btn-md",type:"button",onClick:a[0]||(a[0]=me(c=>t.deleteModal(t.result.id),["prevent"]))},{default:n(()=>[a[6]||(a[6]=e("i",{class:"bx bx-show-alt align-center text-muted me-2"},null,-1)),u(" "+s(l.$t("cancel")),1)]),_:1,__:[6]})):d("",!0)])])])])]),_:1})]),_:1})]),_:1})]),_:1}),_(k,null,{default:n(()=>[_(T,{lg:"12"},{default:n(()=>[_(M,{"no-body":"",id:"tasksList"},{default:n(()=>[_(w,null,{default:n(()=>[e("h4",Xe,s(l.$t("request_details")),1)]),_:1}),_(C,null,{default:n(()=>{var c,D;return[e("div",Ge,[e("div",Ke,[e("div",Qe,[e("div",$e,[e("h4",es,s(l.$t("request")),1),a[10]||(a[10]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:ye,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",ss,[e("div",ts,[e("p",ls,s(l.$t("request_id"))+":",1)]),e("div",as,[e("h6",os,s(t.result.request_number??"-"),1)])]),e("div",is,[e("div",rs,[e("p",ds,s(l.$t("zone"))+":",1)]),e("div",cs,[e("h6",ns,s(t.result.zone_name??"-"),1)])]),e("div",_s,[e("div",us,[e("p",ms,s(l.$t("transport_type"))+":",1)]),e("div",hs,[e("h6",vs,[t.result.transport_type==="taxi"?(o(),i("span",bs,s(l.$t("taxi"))+" "+s(t.result.is_bid_ride?l.$t("bidding"):""),1)):t.result.transport_type==="delivery"?(o(),i("span",fs,s(l.$t("delivery"))+" "+s(t.result.is_bid_ride?l.$t("bidding"):""),1)):(o(),i("span",gs,s(l.$t("all")),1))])])]),e("div",ps,[e("div",ys,[e("p",xs,s(l.$t("vehicle_type"))+":",1)]),e("div",ws,[e("h6",ks,s(t.result.vehicle_type_name??"-"),1)])]),e("div",qs,[e("div",Bs,[e("p",Ds,s(l.$t("trip_time"))+":",1)]),e("div",Cs,[e("h6",Ms,s(t.result.is_later?t.result.converted_trip_start_time:t.result.converted_created_at),1)])]),t.result.rental_package_name!=="-"?(o(),i("div",Ts,[e("div",Ss,[e("p",Ls,s(l.$t("rental_pack"))+":",1)]),e("div",zs,[e("h6",Os,s(t.result.rental_package_name),1)])])):d("",!0),e("div",As,[e("div",Es,[e("p",Ps,s(l.$t("ride_type"))+":",1)]),e("div",Fs,[e("h6",Hs,s(t.dispatch_type),1)])]),t.result.is_round_trip?(o(),i("div",Vs,[e("div",Zs,[e("p",Us,s(l.$t("return_time"))+":",1)]),e("div",js,[e("h6",Is,s(t.result.return_time),1)])])):d("",!0)])])]),e("div",Ns,[e("div",Rs,[e("div",Ws,[e("h4",Ys,s(l.$t("user_details")),1),a[11]||(a[11]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:xe,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",Js,[e("div",Xs,[e("p",Gs,s(l.$t("name"))+":",1)]),e("div",Ks,[e("h6",Qs,s(t.result.userDetail?(c=t.result.userDetail.data)==null?void 0:c.name:"-"),1)])]),e("div",$s,[e("div",et,[e("p",st,s(l.$t("email"))+":",1)]),e("div",tt,[e("h6",lt,s(t.user_email),1)])]),e("div",at,[e("div",ot,[e("p",it,s(l.$t("mobile"))+":",1)]),e("div",rt,[e("h6",dt,s(t.user_mobile),1)])])])])]),t.result.driverDetail?(o(),i("div",ct,[e("div",nt,[e("div",_t,[e("h4",ut,s(l.$t("driver_details")),1),a[12]||(a[12]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:we,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",mt,[e("div",ht,[e("p",vt,s(l.$t("name"))+":",1)]),e("div",bt,[e("h6",ft,s(t.result.driverDetail?(D=t.result.driverDetail.data)==null?void 0:D.name:"-"),1)])]),e("div",gt,[e("div",pt,[e("p",yt,s(l.$t("email"))+":",1)]),e("div",xt,[e("h6",wt,s(t.driver_email),1)])]),e("div",kt,[e("div",qt,[e("p",Bt,s(l.$t("mobile"))+":",1)]),e("div",Dt,[e("h6",Ct,s(t.driver_mobile),1)])])])])])):d("",!0)])]}),_:1})]),_:1})]),_:1})]),_:1}),t.result.requestBill?(o(),G(k,{key:0},{default:n(()=>[_(T,{lg:"col-12"},{default:n(()=>[_(M,null,{default:n(()=>[_(w,null,{default:n(()=>[e("h4",Mt,s(l.$t("bill_details")),1)]),_:1}),_(C,null,{default:n(()=>[_(k,null,{default:n(()=>[e("div",Tt,[e("div",St,[e("div",Lt,[e("table",zt,[e("thead",Ot,[e("tr",At,[e("th",Et,s(l.$t("title")),1),e("th",Pt,s(l.$t("description")),1),e("th",Ft,s(l.$t("price")),1)])]),t.result.accepted_ride_fare>0?(o(),i("tbody",Ht,[e("tr",null,[e("td",null,s(l.$t("bid_fare")),1),a[13]||(a[13]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.accepted_ride_fare),1)]),t.result.additional_charges_amount>0?(o(),i("tr",Vt,[e("td",null,s(t.result.additional_charges_reason),1),a[14]||(a[14]=e("td",null,"-",-1)),e("td",null,s(t.result.additional_charges_amount),1)])):d("",!0)])):(o(),i("tbody",Zt,[e("tr",null,[e("td",null,s(l.$t("base_price")),1),e("td",null,s(l.$t("for_first"))+" "+s(t.result.requestBill.data.base_distance)+" "+s(l.$t("km")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.base_price),1)]),e("tr",null,[e("td",null,s(l.$t("distance_price")),1),e("td",null,s(t.result.requestBill.data.total_distance>t.result.requestBill.data.base_distance?t.result.requestBill.data.total_distance-t.result.requestBill.data.base_distance:0)+" "+s(l.$t("km"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_distance)+" / "+s(l.$t("km")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.distance_price),1)]),e("tr",null,[e("td",null,s(l.$t("time_price")),1),e("td",null,s(t.result.requestBill.data.total_time)+" "+s(l.$t("min"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_time)+" / "+s(l.$t("min")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.time_price),1)]),t.result.requestBill.data.cancellation_fee>0?(o(),i("tr",Ut,[e("td",null,s(l.$t("cancellation_fee")),1),a[15]||(a[15]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.cancellation_fee),1)])):d("",!0),e("tr",null,[e("td",null,s(l.$t("service_tax")),1),a[16]||(a[16]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.service_tax),1)]),t.result.requestBill.data.promo_discount>0?(o(),i("tr",jt,[e("td",null,s(l.$t("promo_discount")),1),a[17]||(a[17]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.promo_discount),1)])):d("",!0),e("tr",null,[e("td",null,s(l.$t("admin_commission")),1),a[18]||(a[18]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.admin_commision),1)]),t.result.additional_charges_amount>0?(o(),i("tr",It,[e("td",null,s(t.result.additional_charges_reason),1),a[19]||(a[19]=e("td",null,"-",-1)),e("td",null,s(t.result.additional_charges_amount),1)])):d("",!0),t.result.requestBill.data.tips>0?(o(),i("tr",Nt,[e("td",null,s(l.$t("driver_tips")),1),a[20]||(a[20]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.tips),1)])):d("",!0),t.result.requestBill.data.waiting_charge>0?(o(),i("tr",Rt,[e("td",null,s(l.$t("waiting_charge")),1),e("td",null,s(l.$t("For"))+" "+s(t.result.requestBill.data.waiting_charge)+" min",1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.waiting_charge),1)])):d("",!0),t.result.requestBill.data.airport_surge_fee>0&&t.result.transport_type==="taxi"?(o(),i("tr",Wt,[e("td",null,s(l.$t("airport_surge_fee")),1),a[21]||(a[21]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.airport_surge_fee),1)])):d("",!0),t.result.payment_opt?(o(),i("tr",Yt,[e("td",null,s(l.$t("payment_option")),1),a[22]||(a[22]=e("td",null,"-",-1)),t.result.payment_opt==0?(o(),i("td",Jt,[_(q,{variant:"success",class:"text-uppercase"},{default:n(()=>[u(s(l.$t("card")),1)]),_:1})])):d("",!0),t.result.payment_opt==1?(o(),i("td",Xt,[_(q,{variant:"success",class:"text-uppercase"},{default:n(()=>[u(s(l.$t("cash")),1)]),_:1})])):d("",!0),t.result.payment_opt==2?(o(),i("td",Gt,[_(q,{variant:"success",class:"text-uppercase"},{default:n(()=>[u(s(l.$t("wallet")),1)]),_:1})])):d("",!0),t.result.payment_opt==3?(o(),i("td",Kt,[_(q,{variant:"success",class:"text-uppercase"},{default:n(()=>[u(s(l.$t("wallet/cash")),1)]),_:1})])):d("",!0)])):d("",!0)])),e("tfoot",Qt,[e("tr",null,[e("td",$t,[e("h4",el,s(l.$t("total")),1)]),e("td",sl,[e("h4",tl,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.total_amount),1)])])])])])])]),e("div",ll,[e("div",al,[e("div",ol,[e("table",il,[e("thead",rl,[e("tr",dl,[e("th",cl,s(l.$t("title")),1),a[23]||(a[23]=e("th",{scope:"col"},null,-1)),e("th",nl,s(l.$t("price")),1)])]),e("tbody",null,[e("tr",_l,[e("td",ul,s(l.$t("admin_commission")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.admin_commision),1)]),e("tr",ml,[e("td",hl,s(l.$t("service_tax")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.service_tax),1)]),e("tr",vl,[e("td",bl,s(l.$t("admin_commission_from_driver")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.admin_commision_from_driver),1)]),e("td",fl,[u(s(l.$t("driver_commission"))+" ("+s(l.$t("included"))+" - ",1),t.result.requestBill.data.driver_tips>0?(o(),i("div",gl,s(l.$t("driver_tips"))+" -"+s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.driver_tips),1)):d("",!0),t.result.requestBill.data.airport_surge_fee>0&&t.result.transport_type==="taxi"?(o(),i("div",pl,s(l.$t("airport_surge_fee"))+" - "+s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.airport_surge_fee),1)):d("",!0),a[24]||(a[24]=u(") "))])]),e("tfoot",yl,[e("tr",null,[e("td",xl,[e("h4",wl,s(l.$t("total")),1)]),e("td",kl,[e("h4",ql,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.total_amount),1)])])])])])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):d("",!0),e("div",Bl,[_(w,null,{default:n(()=>[e("h4",Dl,s(l.$t("request_timeline")),1)]),_:1}),e("div",Cl,[e("div",Ml,[e("div",Tl,[e("div",Sl,[e("div",Ll,[e("a",zl,[e("div",Ol,[e("div",Al,[e("img",{src:t.result.userDetail?(S=t.result.userDetail.data)==null?void 0:S.profile_picture:"/assets/images/default-profile-picture.png",alt:"",class:"avatar-md rounded-circle"},null,8,El)]),e("div",Pl,[e("h6",Fl,[u(s(l.$t("ride_created"))+" -",1),e("span",Hl,s(t.result.converted_created_at),1)])])])])]),!t.result.driver_id&&!t.result.is_cancelled?(o(),i("div",Vl,[e("div",Zl,[e("h6",Ul,s(l.$t("searching")),1)])])):d("",!0)]),(o(!0),i(F,null,H(t.rejected_drivers,(c,D)=>(o(),i("div",jl,[e("div",Il,[e("a",Nl,[e("div",Rl,[e("div",Wl,[e("img",{src:c.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Yl)]),e("div",Jl,[e("h6",Xl,[u(s(l.$t("rejected"))+" - ",1),e("span",Gl,s(c.converted_created_at),1)])])])])]),e("div",Kl,[e("div",Ql,[e("h5",$l,s(c.driver_name),1),e("span",null,[e("span",ea,[u(s(c.driver_rating),1),a[25]||(a[25]=e("i",{class:"mdi mdi-star text-warning ms-1"},null,-1))])])])])]))),256)),t.result.driverDetail?(o(),i("div",sa,[e("div",ta,[e("a",la,[e("div",aa,[e("div",oa,[e("img",{src:(I=(j=t.result.driverDetail)==null?void 0:j.data)==null?void 0:I.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,ia)]),e("div",ra,[e("h6",da,[u(s(l.$t("accepted"))+" - ",1),e("span",ca,s(t.result.converted_accepted_at),1)])])])])]),e("div",na,[e("div",_a,[e("h5",ua,s((N=t.result.driverDetail.data)==null?void 0:N.name),1),e("span",null,[e("span",ma,[u(s((L=t.result.driverDetail.data)==null?void 0:L.rating),1),a[26]||(a[26]=e("i",{class:"mdi mdi-star text-warning ms-1"},null,-1))])])])])])):d("",!0),t.result.is_driver_arrived&&!t.result.instant_ride?(o(),i("div",ha,[e("div",va,[e("a",ba,[e("div",fa,[e("div",ga,[e("img",{src:(R=(h=t.result.driverDetail)==null?void 0:h.data)==null?void 0:R.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,pa)]),e("div",ya,[e("h6",xa,[u(s(l.$t("arrived"))+" - ",1),e("span",wa,s(t.result.converted_arrived_at),1)])])])])]),e("div",ka,[e("div",qa,[e("h5",Ba,s((W=(z=t.result.driverDetail)==null?void 0:z.data)==null?void 0:W.name),1)])]),t.result.is_trip_start?d("",!0):(o(),i("div",Da,[e("div",Ca,[e("h6",Ma,s(l.$t("waiting")),1)])]))])):d("",!0),t.result.is_trip_start?(o(),i("div",Ta,[e("div",Sa,[e("a",La,[e("div",za,[e("div",Oa,[e("img",{src:(O=(B=t.result.driverDetail)==null?void 0:B.data)==null?void 0:O.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Aa)]),e("div",Ea,[e("h6",Pa,[u(s(t.result.transport_type=="delivery"?l.$t("tripLoaded"):l.$t("tripStarted"))+" - ",1),e("span",Fa,s(t.result.converted_trip_start_time),1)])])])])]),e("div",Ha,[e("div",Va,[e("h5",Za,s((E=(A=t.result.driverDetail)==null?void 0:A.data)==null?void 0:E.name),1)])])])):d("",!0),t.result.is_completed?(o(),i("div",Ua,[e("div",ja,[e("a",Ia,[e("div",Na,[e("div",Ra,[e("img",{src:(m=(P=t.result.driverDetail)==null?void 0:P.data)==null?void 0:m.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Wa)]),e("div",Ya,[e("h6",Ja,[u(s(t.result.transport_type=="delivery"?l.$t("tripUnloaded"):l.$t("ride_completed"))+" -",1),e("span",Xa,s(t.result.converted_completed_at),1)])])])])])])):d("",!0),t.result.is_cancelled?(o(),i("div",Ga,[e("div",Ka,[e("a",Qa,[e("div",$a,[e("div",eo,[e("img",{src:(g=(f=t.result.userDetail)==null?void 0:f.data)==null?void 0:g.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,so)]),e("div",to,[e("h6",lo,[u(s(l.$t("ride_cancelled"))+" -",1),e("span",ao,s(t.result.converted_cancelled_at),1)])])])])])])):d("",!0)])])])]),t.result.ride_user_rating>0||t.result.ride_driver_rating>0?(o(),i("div",oo,[e("div",io,[e("div",null,[e("h6",ro,s(l.$t("ratings")),1),e("div",co,[e("h6",no,s(l.$t("user_ratings")),1),e("div",_o,[e("div",uo,[e("div",mo,[e("img",{src:(b=(y=t.result.userDetail)==null?void 0:y.data)==null?void 0:b.profile_picture,alt:"User",height:"30"},null,8,ho)])]),e("div",vo,[e("div",null,[e("p",bo,s(t.result.userDetail?(Y=t.result.userDetail.data)==null?void 0:Y.name:"-"),1),e("p",fo,s(t.result.ride_user_comment),1),e("div",go,[(o(),i(F,null,H(5,c=>e("i",{key:c,id:"id-"+c,class:K({"ri-star-fill":c<=t.result.ride_user_rating,"ri-star-line":c>t.result.ride_user_rating})},null,10,po)),64))])])])])]),e("div",yo,[e("h6",xo,s(l.$t("driver_ratings")),1),e("div",wo,[e("div",ko,[e("div",qo,[e("img",{src:(se=(ee=t.result.driverDetail)==null?void 0:ee.data)==null?void 0:se.profile_picture,alt:"Driver",height:"30"},null,8,Bo)])]),e("div",Do,[e("div",null,[e("p",Co,s(t.result.driverDetail?(te=t.result.driverDetail.data)==null?void 0:te.name:"-"),1),e("p",Mo,s(t.result.ride_driver_comment),1),e("div",To,[(o(),i(F,null,H(5,(c,D)=>e("i",{key:c,id:"id-"+c,class:K({"ri-star-fill":c<=t.result.ride_driver_rating,"ri-star-line":c>t.result.ride_driver_rating})},null,10,So)),64))])])])])])])])])):d("",!0),t.proof.length>0?(o(),i("div",Lo,[_(w,null,{default:n(()=>[e("h4",zo,s(l.$t("request_proof")),1)]),_:1}),e("div",Oo,[e("div",Ao,[(o(!0),i(F,null,H(t.proof,(c,D)=>(o(),i("div",Eo,[e("img",{src:c.proof_image,style:{height:"100%",width:"100%"}},null,8,Po)]))),256))])])])):d("",!0),e("div",null,[t.successMessage?(o(),i("div",Fo,[e("div",Ho,[a[27]||(a[27]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),a[28]||(a[28]=u()),a[29]||(a[29]=e("strong",null,"Success",-1)),u(" - "+s(t.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:a[1]||(a[1]=(...c)=>t.dismissMessage&&t.dismissMessage(...c)),"aria-label":"Close Success Message"})])])):d("",!0),t.alertMessage?(o(),i("div",Vo,[e("div",Zo,[a[30]||(a[30]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),a[31]||(a[31]=u()),a[32]||(a[32]=e("strong",null,"Alert",-1)),u(" - "+s(t.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:a[2]||(a[2]=(...c)=>t.dismissMessage&&t.dismissMessage(...c)),"aria-label":"Close Alert Message"})])])):d("",!0)])]}),_:1})}const Go=oe(ke,[["render",Uo]]);export{Go as default};
