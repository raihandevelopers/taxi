import{_ as F,Z as R,O as N,C as q,T as U,r as u,g as d,o as l,x as O,w as g,a as w,N as S,k as c,l as e,y as f,J as r,q as b,K as j,i,L as k,F as h,M as T,n as A,B as V}from"./vendor-ddfbd976.js";import{L as D}from"./main-306a5ea6.js";import{P as z}from"./page-header-2dc95532.js";import{P as E}from"./Pagination-f095ae3c.js";import{F as I}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";const J={components:{Layout:D,PageHeader:z,Head:R,Pagination:E,Multiselect:N,FormValidation:I},props:{successMessage:String,alertMessage:String,packageType:Object,validate:Function},setup(s){const{t}=q();console.log(s.packageType);const p=U({name:s.packageType&&s.packageType.name||"",transport_type:s.packageType&&s.packageType.transport_type||"",short_description:s.packageType&&s.packageType.short_description||"",description:s.packageType&&s.packageType.description||""}),a={name:{required:!0},transport_type:{required:!0},short_description:{required:!0},description:{required:!0}},M=u(null),y=u({}),v=u(s.successMessage||""),m=u(s.alertMessage||"");return{form:p,successMessage:v,alertMessage:m,handleSubmit:async()=>{if(y.value=M.value.validate(),!(Object.keys(y.value).length>0))try{let n;s.packageType&&s.packageType.id?n=await w.post(`/rental-package-types/update/${s.packageType.id}`,p.data()):n=await w.post("store",p.data()),n.status===201?(v.value=t("rental_package_created_successfully"),p.reset(),S.get("/rental-package-types")):m.value=t("failed_to_create_rental_package")}catch(n){n.response&&n.response.status===422?y.value=n.response.data.errors:n.response&&n.response.status===403?(m.value=n.response.data.alertMessage,setTimeout(()=>{S.get("/rental-package-types")},5e3)):(console.error(t("error_creating_rental_Package"),n),m.value=t("failed_to_create_rental_package_catch"))}},dismissMessage:()=>{v.value="",m.value=""},selectedCountry:u(null),selectedTimezone:u(null),validationRules:a,validationRef:M,errors:y}}},K={class:"row"},Z={class:"col-sm-6"},G={class:"mb-3"},Q={for:"select_transport_type",class:"form-label"},W={disabled:"",value:""},X={value:"taxi"},Y={value:"delivery"},$={value:"both"},ee={class:"col-sm-6"},te={class:"mb-3"},se={for:"name",class:"form-label"},ae=["placeholder"],oe={class:"col-sm-6"},re={class:"mb-3"},ne={for:"short_description",class:"form-label"},le=["placeholder"],ie={class:"col-sm-6"},de={class:"mb-3"},ce={for:"description",class:"form-label"},pe=["placeholder"],me={class:"col-lg-12"},_e={class:"text-end"},ue={type:"submit",class:"btn btn-primary"},ge={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},fe={class:"alert-content"},ye={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},ve={class:"alert-content"};function be(s,t,p,a,M,y){const v=d("Head"),m=d("PageHeader"),B=d("BCardHeader"),C=d("FormValidation"),n=d("BCardBody"),x=d("BCard"),H=d("BCol"),L=d("BRow"),P=d("Layout");return l(),O(P,null,{default:g(()=>[c(v,{title:"Rental Package Types"}),c(m,{title:p.packageType?s.$t("edit"):s.$t("create"),pageTitle:s.$t("rental_package_types"),pageLink:"/rental-package-types"},null,8,["title","pageTitle"]),c(L,null,{default:g(()=>[c(H,{lg:"12"},{default:g(()=>[c(x,{"no-body":"",id:"tasksList"},{default:g(()=>[c(B,{class:"border-0"}),c(n,{class:"border border-dashed border-end-0 border-start-0"},{default:g(()=>[e("form",{onSubmit:t[4]||(t[4]=A((...o)=>a.handleSubmit&&a.handleSubmit(...o),["prevent"]))},[c(C,{form:a.form,rules:a.validationRules,ref:"validationRef"},{default:g(()=>[e("div",K,[e("div",Z,[e("div",G,[e("label",Q,[f(r(s.$t("transport_type"))+" ",1),t[7]||(t[7]=e("span",{class:"text-danger"},"*",-1))]),b(e("select",{id:"select_transport_type",class:"form-select","onUpdate:modelValue":t[0]||(t[0]=o=>a.form.transport_type=o)},[e("option",W,r(s.$t("select_transport_type")),1),e("option",X,r(s.$t("taxi")),1),e("option",Y,r(s.$t("delivery")),1),e("option",$,r(s.$t("all")),1)],512),[[j,a.form.transport_type]]),(l(!0),i(h,null,k(a.errors.transport_type,(o,_)=>(l(),i("span",{key:_,class:"text-danger"},r(o),1))),128))])]),e("div",ee,[e("div",te,[e("label",se,[f(r(s.$t("name"))+" ",1),t[8]||(t[8]=e("span",{class:"text-danger"},"*",-1))]),b(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_name"),id:"name","onUpdate:modelValue":t[1]||(t[1]=o=>a.form.name=o)},null,8,ae),[[T,a.form.name]]),(l(!0),i(h,null,k(a.errors.name,(o,_)=>(l(),i("span",{key:_,class:"text-danger"},r(o),1))),128))])]),e("div",oe,[e("div",re,[e("label",ne,[f(r(s.$t("short_description"))+" ",1),t[9]||(t[9]=e("span",{class:"text-danger"},"*",-1))]),b(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_short_description"),id:"short_description","onUpdate:modelValue":t[2]||(t[2]=o=>a.form.short_description=o)},null,8,le),[[T,a.form.short_description]]),(l(!0),i(h,null,k(a.errors.short_description,(o,_)=>(l(),i("span",{key:_,class:"text-danger"},r(o),1))),128))])]),e("div",ie,[e("div",de,[e("label",ce,[f(r(s.$t("description"))+" ",1),t[10]||(t[10]=e("span",{class:"text-danger"},"*",-1))]),b(e("textarea",{type:"text",class:"form-control",placeholder:s.$t("enter_description"),id:"description","onUpdate:modelValue":t[3]||(t[3]=o=>a.form.description=o)},null,8,pe),[[T,a.form.description]]),(l(!0),i(h,null,k(a.errors.description,(o,_)=>(l(),i("span",{key:_,class:"text-danger"},r(o),1))),128))])]),e("div",me,[e("div",_e,[e("button",ue,r(p.packageType?s.$t("update"):s.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[a.successMessage?(l(),i("div",ge,[e("div",fe,[t[11]||(t[11]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[12]||(t[12]=e("strong",null,"Success",-1)),f(" - "+r(a.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[5]||(t[5]=(...o)=>a.dismissMessage&&a.dismissMessage(...o)),"aria-label":"Close Success Message"})])])):V("",!0),a.alertMessage?(l(),i("div",ye,[e("div",ve,[t[13]||(t[13]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[14]||(t[14]=e("strong",null,"Alert",-1)),f(" - "+r(a.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[6]||(t[6]=(...o)=>a.dismissMessage&&a.dismissMessage(...o)),"aria-label":"Close Alert Message"})])])):V("",!0)])]),_:1})}const Se=F(J,[["render",be]]);export{Se as default};
