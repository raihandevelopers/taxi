import{_ as H,Z as F,O as E,C as Q,T as I,r as p,g as y,o as c,x as P,w as l,U,a as N,N as T,k as a,l as e,y as i,J as d,B as V,q as L,M as x,i as m,L as M,F as S,n as q}from"./vendor-ddfbd976.js";import{L as O}from"./main-306a5ea6.js";import{P as j}from"./page-header-2dc95532.js";import{P as D}from"./Pagination-f095ae3c.js";import{F as z}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";const J={components:{Layout:O,PageHeader:j,Head:F,Pagination:D,Multiselect:E,FormValidation:z},props:{successMessage:String,app_for:String,alertMessage:String,settings:Object,validate:Function},setup(s){const{t}=Q(),_=I({bidding_low_percentage:s.settings.bidding_low_percentage||"",bidding_high_percentage:s.settings.bidding_high_percentage||"",bidding_amount_increase_or_decrease:s.settings.bidding_amount_increase_or_decrease||"",user_bidding_low_percentage:s.settings.user_bidding_low_percentage||"",user_bidding_high_percentage:s.settings.user_bidding_high_percentage||"",user_bidding_amount_increase_or_decrease:s.settings.user_bidding_amount_increase_or_decrease||""}),n=p(_.bidding_low_percentage),k=p(_.bidding_high_percentage),R=p(_.bidding_amount_increase_or_decrease),C=p(_.user_bidding_low_percentage),w=p(_.user_bidding_high_percentage),h=p(_.user_bidding_amount_increase_or_decrease),v={},B=p(null),b=p({}),u=p(s.successMessage||""),r=p(s.alertMessage||"");return{form:_,successMessage:u,alertMessage:r,handleSubmit:async()=>{if(s.app_for=="demo"){U.fire(t("error"),t("you_are_not_authorised"),"error");return}if(b.value=B.value.validate(),!(Object.keys(b.value).length>0))try{let o;s.settings?o=await N.post("/bid-ride-settings/update",_.data()):r.value=t("failed_to_update_bid_ride_settings"),o.status===200?(u.value=t("bid_ride_settings_created_successfully"),_.reset(),T.get("/bid-ride-settings")):r.value=t("failed_to_update_bid_ride_settings")}catch(o){o.response&&o.response.status===422?b.value=o.response.data.errors:(console.error(t("error_updating_bid_ride_settings"),o),r.value=t("failed_to_update_bid_ride_settings"))}},dismissMessage:()=>{u.value="",r.value=""},selectedCountry:p(null),selectedTimezone:p(null),validationRules:v,validationRef:B,errors:b,biddingLowPercentage:n,biddingHighPercentage:k,biddingAmountIncreaseOrDecrease:R,userBiddingLowPercentage:C,userBiddingHighPercentage:w,userBiddingAmountIncreaseOrDecrease:h}},mounted(){const s=parseFloat(this.form.bidding_amount_increase_or_decrease)||5,t=parseFloat(this.form.bidding_high_percentage)||10,_=parseFloat(this.form.bidding_low_percentage)||10,n=150,k=parseFloat(this.form.user_bidding_amount_increase_or_decrease)||5,R=parseFloat(this.form.user_bidding_high_percentage)||10,C=parseFloat(this.form.user_bidding_low_percentage)||10,w=150,h=n+n*(t/100),v=n-n*(_/100),B=w+w*(R/100),b=w-w*(C/100);document.querySelectorAll(".minus").forEach(u=>{let r=u.closest(".input-step").querySelector(".product-quantity");u.addEventListener("click",()=>{let g=parseInt(r.value);g-s>=v?r.value=g-s:r.value=v})}),document.querySelectorAll(".plus").forEach(u=>{let r=u.closest(".input-step").querySelector(".product-quantity");u.addEventListener("click",()=>{let g=parseInt(r.value);g+s<=h?r.value=g+s:r.value=h})}),document.querySelectorAll(".user-plus").forEach(u=>{let r=u.closest(".user").querySelector(".product-quantity-user");u.addEventListener("click",()=>{let g=parseInt(r.value);g+k<=B?r.value=g+k:r.value=B})}),document.querySelectorAll(".user-minus").forEach(u=>{let r=u.closest(".user").querySelector(".product-quantity-user");u.addEventListener("click",()=>{let g=parseInt(r.value);g-k>=b?r.value=g-k:r.value=b})})}},Z={class:"alert bg-warning border-warning fs-18",role:"alert"},$={class:"row"},G={class:"col-sm-12"},K={class:"mb-3"},W={for:"bidding_low_percentage",class:"form-label"},X={href:"",class:"text-success","data-bs-toggle":"modal","data-bs-target":"#low"},Y={class:"input-group"},ee=["readonly","placeholder"],te={class:"col-sm-12"},se={class:"mb-3"},ne={for:"bidding_high_percentage",class:"form-label"},oe={href:"",class:"text-success","data-bs-toggle":"modal","data-bs-target":"#high"},de={class:"input-group"},ae=["readonly","placeholder"],ie={class:"col-sm-12"},re={class:"mb-3"},le={for:"bidding_amount_increase_or_decrease",class:"form-label"},_e=["readonly","placeholder"],ue={class:"col-lg-12"},ce={class:"text-end"},ge={type:"submit",class:"btn btn-primary"},me={class:"col-sm-12"},be={class:"mb-3",style:{display:"grid","place-items":"center"}},pe={class:"wallet"},fe={class:"overlap"},he={class:"card cards"},ve={class:"input-step d-flex align-items-center"},ye={class:"row"},we={class:"col-sm-12"},Be={class:"mb-3"},ke={for:"user_bidding_low_percentage",class:"form-label"},Le={href:"",class:"text-success","data-bs-toggle":"modal","data-bs-target":"#low"},xe={class:"input-group"},Me=["readonly","placeholder"],Se={class:"col-sm-12"},Ce={class:"mb-3"},Re={for:"user_bidding_high_percentage",class:"form-label"},Ve={href:"",class:"text-success","data-bs-toggle":"modal","data-bs-target":"#high"},Ae={class:"input-group"},Pe=["readonly","placeholder"],qe={class:"col-sm-12"},He={class:"mb-3"},Fe={for:"user_bidding_amount_increase_or_decrease",class:"form-label"},Ee=["readonly","placeholder"],Qe={class:"col-lg-12"},Ie={class:"text-end"},Ue={type:"submit",class:"btn btn-primary"},Ne={class:"col-sm-12"},Te={class:"mb-3",style:{display:"grid","place-items":"center"}},Oe={class:"wallet"},je={class:"overlap"},De={class:"card cards"},ze={class:"input-step user d-flex align-items-center"},Je={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},Ze={class:"alert-content"},$e={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},Ge={class:"alert-content"},Ke={id:"low",class:"modal fade",tabindex:"-1","aria-labelledby":"lowLabel","aria-hidden":"true",style:{display:"none"}},We={class:"modal-dialog"},Xe={class:"modal-content"},Ye={class:"modal-body"},et={class:"text-muted"},tt={class:"text-muted"},st={class:"text-muted"},nt={id:"high",class:"modal fade",tabindex:"-1","aria-labelledby":"highLabel","aria-hidden":"true",style:{display:"none"}},ot={class:"modal-dialog"},dt={class:"modal-content"},at={class:"modal-body"},it={class:"text-muted"},rt={class:"text-muted"},lt={class:"text-muted"};function _t(s,t,_,n,k,R){const C=y("Head"),w=y("PageHeader"),h=y("BCardHeader"),v=y("BCard"),B=y("FormValidation"),b=y("BCardBody"),u=y("BCol"),r=y("BButton"),g=y("BRow"),A=y("Layout");return c(),P(A,null,{default:l(()=>[a(C,{title:"Bid Ride Settings"}),a(w,{title:s.$t("bid-ride-settings"),pageTitle:s.$t("bid-ride-settings")},null,8,["title","pageTitle"]),a(g,null,{default:l(()=>[_.app_for==="demo"?(c(),P(v,{key:0,"no-body":"",id:"tasksList"},{default:l(()=>[a(h,{class:"border-0"},{default:l(()=>[e("div",Z,[e("strong",null,[i(d(s.$t("note"))+" : ",1),e("em",null,d(s.$t("actions_restricted_due_to_demo_mode")),1)])])]),_:1})]),_:1})):V("",!0),a(u,{lg:"6"},{default:l(()=>[a(v,{"no-body":"",id:"tasksList"},{default:l(()=>[a(h,{class:"border-0"},{default:l(()=>[e("h4",null,d(s.$t("driver")),1)]),_:1}),a(b,{class:"border border-dashed border-end-0 border-start-0"},{default:l(()=>[e("form",{onSubmit:t[3]||(t[3]=q((...o)=>n.handleSubmit&&n.handleSubmit(...o),["prevent"]))},[a(B,{form:n.form,rules:n.validationRules,ref:"validationRef"},{default:l(()=>[e("div",$,[e("div",G,[e("div",K,[e("label",W,[i(d(s.$t("bidding_low_percentage"))+"(Least Bidding Level) ",1),e("a",X,d(s.$t("how_it_works")),1),t[10]||(t[10]=e("span",{class:"text-danger"},"*",-1))]),e("div",Y,[t[11]||(t[11]=e("div",{class:"input-group-text"},"%",-1)),L(e("input",{type:"text",readonly:_.app_for==="demo",class:"form-control",placeholder:s.$t("enter_bidding_low_percentage"),id:"bidding_low_percentage","onUpdate:modelValue":t[0]||(t[0]=o=>n.form.bidding_low_percentage=o)},null,8,ee),[[x,n.form.bidding_low_percentage]]),(c(!0),m(S,null,M(n.errors.name,(o,f)=>(c(),m("span",{key:f,class:"text-danger"},d(o),1))),128))])])]),e("div",te,[e("div",se,[e("label",ne,[i(d(s.$t("bidding_high_percentage"))+"(Highest Bidding Level) ",1),e("a",oe,d(s.$t("how_it_works")),1),t[12]||(t[12]=e("span",{class:"text-danger"},"*",-1))]),e("div",de,[t[13]||(t[13]=e("div",{class:"input-group-text"},"%",-1)),L(e("input",{type:"text",readonly:_.app_for==="demo",class:"form-control",placeholder:s.$t("enter_bidding_high_percentage"),id:"bidding_high_percentage","onUpdate:modelValue":t[1]||(t[1]=o=>n.form.bidding_high_percentage=o)},null,8,ae),[[x,n.form.bidding_high_percentage]]),(c(!0),m(S,null,M(n.errors.name,(o,f)=>(c(),m("span",{key:f,class:"text-danger"},d(o),1))),128))])])]),e("div",ie,[e("div",re,[e("label",le,[i(d(s.$t("increase_decrease_percentage_range"))+" ",1),t[14]||(t[14]=e("span",{class:"text-danger"},"*",-1))]),L(e("input",{type:"text",readonly:_.app_for==="demo",class:"form-control",placeholder:s.$t("enter_increase_decrease_percentage_range"),id:"bidding_amount_increase_or_decrease","onUpdate:modelValue":t[2]||(t[2]=o=>n.form.bidding_amount_increase_or_decrease=o)},null,8,_e),[[x,n.form.bidding_amount_increase_or_decrease]]),(c(!0),m(S,null,M(n.errors.name,(o,f)=>(c(),m("span",{key:f,class:"text-danger"},d(o),1))),128))])]),e("div",ue,[e("div",ce,[e("button",ge,d(_.settings?s.$t("update"):s.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1}),a(u,{lg:"6"},{default:l(()=>[a(v,{"no-body":"",id:"tasksList"},{default:l(()=>[a(h,{class:"border-0"}),a(b,{class:"border border-dashed border-end-0 border-start-0"},{default:l(()=>[e("div",me,[e("div",be,[e("div",pe,[e("div",fe,[e("div",he,[e("div",ve,[a(r,{variant:"text-muted",class:"minus hov"},{default:l(()=>[i("–"+d(n.form.bidding_amount_increase_or_decrease),1)]),_:1}),t[15]||(t[15]=e("input",{type:"number",class:"product-quantity",value:"150",min:"0",max:"100",readonly:""},null,-1)),a(r,{variant:"text-muted",class:"plus hov"},{default:l(()=>[i("+"+d(n.form.bidding_amount_increase_or_decrease),1)]),_:1})]),t[16]||(t[16]=e("div",{class:"hstack gap-2 justify-content-center mt-4"},[e("button",{type:"button",class:"btn",style:{"background-color":"#16ad70",color:"white"}},"Create Request")],-1))])])])])])]),_:1})]),_:1})]),_:1})]),_:1}),a(g,null,{default:l(()=>[a(u,{lg:"6"},{default:l(()=>[a(v,{"no-body":"",id:"tasksList"},{default:l(()=>[a(h,{class:"border-0"},{default:l(()=>[e("h4",null,d(s.$t("user")),1)]),_:1}),a(b,{class:"border border-dashed border-end-0 border-start-0"},{default:l(()=>[e("form",{onSubmit:t[7]||(t[7]=q((...o)=>n.handleSubmit&&n.handleSubmit(...o),["prevent"]))},[a(B,{form:n.form,rules:n.validationRules,ref:"validationRef"},{default:l(()=>[e("div",ye,[e("div",we,[e("div",Be,[e("label",ke,[i(d(s.$t("bidding_low_percentage"))+"(Least Bidding Level) ",1),e("a",Le,d(s.$t("how_it_works")),1),t[17]||(t[17]=e("span",{class:"text-danger"},"*",-1))]),e("div",xe,[t[18]||(t[18]=e("div",{class:"input-group-text"},"%",-1)),L(e("input",{type:"text",readonly:_.app_for==="demo",class:"form-control",placeholder:s.$t("enter_bidding_low_percentage"),id:"user_bidding_low_percentage","onUpdate:modelValue":t[4]||(t[4]=o=>n.form.user_bidding_low_percentage=o)},null,8,Me),[[x,n.form.user_bidding_low_percentage]]),(c(!0),m(S,null,M(n.errors.name,(o,f)=>(c(),m("span",{key:f,class:"text-danger"},d(o),1))),128))])])]),e("div",Se,[e("div",Ce,[e("label",Re,[i(d(s.$t("bidding_high_percentage"))+"(Highest Bidding Level) ",1),e("a",Ve,d(s.$t("how_it_works")),1),t[19]||(t[19]=e("span",{class:"text-danger"},"*",-1))]),e("div",Ae,[t[20]||(t[20]=e("div",{class:"input-group-text"},"%",-1)),L(e("input",{type:"text",readonly:_.app_for==="demo",class:"form-control",placeholder:s.$t("enter_bidding_high_percentage"),id:"user_bidding_high_percentage","onUpdate:modelValue":t[5]||(t[5]=o=>n.form.user_bidding_high_percentage=o)},null,8,Pe),[[x,n.form.user_bidding_high_percentage]]),(c(!0),m(S,null,M(n.errors.name,(o,f)=>(c(),m("span",{key:f,class:"text-danger"},d(o),1))),128))])])]),e("div",qe,[e("div",He,[e("label",Fe,[i(d(s.$t("increase_decrease_percentage_range"))+" ",1),t[21]||(t[21]=e("span",{class:"text-danger"},"*",-1))]),L(e("input",{type:"text",readonly:_.app_for==="demo",class:"form-control",placeholder:s.$t("enter_increase_decrease_percentage_range"),id:"user_bidding_amount_increase_or_decrease","onUpdate:modelValue":t[6]||(t[6]=o=>n.form.user_bidding_amount_increase_or_decrease=o)},null,8,Ee),[[x,n.form.user_bidding_amount_increase_or_decrease]]),(c(!0),m(S,null,M(n.errors.name,(o,f)=>(c(),m("span",{key:f,class:"text-danger"},d(o),1))),128))])]),e("div",Qe,[e("div",Ie,[e("button",Ue,d(_.settings?s.$t("update"):s.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1}),a(u,{lg:"6"},{default:l(()=>[a(v,{"no-body":"",id:"tasksList"},{default:l(()=>[a(h,{class:"border-0"}),a(b,{class:"border border-dashed border-end-0 border-start-0"},{default:l(()=>[e("div",Ne,[e("div",Te,[e("div",Oe,[e("div",je,[e("div",De,[e("div",ze,[a(r,{variant:"text-muted",class:"user-minus hov"},{default:l(()=>[i("–"+d(n.form.user_bidding_amount_increase_or_decrease),1)]),_:1}),t[22]||(t[22]=e("input",{type:"number",class:"product-quantity-user",value:"150",min:"0",max:"100",readonly:""},null,-1)),a(r,{variant:"text-muted",class:"user-plus hov"},{default:l(()=>[i("+"+d(n.form.user_bidding_amount_increase_or_decrease),1)]),_:1})]),t[23]||(t[23]=e("div",{class:"hstack gap-2 justify-content-center mt-4"},[e("button",{type:"button",class:"btn",style:{"background-color":"#16ad70",color:"white"}},"Create Request")],-1))])])])])])]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[n.successMessage?(c(),m("div",Je,[e("div",Ze,[t[24]||(t[24]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[25]||(t[25]=e("strong",null,"Success",-1)),i(" - "+d(n.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[8]||(t[8]=(...o)=>n.dismissMessage&&n.dismissMessage(...o)),"aria-label":"Close Success Message"})])])):V("",!0),n.alertMessage?(c(),m("div",$e,[e("div",Ge,[t[26]||(t[26]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[27]||(t[27]=e("strong",null,"Alert",-1)),i(" - "+d(n.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[9]||(t[9]=(...o)=>n.dismissMessage&&n.dismissMessage(...o)),"aria-label":"Close Alert Message"})])])):V("",!0)]),e("div",Ke,[e("div",We,[e("div",Xe,[t[35]||(t[35]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"myModalLabel"},"Least Bidding Amount"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",Ye,[t[31]||(t[31]=e("h5",{class:"fs-15"}," Least Bidding Amount Calculation ",-1)),t[32]||(t[32]=e("p",{class:"text-muted"},[i(" Recommended Price for ride = "),e("strong",null,"$150")],-1)),e("p",et,[i(d(s.$t("bidding_low_percentage"))+" = ",1),t[28]||(t[28]=e("strong",null,"50 %",-1))]),e("p",tt,[i(" Recommended Price of "+d(s.$t("bidding_low_percentage"))+" =",1),t[29]||(t[29]=e("strong",null,"150 of 50% = $75",-1))]),e("p",st,[t[30]||(t[30]=i(" Least Bidding Amount = ")),e("strong",null," Recommended Price for ride - Recommended Price of "+d(s.$t("bidding_low_percentage")),1)]),t[33]||(t[33]=e("p",{class:"text-muted"},[i(" Least Bidding Amount = "),e("strong",null," $150 - $75"),i("= "),e("h6",null,"$75")],-1)),t[34]||(t[34]=e("p",{class:"text-muted"},[i(" Least Bidding Amount = "),e("strong",null,"$75")],-1))])])])]),e("div",nt,[e("div",ot,[e("div",dt,[t[43]||(t[43]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"myModalLabel"},"Highest Bidding Amount"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",at,[t[39]||(t[39]=e("h5",{class:"fs-15"}," Highest Bidding Amount Calculation ",-1)),t[40]||(t[40]=e("p",{class:"text-muted"},[i(" Recommended Price for ride = "),e("strong",null,"$150")],-1)),e("p",it,[i(d(s.$t("bidding_high_percentage"))+" = ",1),t[36]||(t[36]=e("strong",null,"50 %",-1))]),e("p",rt,[i(" Recommended Price of "+d(s.$t("bidding_high_percentage"))+" =",1),t[37]||(t[37]=e("strong",null,"150 of 50% = $75",-1))]),e("p",lt,[t[38]||(t[38]=i(" Highest Bidding Amount = ")),e("strong",null," Recommended Price for ride + Recommended Price of "+d(s.$t("bidding_high_percentage")),1)]),t[41]||(t[41]=e("p",{class:"text-muted"},[i(" Highest Bidding Amount = "),e("strong",null," $150 + $75"),i("= "),e("h6",null,"$225")],-1)),t[42]||(t[42]=e("p",{class:"text-muted"},[i(" Highest Bidding Amount = "),e("strong",null,"$225")],-1))])])])])]),_:1})}const ht=H(J,[["render",_t]]);export{ht as default};
