import{_ as j,Z as q,O as J,P as Q,z as Z,C as X,r as p,T as $,Q as ee,a2 as te,a as I,R as se,g as r,S as oe,o as u,x as D,w as n,U as h,N as ae,k as l,l as t,J as d,q as R,K as G,i as g,L as K,F as W,y as k,B as w,p as le,n as E}from"./vendor-ddfbd976.js";import{L as ne}from"./main-306a5ea6.js";import{P as ie}from"./page-header-2dc95532.js";import{P as re}from"./Pagination-f095ae3c.js";import{s as de}from"./search-2c17aadd.js";import{s as ce}from"./searchbar-3acbc236.js";import{l as ue}from"./footer-e648049d.js";import{_ as me}from"./search-file-ab3e1046.js";import"./app-042fb454.js";const fe={data(){return{rightOffcanvas:!1}},components:{Layout:ne,PageHeader:ie,Head:q,Pagination:re,Multiselect:J,flatPickr:Q,Link:Z,search:de,searchbar:ce},props:{successMessage:String,alertMessage:String,serviceLocations:{type:Object,required:!0}},setup(o){const{t:e}=X(),x=p(""),a=$({all:"",locked:"",limit:10}),f=p([]),M=p({}),B=p(!1),y=p(!1),m=p(null),b=p({}),P=p(o.successMessage||""),C=p(o.alertMessage||""),L=()=>{P.value="",C.value=""},A=()=>{y.value=!0},F=()=>{a.reset(),_(),y.value=!1},T=()=>{B.value=!1},S=async i=>{try{await I.delete(`/owner-needed-documents/delete/${i}`);const c=f.value.findIndex(v=>v.id===i);c!==-1&&f.value.splice(c,1),B.value=!1,h.fire(e("success"),e("document_deleted_successfully"),"success")}catch{h.fire(e("error"),e("failed_to_delete_document"),"error")}},H=async(i,c)=>{h.fire({title:e("are_you_sure"),text:e("you_are_about_to_change_status"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:e("yes"),cancelButtonText:e("cancel")}).then(async v=>{if(v.isConfirmed)try{await I.post("/owner-needed-documents/toggle",{id:i,status:c});const V=f.value.findIndex(Y=>Y.id===i);V!==-1&&(f.value[V].active=c),h.fire(e("changed"),e("status_updated_successfully"),"success")}catch(V){console.error(e("error_updating_status"),V),h.fire(e("error"),e("failed_to_update_status"),"error")}})},N=async i=>{h.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async c=>{if(c.isConfirmed)try{await S(i)}catch(v){console.error(e("error_deleting_data"),v),h.fire(e("error"),e("failed_to_delete_the_data"),"error")}})};ee(x,te.debounce(function(i){_(x.value)},300));const _=async(i=1)=>{try{const c=a.data();c.search=x.value,c.page=i;const v=await I.get("/owner-needed-documents/list",{params:c});f.value=v.data.results,M.value=v.data.paginator,s(M.value.total),y.value=!1}catch(c){console.error(e("error_fetching_documents"),c)}},U=async i=>{_(i)},O=async i=>{ae.get(`/owner-needed-documents/edit/${i.id}`)},s=()=>{b.value=[10,25,50,100,200,500]};return{results:f,modalShow:B,deleteItemId:m,successMessage:P,alertMessage:C,filterData:A,deleteModal:N,closeModal:T,deleteData:S,dismissMessage:L,searchTerm:x,paginator:M,toggleActiveStatus:H,modalFilter:y,clearFilter:F,fetchDatas:_,filter:a,handlePageChanged:U,editData:O,paginatorOption:b,changeEntriesPerPage:()=>{_()}}},computed:{...ue,...se(["permissions"])},mounted(){this.fetchDatas()}},pe={class:"d-flex align-items-center mt-3"},ge={class:"me-2 text-muted"},be=["value"],ve={class:"ms-2 text-muted"},_e={class:"d-flex align-items-center gap-2"},he={class:"table-responsive"},ke={class:"table align-middle position-relative table-nowrap"},ye={class:"table-active"},Ce={scope:"col"},we={scope:"col"},xe={scope:"col"},Be={scope:"col"},Me={scope:"col"},Pe={key:0},Se={key:0},Oe=["onClick","id","checked"],Ve={key:1},De={colspan:"7",class:"text-center"},Re={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Le={class:"alert-content"},Ae={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Fe={class:"alert-content"},Te={class:"offcanvas-body"},He={class:"mb-4"},Ne={class:"mb-4"},Ue={class:"mb-4"},Ie={class:"mb-4"},Ee={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function ze(o,e,x,a,f,M){const B=r("Head"),y=r("PageHeader"),m=r("BCol"),b=r("BButton"),P=r("Link"),C=r("BRow"),L=r("BCardHeader"),A=r("BCardBody"),F=r("BCard"),T=r("flat-pickr"),S=r("Multiselect"),H=r("BFrom"),N=r("BOffcanvas"),_=r("Pagination"),U=r("Layout"),O=oe("b-tooltip");return u(),D(U,null,{default:n(()=>[l(B,{title:"Owner Needed Documents"}),l(y,{title:o.$t("owner_needed_documents"),pageTitle:o.$t("owner_needed_documents")},null,8,["title","pageTitle"]),l(C,null,{default:n(()=>[l(m,{lg:"12"},{default:n(()=>[l(F,{"no-body":"",id:"tasksList"},{default:n(()=>[l(L,{class:"border-0"},{default:n(()=>[l(C,{class:"g-2"},{default:n(()=>[l(m,{md:"3"},{default:n(()=>[t("div",pe,[t("label",ge,d(o.$t("show")),1),R(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.filter.limit=s),onChange:e[1]||(e[1]=(...s)=>a.changeEntriesPerPage&&a.changeEntriesPerPage(...s)),class:"form-select form-select-sm w-auto"},[(u(!0),g(W,null,K(a.paginatorOption,s=>(u(),g("option",{key:s,value:s},d(s),9,be))),128))],544),[[G,a.filter.limit]]),t("label",ve,d(o.$t("entries")),1)])]),_:1}),l(m,{md:"3"}),l(m,{md:"auto",class:"ms-auto"},{default:n(()=>[t("div",_e,[o.permissions.includes("add-owner-needed-document")?(u(),D(P,{key:0,href:"/owner-needed-documents/create"},{default:n(()=>[l(b,{variant:"primary",class:"float-end"},{default:n(()=>[e[8]||(e[8]=t("i",{class:"ri-add-line align-bottom me-1"},null,-1)),k(" "+d(o.$t("add_owner_needed_documents")),1)]),_:1,__:[8]})]),_:1})):w("",!0)])]),_:1})]),_:1})]),_:1}),l(A,{class:"border border-dashed border-end-0 border-start-0"},{default:n(()=>[t("div",he,[t("table",ke,[t("thead",ye,[t("tr",null,[t("th",Ce,d(o.$t("name")),1),t("th",we,d(o.$t("document_type")),1),t("th",xe,d(o.$t("has_expiry_date")),1),t("th",Be,d(o.$t("status")),1),t("th",Me,d(o.$t("action")),1)])]),a.results.length>0?(u(),g("tbody",Pe,[(u(!0),g(W,null,K(a.results,(s,z)=>(u(),g("tr",{key:z},[t("td",null,d(s.name),1),t("td",null,d(s.doc_type),1),t("td",null,d(s.has_expiry_date?"Yes":"No"),1),o.permissions.includes("toggle-owner-needed-document")?(u(),g("td",Se,[t("div",{class:le({"form-check":!0,"form-switch":!0,"form-switch-lg":!0,"form-switch-success":s.active})},[t("input",{class:"form-check-input",type:"checkbox",role:"switch",onClick:E(i=>a.toggleActiveStatus(s.id,!s.active),["prevent"]),id:"status_"+s.id,checked:s.active},null,8,Oe)],2)])):w("",!0),t("td",null,[o.permissions.includes("edit-owner-needed-document")?R((u(),D(b,{key:0,onClick:E(i=>a.editData(s),["prevent"]),class:"btn btn-soft-warning btn-sm m-2","data-bs-toggle":"tooltip",title:o.$t("edit")},{default:n(()=>e[9]||(e[9]=[t("i",{class:"bx bxs-edit-alt bx-xs"},null,-1)])),_:2,__:[9]},1032,["onClick","title"])),[[O,void 0,void 0,{hover:!0}]]):w("",!0),o.permissions.includes("delete-owner-needed-document")?R((u(),D(b,{key:1,class:"btn btn-soft-danger btn-sm m-2",size:"sm",type:"button",onClick:E(i=>a.deleteModal(s.id),["prevent"]),"data-bs-toggle":"tooltip",title:o.$t("delete")},{default:n(()=>e[10]||(e[10]=[t("i",{class:"bx bx-trash bx-xs"},null,-1)])),_:2,__:[10]},1032,["onClick","title"])),[[O,void 0,void 0,{hover:!0}]]):w("",!0)])]))),128))])):(u(),g("tbody",Ve,[t("tr",null,[t("td",De,[e[11]||(e[11]=t("img",{src:me,alt:"Loading...",style:{width:"100px"}},null,-1)),t("h5",null,d(o.$t("no_data_found")),1)])])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),t("div",null,[a.successMessage?(u(),g("div",Re,[t("div",Le,[e[12]||(e[12]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[13]||(e[13]=k()),e[14]||(e[14]=t("strong",null,"Success",-1)),k(" - "+d(a.successMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-success",onClick:e[2]||(e[2]=(...s)=>a.dismissMessage&&a.dismissMessage(...s)),"aria-label":"Close Success Message"})])])):w("",!0),a.alertMessage?(u(),g("div",Ae,[t("div",Fe,[e[15]||(e[15]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[16]||(e[16]=k()),e[17]||(e[17]=t("strong",null,"Alert",-1)),k(" - "+d(a.alertMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[3]||(e[3]=(...s)=>a.dismissMessage&&a.dismissMessage(...s)),"aria-label":"Close Alert Message"})])])):w("",!0)]),l(N,{modelValue:f.rightOffcanvas,"onUpdate:modelValue":e[7]||(e[7]=s=>f.rightOffcanvas=s),placement:"end",title:"Leads Filters","header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:n(()=>[l(H,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:n(()=>[t("div",Te,[t("div",He,[e[19]||(e[19]=t("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Process",-1)),R(t("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":e[4]||(e[4]=s=>o.status=s)},e[18]||(e[18]=[t("option",{value:"All Tasks"},"All",-1),t("option",{value:"Completed"},"Completed",-1),t("option",{value:"Inprogress"},"Inprogress",-1),t("option",{value:"Pending"},"Pending",-1),t("option",{value:"Pending"},"Cancelled",-1)]),512),[[G,o.status]])]),e[27]||(e[27]=t("div",{class:"mb-4"},[t("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Payment"),t("div",null,[t("div",{class:"form-check form-check-inline"},[t("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio1",value:"option1"}),t("label",{class:"form-check-label",for:"inlineRadio1"},"Online")]),t("div",{class:"form-check form-check-inline"},[t("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio2",value:"option2"}),t("label",{class:"form-check-label",for:"inlineRadio1"},"Card")]),t("div",{class:"form-check form-check-inline"},[t("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio3",value:"option3"}),t("label",{class:"form-check-label",for:"inlineRadio1"},"Cash")])])],-1)),t("div",Ne,[e[20]||(e[20]=t("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Date",-1)),l(T,{placeholder:"Select date",modelValue:o.date,"onUpdate:modelValue":e[5]||(e[5]=s=>o.date=s),config:o.rangeDateconfig,class:"form-control flatpickr-input",id:"demo-datepicker"},null,8,["modelValue","config"])]),t("div",Ue,[e[21]||(e[21]=t("label",{for:"country-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Country",-1)),l(S,{class:"form-control",modelValue:o.value,"onUpdate:modelValue":e[6]||(e[6]=s=>o.value=s),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Select country"},{value:"Argentina",label:"Argentina"},{value:"Belgium",label:"Belgium"},{value:"Brazil",label:"Brazil"},{value:"Colombia",label:"Colombia"},{value:"Denmark",label:"Denmark"},{value:"France",label:"France"},{value:"Germany",label:"Germany"},{value:"Mexico",label:"Mexico"},{value:"Russia",label:"Russia"},{value:"Spain",label:"Spain"},{value:"Syria",label:"Syria"},{value:"United Kingdom",label:"United Kingdom"}]},null,8,["modelValue"])]),t("div",Ie,[e[26]||(e[26]=t("label",{for:"status-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Status",-1)),l(C,{class:"g-2"},{default:n(()=>[l(m,{lg:"6"},{default:n(()=>e[22]||(e[22]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox1",value:"option1"}),t("label",{class:"form-check-label",for:"inlineCheckbox1"},"Active")],-1)])),_:1,__:[22]}),l(m,{lg:"6"},{default:n(()=>e[23]||(e[23]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox2",value:"option2"}),t("label",{class:"form-check-label",for:"inlineCheckbox2"},"Inactive")],-1)])),_:1,__:[23]}),l(m,{lg:"6"},{default:n(()=>e[24]||(e[24]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox3",value:"option3"}),t("label",{class:"form-check-label",for:"inlineCheckbox3"},"Cash")],-1)])),_:1,__:[24]}),l(m,{lg:"6"},{default:n(()=>e[25]||(e[25]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox4",value:"option4"}),t("label",{class:"form-check-label",for:"inlineCheckbox4"},"Card")],-1)])),_:1,__:[25]})]),_:1})]),e[28]||(e[28]=t("div",null,null,-1))]),t("div",Ee,[l(b,{variant:"light",class:"w-100"},{default:n(()=>e[29]||(e[29]=[k("Clear Filter")])),_:1,__:[29]}),l(b,{type:"submit",variant:"success",class:"w-100"},{default:n(()=>e[30]||(e[30]=[k(" Apply ")])),_:1,__:[30]})])]),_:1})]),_:1},8,["modelValue"]),l(_,{paginator:a.paginator,onPageChanged:a.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const Xe=j(fe,[["render",ze]]);export{Xe as default};
