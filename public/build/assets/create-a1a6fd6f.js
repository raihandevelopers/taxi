import{_ as R,Z as T,C as x,T as P,r as q,g as n,o as i,x as U,w as m,a as h,N as k,k as d,l as e,y as b,J as r,q as p,K as j,i as u,L as M,F as w,M as S,n as A,B as V}from"./vendor-ddfbd976.js";import{L as D}from"./main-306a5ea6.js";import{P as O}from"./page-header-2dc95532.js";import{F as E}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";const I={components:{Layout:D,PageHeader:O,Head:T,FormValidation:E},props:{successMessage:String,alertMessage:String,faq:Object},setup(t){const{t:s}=x(),c=P({question:t.faq&&t.faq.question||"",answer:t.faq&&t.faq.answer||"",user_type:t.faq&&t.faq.user_type||""}),a={question:{required:!0},answer:{required:!0},user_type:{required:!0}},y=q(null),_=q({}),g=q(t.successMessage||""),f=q(t.alertMessage||"");return{form:c,successMessage:g,alertMessage:f,handleSubmit:async()=>{if(_.value=y.value.validate(),!(Object.keys(_.value).length>0))try{let l;t.faq&&t.faq.id?l=await h.post(`/faq/update/${t.faq.id}`,c.data()):l=await h.post("/faq/store",c.data()),l.status===201?(g.value=s("faq_saved_successfully"),c.reset(),k.get("/faq")):f.value=s("failed_to_save_faq")}catch(l){l.response&&l.response.status===422?_.value=l.response.data.errors:l.response&&l.response.status===403?(f.value=l.response.data.alertMessage,setTimeout(()=>{k.get("/faq")},5e3)):(console.error(s("error_saving_faq"),l),f.value=s("failed_to_save_faq_catch"))}},dismissMessage:()=>{g.value="",f.value=""},validationRules:a,validationRef:y,errors:_}}},J={class:"row"},K={class:"col-sm-6"},Z={class:"mb-3"},z={for:"user_type",class:"form-label"},G={disabled:"",value:""},Q={value:"user"},W={value:"driver"},X={value:"all"},Y={class:"col-sm-6"},$={class:"mb-3"},ee={for:"question",class:"form-label"},se=["placeholder"],te={class:"col-sm-6"},ae={class:"mb-3"},oe={for:"answer",class:"form-label"},le=["placeholder"],re={class:"col-lg-12"},ne={class:"text-end"},ie={type:"submit",class:"btn btn-primary"},de={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},ue={class:"alert-content"},ce={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},fe={class:"alert-content"};function me(t,s,c,a,y,_){const g=n("Head"),f=n("PageHeader"),B=n("BCardHeader"),C=n("FormValidation"),l=n("BCardBody"),H=n("BCard"),L=n("BCol"),F=n("BRow"),N=n("Layout");return i(),U(N,null,{default:m(()=>[d(g,{title:"Faq"}),d(f,{title:c.faq?t.$t("edit"):t.$t("create"),pageTitle:t.$t("faq"),pageLink:"/faq"},null,8,["title","pageTitle"]),d(F,null,{default:m(()=>[d(L,{lg:"12"},{default:m(()=>[d(H,{"no-body":"",id:"tasksList"},{default:m(()=>[d(B,{class:"border-0"}),d(l,{class:"border border-dashed border-end-0 border-start-0"},{default:m(()=>[e("form",{onSubmit:s[3]||(s[3]=A((...o)=>a.handleSubmit&&a.handleSubmit(...o),["prevent"]))},[d(C,{form:a.form,rules:a.validationRules,ref:"validationRef"},{default:m(()=>[e("div",J,[e("div",K,[e("div",Z,[e("label",z,[b(r(t.$t("user_type"))+" ",1),s[6]||(s[6]=e("span",{class:"text-danger"},"*",-1))]),p(e("select",{id:"user_type",class:"form-select","onUpdate:modelValue":s[0]||(s[0]=o=>a.form.user_type=o)},[e("option",G,r(t.$t("select")),1),e("option",Q,r(t.$t("user")),1),e("option",W,r(t.$t("driver")),1),e("option",X,r(t.$t("all")),1)],512),[[j,a.form.user_type]]),(i(!0),u(w,null,M(a.errors.user_type,(o,v)=>(i(),u("span",{key:v,class:"text-danger"},r(o),1))),128))])]),e("div",Y,[e("div",$,[e("label",ee,[b(r(t.$t("question"))+" ",1),s[7]||(s[7]=e("span",{class:"text-danger"},"*",-1))]),p(e("input",{type:"text",class:"form-control",placeholder:t.$t("enter_question"),id:"question","onUpdate:modelValue":s[1]||(s[1]=o=>a.form.question=o)},null,8,se),[[S,a.form.question]]),(i(!0),u(w,null,M(a.errors.question,(o,v)=>(i(),u("span",{key:v,class:"text-danger"},r(o),1))),128))])]),e("div",te,[e("div",ae,[e("label",oe,[b(r(t.$t("answer"))+" ",1),s[8]||(s[8]=e("span",{class:"text-danger"},"*",-1))]),p(e("input",{type:"text",class:"form-control",placeholder:t.$t("enter_answer"),id:"answer","onUpdate:modelValue":s[2]||(s[2]=o=>a.form.answer=o)},null,8,le),[[S,a.form.answer]]),(i(!0),u(w,null,M(a.errors.answer,(o,v)=>(i(),u("span",{key:v,class:"text-danger"},r(o),1))),128))])]),e("div",re,[e("div",ne,[e("button",ie,r(c.faq?t.$t("update"):t.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[a.successMessage?(i(),u("div",de,[e("div",ue,[s[9]||(s[9]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[10]||(s[10]=e("strong",null,"Success",-1)),b(" - "+r(a.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:s[4]||(s[4]=(...o)=>a.dismissMessage&&a.dismissMessage(...o)),"aria-label":"Close Success Message"})])])):V("",!0),a.alertMessage?(i(),u("div",ce,[e("div",fe,[s[11]||(s[11]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[12]||(s[12]=e("strong",null,"Alert",-1)),b(" - "+r(a.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[5]||(s[5]=(...o)=>a.dismissMessage&&a.dismissMessage(...o)),"aria-label":"Close Alert Message"})])])):V("",!0)])]),_:1})}const pe=R(I,[["render",me]]);export{pe as default};
