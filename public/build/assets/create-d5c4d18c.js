import{_ as h,Z as L,O as N,C as R,r as u,T,g as r,o as f,x as F,w as i,a as C,N as P,k as l,i as v,l as s,y as m,J as y,B as M,q as x,M as O,n as j}from"./vendor-ddfbd976.js";import{L as q}from"./main-306a5ea6.js";import{P as A}from"./page-header-2dc95532.js";import{F as D}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";const E={components:{Layout:q,PageHeader:A,Head:L,Multiselect:N,FormValidation:D},props:{category:Object,successMessage:String,alertMessage:String,app_for:String},setup(t){const{t:e}=R(),d=u({}),a=u(null),c=T({category:t.category&&t.category.category||""}),_=u(t.successMessage||""),g=u(t.alertMessage||""),b={category:{required:!0}},p=u("");return{form:c,successMessage:_,alertMessage:g,errors:d,handleSubmit:async()=>{if(d.value=a.value.validate(),!(Object.keys(d.value).length>0))try{let o;t.category&&t.category.id?o=await C.post(`/category/update/${t.category.id}`,c.data()):o=await C.post("store",c.data()),o.status===201?(_.value=e("category_created_successfully"),c.reset(),P.get("/category")):g.value=e("failed_to_create_category")}catch(o){o.response&&o.response.status===422?d.value=o.response.data.errors:(console.error(e("error_creating_category"),o),g.value=e("failed_to_create_category_catch"))}},validationRef:a,validationRules:b,searchQuery:p}}},I={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},J={class:"alert-content"},Q={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},U={class:"alert-content"},Z={class:"row"},z={class:"col-sm-12"},G={class:"mb-3"},K={for:"category",class:"form-label"},W=["placeholder"],X={key:0,class:"text-danger"},Y={class:"col-sm-12 text-end"},$={type:"submit",class:"btn btn-primary"};function ee(t,e,d,a,c,_){const g=r("Head"),b=r("PageHeader"),p=r("tab"),B=r("BCardHeader"),o=r("FormValidation"),k=r("BCardBody"),w=r("BCard"),S=r("BCol"),H=r("BRow"),V=r("Layout");return f(),F(V,null,{default:i(()=>[l(g,{title:"Category"}),l(b,{title:d.category?t.$t("edit"):t.$t("create"),pageTitle:t.$t("category"),pageLink:"/category"},null,8,["title","pageTitle"]),l(H,null,{default:i(()=>[l(S,{lg:"12"},{default:i(()=>[l(w,{"no-body":"",id:"tasksList"},{default:i(()=>[l(B,{class:"border-0"},{default:i(()=>[l(p),a.successMessage?(f(),v("div",I,[s("div",J,[e[4]||(e[4]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[5]||(e[5]=m()),e[6]||(e[6]=s("strong",null,"Success",-1)),m(" - "+y(a.successMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-success",onClick:e[0]||(e[0]=(...n)=>t.dismissMessage&&t.dismissMessage(...n)),"aria-label":"Close Success Message"})])])):M("",!0),a.alertMessage?(f(),v("div",Q,[s("div",U,[e[7]||(e[7]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[8]||(e[8]=m()),e[9]||(e[9]=s("strong",null,"Alert",-1)),m(" - "+y(a.alertMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[1]||(e[1]=(...n)=>t.dismissMessage&&t.dismissMessage(...n)),"aria-label":"Close Alert Message"})])])):M("",!0)]),_:1}),l(k,{class:"border border-dashed border-end-0 border-start-0"},{default:i(()=>[s("form",{onSubmit:e[3]||(e[3]=j((...n)=>a.handleSubmit&&a.handleSubmit(...n),["prevent"])),enctype:"multipart/form-data"},[l(o,{form:a.form,rules:a.validationRules,ref:"validationRef"},{default:i(()=>[s("div",Z,[s("div",z,[s("div",G,[s("label",K,[m(y(t.$t("category"))+" ",1),e[10]||(e[10]=s("span",{class:"text-danger"},"*",-1))]),x(s("input",{type:"text",class:"form-control",placeholder:t.$t("enter_category"),id:"category","onUpdate:modelValue":e[2]||(e[2]=n=>a.form.category=n)},null,8,W),[[O,a.form.category]]),a.errors.category?(f(),v("span",X,y(a.errors.category),1)):M("",!0)])]),s("div",Y,[s("button",$,y(t.$t("submit")),1)])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ne=h(E,[["render",ee]]);export{ne as default};
