import{_ as A,Z as L,O as E,C as H,T as N,r as w,G as T,g as f,o as l,x as D,w as y,a as q,N as j,k as u,l as e,y as c,J as r,q as _,K as B,i,L as S,F,B as d,M as g,n as O}from"./vendor-ddfbd976.js";import{L as G}from"./main-306a5ea6.js";import{P as J}from"./page-header-2dc95532.js";import{P as K}from"./Pagination-f095ae3c.js";import{i as Z}from"./imageUpload-4f5efd67.js";import{F as z}from"./FormValidation-a9047131.js";import{I as Q}from"./ImageUpload-6f09ff26.js";import"./footer-e648049d.js";import"./app-042fb454.js";/* empty css                                                    */const W={components:{Layout:G,PageHeader:J,Head:L,Pagination:K,Multiselect:E,FormValidation:z,imageUpload:Z,ImageUpload:Q},props:{successMessage:String,alertMessage:String,app_for:String,countries:Array,roles:Array,role:Array,admin:Array,serviceLocations:Array,validate:Function,category:Array},setup(o){const{t:s}=H(),n=N({country:o.admin&&o.admin.country||"",service_location_id:o.admin&&o.admin.service_location_id||"",role:o.admin&&o.role.slug||"",mobile:o.admin&&o.admin.mobile||"",name:o.admin&&o.admin.first_name||"",email:o.admin&&o.admin.email||"",address:o.admin&&o.admin.address||"",state:o.admin&&o.admin.state||"",city:o.admin&&o.admin.city||"",pincode:o.admin&&o.admin.pincode||"",password:o.admin&&o.admin.password||"",confirm_password:o.admin&&o.admin.password||"",profile_picture:o.admin&&o.admin.profile_picture||""}),a={name:{required:!0},email:{required:!0},address:{required:!0},role:{required:!0},state:{required:!0},city:{required:!0},country:{required:!0},service_location_id:{required:!0},confirm_password:{required:!o.admin,sameAs:"password"},pincode:{required:!0}};o.admin&&o.app_for=="demo"&&(n.mobile="**********",n.email="**********");const k=w(null),v=w({}),p=w(o.successMessage||""),b=w(o.alertMessage||""),M=()=>{p.value="",b.value=""},V=async()=>{if(v.value=k.value.validate(),Object.keys(v.value).length>0)return;const m=new FormData;for(const t in n)t==="iconFile"&&n[t]?m.append("profile_picture",n[t]):m.append(t,n[t]);try{let t;o.admin&&o.admin.id?t=await q.post(`/admins/update/${o.admin.id}`,m):t=await q.post("store",m),t.status===201?(p.value=s("admin_created_successfully"),n.reset(),j.get("/admins")):b.value=s("failed_to_create_admin")}catch(t){t.response&&t.response.status===422?v.value=t.response.data.errors:(console.error(s("error_creating_admin"),t),b.value=s("failed_to_create_admin"))}},C=m=>{const t=m.target.files[0];if(n.profilePictureFile=t,t){const R=new FileReader;R.onload=P=>{h.value=P.target.result},R.readAsDataURL(t)}},h=w(""),U=T(()=>{var m;return n.profilePictureFile?h.value:(m=o.admin)!=null&&m.profile_picture?o.admin.profile_picture:"/default-profile.jpeg"});return{form:n,successMessage:p,alertMessage:b,handleSubmit:V,dismissMessage:M,validationRules:a,validationRef:k,errors:v,onFileChange:C,imageSrc:U,profilePictureUrl:h,handleImageSelected:(m,t)=>{n[t]=m},handleImageRemoved:m=>{n[m]=null}}},methods:{validateEmail(){this.form.email?this.isValidEmail(this.form.email)?this.errors.email="":this.errors.email="Enter a valid email address":this.errors.email="Email is required"},isValidEmail(o){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)}}},X={class:"row"},Y={class:"col-sm-6"},$={class:"mb-3"},ee={for:"role",class:"form-label"},se={disabled:"",value:""},oe=["value"],ae={key:0,class:"text-danger"},te={class:"col-sm-6"},re={class:"mb-3"},le={for:"service_location_id",class:"form-label"},ie={disabled:"",value:""},ne=["value"],de={key:0,class:"text-danger"},me={class:"col-sm-6"},ce={class:"mb-3"},_e={for:"name",class:"form-label"},fe=["placeholder"],ue={key:0,class:"text-danger"},ge={class:"col-sm-6"},ve={class:"mb-3"},be={for:"address",class:"form-label"},ye=["placeholder"],pe={key:0,class:"text-danger"},he={class:"col-sm-6"},we={class:"mb-3"},ke={for:"mobile",class:"form-label"},Me=["placeholder"],Ve={key:0,class:"text-danger"},Ce={class:"col-sm-6"},Ue={class:"mb-3"},Be={for:"email",class:"form-label"},Se=["placeholder"],Fe={key:0,class:"text-danger"},Ie={key:0,class:"col-sm-6"},xe={class:"mb-3"},Re={for:"password",class:"form-label"},qe=["placeholder"],Pe={key:0,class:"text-danger"},Ae={key:1,class:"col-sm-6"},Le={class:"mb-3"},Ee={for:"confirm_password",class:"form-label"},He=["placeholder"],Ne={key:0,class:"text-danger"},Te={class:"col-sm-6"},De={class:"mb-3"},je={for:"country",class:"form-label"},Oe={disabled:"",value:""},Ge=["value"],Je={key:0,class:"text-danger"},Ke={class:"col-sm-6"},Ze={class:"mb-3"},ze={for:"state",class:"form-label"},Qe=["placeholder"],We={key:0,class:"text-danger"},Xe={class:"col-sm-6"},Ye={class:"mb-3"},$e={for:"city",class:"form-label"},es=["placeholder"],ss={key:0,class:"text-danger"},os={class:"col-sm-6"},as={class:"mb-3"},ts={for:"pincode",class:"form-label"},rs=["placeholder"],ls={key:0,class:"text-danger"},is={class:"row"},ns={class:"col-sm-6"},ds={key:0,class:"text-danger"},ms={class:"col-lg-12"},cs={class:"text-end"},_s={type:"submit",class:"btn btn-primary"},fs={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},us={class:"alert-content"},gs={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},vs={class:"alert-content"};function bs(o,s,n,a,k,v){const p=f("Head"),b=f("PageHeader"),M=f("BCardHeader"),V=f("ImageUpload"),C=f("FormValidation"),h=f("BCardBody"),U=f("BCard"),I=f("BCol"),x=f("BRow"),m=f("Layout");return l(),D(m,null,{default:y(()=>[u(p,{title:"Admin"}),u(b,{title:n.admin?o.$t("edit"):o.$t("create"),pageTitle:o.$t("admins"),pageLink:"/admins"},null,8,["title","pageTitle"]),u(x,null,{default:y(()=>[u(I,{lg:"12"},{default:y(()=>[u(U,{"no-body":"",id:"tasksList"},{default:y(()=>[u(M,{class:"border-0"}),u(h,{class:"border border-dashed border-end-0 border-start-0"},{default:y(()=>[e("form",{onSubmit:s[15]||(s[15]=O((...t)=>a.handleSubmit&&a.handleSubmit(...t),["prevent"]))},[u(C,{form:a.form,rules:a.validationRules,ref:"validationRef"},{default:y(()=>[e("div",X,[e("div",Y,[e("div",$,[e("label",ee,[c(r(o.$t("select_role"))+" ",1),s[18]||(s[18]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"role",class:"form-select","onUpdate:modelValue":s[0]||(s[0]=t=>a.form.role=t)},[e("option",se,r(o.$t("select")),1),(l(!0),i(F,null,S(n.roles,t=>(l(),i("option",{key:t.slug,value:t.slug},r(t.name),9,oe))),128))],512),[[B,a.form.role]]),a.errors.role?(l(),i("span",ae,r(a.errors.role),1)):d("",!0)])]),e("div",te,[e("div",re,[e("label",le,[c(r(o.$t("select_area"))+" ",1),s[19]||(s[19]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"service_location_id",class:"form-select","onUpdate:modelValue":s[1]||(s[1]=t=>a.form.service_location_id=t)},[e("option",ie,r(o.$t("select")),1),(l(!0),i(F,null,S(n.serviceLocations,t=>(l(),i("option",{key:t.id,value:t.id},r(t.name),9,ne))),128))],512),[[B,a.form.service_location_id]]),a.errors.service_location_id?(l(),i("span",de,r(a.errors.service_location_id),1)):d("",!0)])]),e("div",me,[e("div",ce,[e("label",_e,[c(r(o.$t("name"))+" ",1),s[20]||(s[20]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",class:"form-control",name:"name",placeholder:o.$t("enter_name"),id:"name","onUpdate:modelValue":s[2]||(s[2]=t=>a.form.name=t)},null,8,fe),[[g,a.form.name]]),a.errors.name?(l(),i("span",ue,r(a.errors.name),1)):d("",!0)])]),e("div",ge,[e("div",ve,[e("label",be,[c(r(o.$t("address"))+" ",1),s[21]||(s[21]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",class:"form-control",placeholder:o.$t("enter_address"),name:"address",id:"address","onUpdate:modelValue":s[3]||(s[3]=t=>a.form.address=t)},null,8,ye),[[g,a.form.address]]),a.errors.address?(l(),i("span",pe,r(a.errors.address),1)):d("",!0)])]),e("div",he,[e("div",we,[e("label",ke,[c(r(o.$t("mobile_number"))+" ",1),s[22]||(s[22]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",name:"mobile",class:"form-control",placeholder:o.$t("enter_mobile_number"),id:"mobile","onUpdate:modelValue":s[4]||(s[4]=t=>a.form.mobile=t)},null,8,Me),[[g,a.form.mobile]]),a.errors.mobile?(l(),i("span",Ve,r(a.errors.mobile),1)):d("",!0)])]),e("div",Ce,[e("div",Ue,[e("label",Be,[c(r(o.$t("email"))+" ",1),s[23]||(s[23]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"email",name:"email",class:"form-control",placeholder:o.$t("enter_email"),id:"email","onUpdate:modelValue":s[5]||(s[5]=t=>a.form.email=t),onBlur:s[6]||(s[6]=(...t)=>v.validateEmail&&v.validateEmail(...t))},null,40,Se),[[g,a.form.email]]),a.errors.email?(l(),i("span",Fe,r(a.errors.email),1)):d("",!0)])]),n.admin?d("",!0):(l(),i("div",Ie,[e("div",xe,[e("label",Re,[c(r(o.$t("password"))+" ",1),s[24]||(s[24]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"password",name:"password",class:"form-control",placeholder:o.$t("enter_password"),id:"password","onUpdate:modelValue":s[7]||(s[7]=t=>a.form.password=t)},null,8,qe),[[g,a.form.password]]),a.errors.password?(l(),i("span",Pe,r(a.errors.password),1)):d("",!0)])])),n.admin?d("",!0):(l(),i("div",Ae,[e("div",Le,[e("label",Ee,[c(r(o.$t("confirm_password"))+" ",1),s[25]||(s[25]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"password",name:"confirm_password",class:"form-control",placeholder:o.$t("confirm_password"),id:"confirm_password","onUpdate:modelValue":s[8]||(s[8]=t=>a.form.confirm_password=t)},null,8,He),[[g,a.form.confirm_password]]),a.errors.confirm_password?(l(),i("span",Ne,r(a.errors.confirm_password),1)):d("",!0)])])),e("div",Te,[e("div",De,[e("label",je,[c(r(o.$t("select_country"))+" ",1),s[26]||(s[26]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"country",name:"country",class:"form-select","onUpdate:modelValue":s[9]||(s[9]=t=>a.form.country=t)},[e("option",Oe,r(o.$t("select")),1),(l(!0),i(F,null,S(n.countries,t=>(l(),i("option",{key:t.id,value:t.id},r(t.name),9,Ge))),128))],512),[[B,a.form.country]]),a.errors.country?(l(),i("span",Je,r(a.errors.country),1)):d("",!0)])]),e("div",Ke,[e("div",Ze,[e("label",ze,[c(r(o.$t("state"))+" ",1),s[27]||(s[27]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",name:"state",class:"form-control",placeholder:o.$t("enter_state"),id:"state","onUpdate:modelValue":s[10]||(s[10]=t=>a.form.state=t)},null,8,Qe),[[g,a.form.state]]),a.errors.state?(l(),i("span",We,r(a.errors.state),1)):d("",!0)])]),e("div",Xe,[e("div",Ye,[e("label",$e,[c(r(o.$t("city"))+" ",1),s[28]||(s[28]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",name:"city",class:"form-control",placeholder:o.$t("enter_city"),id:"city","onUpdate:modelValue":s[11]||(s[11]=t=>a.form.city=t)},null,8,es),[[g,a.form.city]]),a.errors.city?(l(),i("span",ss,r(a.errors.city),1)):d("",!0)])]),e("div",os,[e("div",as,[e("label",ts,[c(r(o.$t("postal_code"))+" ",1),s[29]||(s[29]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"number",name:"pincode",class:"form-control",placeholder:o.$t("enter_postal_code"),id:"pincode","onUpdate:modelValue":s[12]||(s[12]=t=>a.form.pincode=t)},null,8,rs),[[g,a.form.pincode]]),a.errors.pincode?(l(),i("span",ls,r(a.errors.pincode),1)):d("",!0)])]),e("div",is,[e("div",ns,[u(V,{imageType:"user-profile",initialImageUrl:a.form.profile_picture,flexStyle:"0 0 calc(50% - 20px)",aspectRatio:"5 / 5",onImageSelected:s[13]||(s[13]=t=>a.handleImageSelected(t,"profile_picture")),onImageRemoved:s[14]||(s[14]=()=>a.handleImageRemoved("profile_picture")),id:"profilePictureInput",onChange:a.onFileChange},null,8,["initialImageUrl","onChange"]),a.errors.profilePictureFile?(l(),i("span",ds,r(a.errors.profilePictureFile),1)):d("",!0)])]),e("div",ms,[e("div",cs,[e("button",_s,r(n.admin?o.$t("update"):o.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[a.successMessage?(l(),i("div",fs,[e("div",us,[s[30]||(s[30]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[31]||(s[31]=e("strong",null,"Success",-1)),c(" - "+r(a.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:s[16]||(s[16]=(...t)=>a.dismissMessage&&a.dismissMessage(...t)),"aria-label":"Close Success Message"})])])):d("",!0),a.alertMessage?(l(),i("div",gs,[e("div",vs,[s[32]||(s[32]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[33]||(s[33]=e("strong",null,"Alert",-1)),c(" - "+r(a.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[17]||(s[17]=(...t)=>a.dismissMessage&&a.dismissMessage(...t)),"aria-label":"Close Alert Message"})])])):d("",!0)])]),_:1})}const Ss=A(W,[["render",bs]]);export{Ss as default};
