import{_ as q,r as H,$ as L,a2 as P,Z as R,P as D,z as E,g as r,o as f,x as T,w as l,a as M,U as y,k as o,l as e,y as k,J as a,q as h,M as g,i as b,L as N,K as S,B as $,H as j,F as z}from"./vendor-ddfbd976.js";import{L as I}from"./main-306a5ea6.js";import{P as J}from"./page-header-2dc95532.js";import"./footer-e648049d.js";import"./app-042fb454.js";const K={setup(){const t=H([{id:Date.now(),input_field_name:"",placeholder:"",isRequired:!1,method:"",input_field_type:""}]),n=L({}),B=P.debounce(()=>{t.value.push({id:Date.now(),input_field_name:"",input_field_type:"",placeholder:"",isRequired:!1,method:""})},300),s=d=>{t.value.splice(d,1)},C=()=>{let d=!0;return n.value={},t.value.forEach((m,_)=>{m.input_field_name||(n.value[`input_field_name_${_}`]="Field name is required.",d=!1),m.input_field_type||(n.value[`input_field_type_${_}`]="Field type is required.",d=!1)}),d};return{fields:t,errors:n,addField:B,removeField:s,submitForm:async()=>{if(!C()){y.fire({icon:"error",title:"Error",text:"Please fix the errors before submitting the form."});return}try{const d={method:t.value[0].method,fields:t.value.map(({method:_,...u})=>u)},m=await M.post("/driver-bank-info/store",d);y.fire({icon:"success",title:"Success",text:"Fields submitted successfully!"})}catch{y.fire({icon:"error",title:"Error",text:"There was a problem submitting the form."})}}}},components:{Layout:I,PageHeader:J,Head:R,flatPickr:D,Link:E}},Z={class:"d-flex align-items-center gap-2"},A={class:"row"},G={class:"col-sm-4"},O={class:"mb-3"},Q={for:"method_name",class:"form-label"},W=["placeholder"],X={class:"col-12"},Y={class:"mb-1 d-flex justify-content-end"},ee={class:"form-check form-check-inline"},te=["onClick"],oe={class:"col-sm-3"},se={class:"mb-3"},le={for:"input_field_type",class:"form-label"},ae=["onUpdate:modelValue"],ne={disabled:"",value:""},ie={value:"text"},de={value:"number"},re={key:0,class:"text-danger"},ce={class:"col-sm-3"},_e={class:"mb-3"},me={for:"input_field_name",class:"form-label"},ue=["onUpdate:modelValue","placeholder"],pe={key:0,class:"text-danger"},fe={class:"col-sm-3"},he={class:"mb-3"},be={for:"placeholder",class:"form-label"},ve=["onUpdate:modelValue","placeholder"],ye={class:"col-sm-3"},ke={class:"mt-3"},ge={class:"form-check form-check-inline"},Be=["onUpdate:modelValue"],Ce={class:"form-check-label",for:"inlineCheckbox3"},$e={class:"d-flex align-items-center gap-4"};function Ve(t,n,B,s,C,V){const d=r("Head"),m=r("PageHeader"),_=r("BButton"),u=r("BCol"),v=r("BRow"),w=r("BCardHeader"),F=r("BCardBody"),x=r("BCard"),U=r("Layout");return f(),T(U,null,{default:l(()=>[o(d,{title:"Bank Info"}),o(m,{title:t.$t("bank_infos"),pageTitle:t.$t("bank_infos"),pageLink:"/driver-bank-info"},null,8,["title","pageTitle"]),o(v,null,{default:l(()=>[o(u,{lg:"12"},{default:l(()=>[o(x,{"no-body":"",id:"tasksList"},{default:l(()=>[o(w,{class:"border-0"},{default:l(()=>[o(v,{class:"g-2"},{default:l(()=>[o(u,{md:"auto",class:"ms-auto"},{default:l(()=>[e("div",Z,[o(_,{variant:"primary",onClick:s.addField},{default:l(()=>[n[1]||(n[1]=e("i",{class:"ri-add-line align-bottom me-1"},null,-1)),k(" "+a(t.$t("add_new_field")),1)]),_:1,__:[1]},8,["onClick"])])]),_:1})]),_:1})]),_:1}),o(F,{class:"border border-dashed border-end-0 border-start-0"},{default:l(()=>[e("div",A,[e("div",G,[e("div",O,[e("label",Q,[k(a(t.$t("method_name"))+" ",1),n[2]||(n[2]=e("span",{class:"text-danger"},"*",-1))]),h(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=i=>s.fields[0].method=i),class:"form-control",placeholder:t.$t("method_name")},null,8,W),[[g,s.fields[0].method]])])])]),(f(!0),b(z,null,N(s.fields,(i,p)=>(f(),b("div",{key:i.id,class:"row d-flex align-items-center bg-light rounded mt-4 p-4"},[e("div",X,[e("div",Y,[e("div",ee,[e("i",{class:"bx bx-trash text-danger fs-22 btn",onClick:c=>s.removeField(p)},null,8,te)])])]),e("div",oe,[e("div",se,[e("label",le,a(t.$t("input_field_type")),1),h(e("select",{id:"input_field_type",class:"form-select","onUpdate:modelValue":c=>i.input_field_type=c},[e("option",ne,a(t.$t("select")),1),e("option",ie,a(t.$t("text")),1),e("option",de,a(t.$t("number")),1)],8,ae),[[S,i.input_field_type]]),s.errors[`input_field_type_${p}`]?(f(),b("span",re,a(s.errors[`input_field_type_${p}`]),1)):$("",!0)])]),e("div",ce,[e("div",_e,[e("label",me,a(t.$t("input_field_name")),1),h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":c=>i.input_field_name=c,placeholder:t.$t("input_field_name")},null,8,ue),[[g,i.input_field_name]]),s.errors[`input_field_name_${p}`]?(f(),b("span",pe,a(s.errors[`input_field_name_${p}`]),1)):$("",!0)])]),e("div",fe,[e("div",he,[e("label",be,a(t.$t("placeholder")),1),h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":c=>i.placeholder=c,placeholder:t.$t("enter_your_placeholder")},null,8,ve),[[g,i.placeholder]])])]),e("div",ye,[e("div",ke,[e("div",ge,[h(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":c=>i.isRequired=c},null,8,Be),[[j,i.isRequired]]),e("label",Ce,a(t.$t("is_required")),1)])])])]))),128)),o(v,{class:"g-4"},{default:l(()=>[o(u,{md:"auto",class:"ms-auto"},{default:l(()=>[e("div",$e,[o(_,{variant:"primary",onClick:s.submitForm},{default:l(()=>[k(a(t.$t("submit")),1)]),_:1},8,["onClick"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const He=q(K,[["render",Ve]]);export{He as default};
