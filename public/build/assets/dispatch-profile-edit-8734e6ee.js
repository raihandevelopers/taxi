import{_ as C,a as y,U as p,g as n,o as I,i as U,k as t,l as e,w as r,F as D,J as m,q as f,M as u,y as B,n as x}from"./vendor-ddfbd976.js";import{L as T}from"./main-306a5ea6.js";import{D as V}from"./dispatchHorizontal-7568e444.js";import"./footer-e648049d.js";import"./app-042fb454.js";const E={components:{Layout:T,DispatchMenu:V},data(){return{profilePhotoUrl:this.$page.props.auth.user.profile_picture,profileImageFile:null,form:{name:this.$page.props.auth.user.name||"",email:this.$page.props.auth.user.email||"",mobile:this.$page.props.auth.user.mobile||"",password:"",confirm_password:""}}},methods:{onProfileImageChange(s){const o=s.target.files[0];if(o){this.profileImageFile=o;const c=new FileReader;c.onload=h=>{this.profilePhotoUrl=h.target.result},c.readAsDataURL(o)}},submitForm(){const s=new FormData;s.append("name",this.form.name),s.append("email",this.form.email),s.append("mobile",this.form.mobile),this.profileImageFile&&s.append("profile_picture",this.profileImageFile),y.post("/update-profile",s,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{p.fire({title:"Success!",text:"Profile updated successfully.",icon:"success"})}).catch(o=>{p.fire({title:"Error!",text:"There was an error updating your profile.",icon:"error"})})},submitPasswordForm(){if(this.form.password!==this.form.confirm_password){p.fire({title:"Error!",text:"Passwords do not match!",icon:"error"});return}y.post("/update-password",{password:this.form.password,confirm_password:this.form.confirm_password}).then(s=>{p.fire({title:"Success!",text:"Password updated successfully!",icon:"success"}),this.form.password="",this.form.confirm_password=""}).catch(s=>{p.fire({title:"Error!",text:s.response.data.message||"An error occurred.",icon:"error"})})}}},M={class:"text-center"},S={class:"profile-user position-relative d-inline-block mx-auto mb-4"},k=["src"],R={class:"avatar-xs p-0 rounded-circle profile-photo-edit"},$={class:"fs-16 mb-1"},L={class:"mb-3"},N={for:"name",class:"form-label"},A=["placeholder"],j={class:"mb-3"},q={for:"email",class:"form-label"},J=["placeholder"],z={class:"mb-3"},G={for:"mobile",class:"form-label"},H=["placeholder"],K={class:"hstack gap-2 justify-content-end"},O={for:"newpasswordInput",class:"form-label"},Q=["placeholder"],W={for:"confirmpasswordInput",class:"form-label"},X=["placeholder"],Y={class:"text-end"};function Z(s,o,c,h,a,d){const F=n("DispatchMenu"),b=n("BCardBody"),w=n("BCard"),i=n("BCol"),g=n("BButton"),_=n("BRow"),v=n("BTab"),P=n("BTabs");return I(),U(D,null,[t(F),o[9]||(o[9]=e("div",{class:"position-relative mx-n4 mt-n4"},[e("div",{class:"profile-wid-bg profile-setting-img"})],-1)),t(_,null,{default:r(()=>[t(i,{xl:"3",xxl:"3"},{default:r(()=>[t(w,{"no-body":"",class:"mt-n5"},{default:r(()=>[t(b,{class:"p-4"},{default:r(()=>[e("div",M,[e("div",S,[e("img",{src:a.profilePhotoUrl,class:"rounded-circle avatar-xl img-thumbnail user-profile-image",alt:"user-profile-image"},null,8,k),e("div",R,[e("input",{id:"profile-img-file-input",type:"file",class:"profile-img-file-input",onChange:o[0]||(o[0]=(...l)=>d.onProfileImageChange&&d.onProfileImageChange(...l))},null,32),o[8]||(o[8]=e("label",{for:"profile-img-file-input",class:"profile-photo-edit avatar-xs"},[e("span",{class:"avatar-title rounded-circle bg-light text-body"},[e("i",{class:"ri-camera-fill"})])],-1))])]),e("h5",$,m(a.form.name),1)])]),_:1})]),_:1})]),_:1}),t(i,{xl:"9",xxl:"9"},{default:r(()=>[t(w,{"no-body":"",class:"mt-xl-n5 mt-xxl-n5"},{default:r(()=>[t(b,{class:"p-4 pt-2"},{default:r(()=>[t(P,{"nav-class":"nav-tabs-custom rounded border-bottom-0"},{default:r(()=>[t(v,{class:"nav-item",title:s.$t("personal_details"),active:""},{default:r(()=>[e("form",{onSubmit:o[4]||(o[4]=x((...l)=>d.submitForm&&d.submitForm(...l),["prevent"]))},[t(_,{class:"pt-4"},{default:r(()=>[t(i,{lg:"6"},{default:r(()=>[e("div",L,[e("label",N,m(s.$t("name")),1),f(e("input",{type:"text",name:"name",class:"form-control",id:"name","onUpdate:modelValue":o[1]||(o[1]=l=>a.form.name=l),placeholder:s.$t("enter_your_name")},null,8,A),[[u,a.form.name]])])]),_:1}),t(i,{lg:"6"},{default:r(()=>[e("div",j,[e("label",q,m(s.$t("email")),1),f(e("input",{type:"email",name:"email",class:"form-control",id:"email","onUpdate:modelValue":o[2]||(o[2]=l=>a.form.email=l),placeholder:s.$t("enter_your_email")},null,8,J),[[u,a.form.email]])])]),_:1}),t(i,{lg:"6"},{default:r(()=>[e("div",z,[e("label",G,m(s.$t("mobile_number")),1),f(e("input",{type:"text",class:"form-control",id:"mobile",name:"mobile","onUpdate:modelValue":o[3]||(o[3]=l=>a.form.mobile=l),placeholder:s.$t("enter_your_phone_number")},null,8,H),[[u,a.form.mobile]])])]),_:1}),t(i,{lg:"12"},{default:r(()=>[e("div",K,[t(g,{type:"submit",variant:"primary"},{default:r(()=>[B(m(s.$t("update")),1)]),_:1})])]),_:1})]),_:1})],32)]),_:1},8,["title"]),t(v,{title:s.$t("manage_password")},{default:r(()=>[e("form",{onSubmit:o[7]||(o[7]=x((...l)=>d.submitPasswordForm&&d.submitPasswordForm(...l),["prevent"]))},[t(_,{class:"g-2 pt-4"},{default:r(()=>[t(i,{lg:"6"},{default:r(()=>[e("div",null,[e("label",O,m(s.$t("new_password"))+"*",1),f(e("input",{type:"password","onUpdate:modelValue":o[5]||(o[5]=l=>a.form.password=l),class:"form-control",id:"newpasswordInput",placeholder:s.$t("enter_new_password")},null,8,Q),[[u,a.form.password]])])]),_:1}),t(i,{lg:"6"},{default:r(()=>[e("div",null,[e("label",W,m(s.$t("confirm_password"))+"*",1),f(e("input",{type:"password","onUpdate:modelValue":o[6]||(o[6]=l=>a.form.confirm_password=l),class:"form-control",id:"confirmpasswordInput",placeholder:s.$t("confirm_password")},null,8,X),[[u,a.form.confirm_password]])])]),_:1}),t(i,{lg:"12 mt-4"},{default:r(()=>[e("div",Y,[t(g,{type:"submit",variant:"success"},{default:r(()=>[B(m(s.$t("change_password")),1)]),_:1})])]),_:1})]),_:1})],32)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const le=C(E,[["render",Z]]);export{le as default};
