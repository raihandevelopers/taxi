import{_ as P,a as y,U as p,g as n,o as I,x as U,w as t,l as e,k as r,J as m,q as f,M as u,y as B,n as x}from"./vendor-ddfbd976.js";import{L as T,H as V}from"./main-306a5ea6.js";import{D}from"./dispatchHorizontal-7568e444.js";import{l as S}from"./footer-e648049d.js";import"./app-042fb454.js";const k={components:{Layout:T,DispatchMenu:D,Horizontal:V},data(){return{profilePhotoUrl:this.$page.props.auth.user.profile_picture,profileImageFile:null,form:{name:this.$page.props.auth.user.name||"",email:this.$page.props.auth.user.email||"",mobile:this.$page.props.auth.user.mobile||"",password:"",confirm_password:""}}},computed:{...S},methods:{onProfileImageChange(s){const o=s.target.files[0];if(o){this.profileImageFile=o;const c=new FileReader;c.onload=h=>{this.profilePhotoUrl=h.target.result},c.readAsDataURL(o)}},submitForm(){const s=new FormData;s.append("name",this.form.name),s.append("email",this.form.email),s.append("mobile",this.form.mobile),this.profileImageFile&&s.append("profile_picture",this.profileImageFile),y.post("/update-profile",s,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{p.fire({title:"Success!",text:"Profile updated successfully.",icon:"success"})}).catch(o=>{p.fire({title:"Error!",text:"There was an error updating your profile.",icon:"error"})})},submitPasswordForm(){if(this.form.password!==this.form.confirm_password){p.fire({title:"Error!",text:"Passwords do not match!",icon:"error"});return}y.post("/update-password",{password:this.form.password,confirm_password:this.form.confirm_password}).then(s=>{p.fire({title:"Success!",text:"Password updated successfully!",icon:"success"}),this.form.password="",this.form.confirm_password=""}).catch(s=>{p.fire({title:"Error!",text:s.response.data.message||"An error occurred.",icon:"error"})})}}},E={class:"text-center"},L={class:"profile-user position-relative d-inline-block mx-auto mb-4"},M=["src"],R={class:"avatar-xs p-0 rounded-circle profile-photo-edit"},$={class:"fs-16 mb-1"},N={class:"mb-3"},A={for:"name",class:"form-label"},H=["placeholder"],j={class:"mb-3"},q={for:"email",class:"form-label"},z=["placeholder"],J={class:"mb-3"},G={for:"mobile",class:"form-label"},K=["placeholder"],O={class:"hstack gap-2 justify-content-end"},Q={for:"newpasswordInput",class:"form-label"},W=["placeholder"],X={for:"confirmpasswordInput",class:"form-label"},Y=["placeholder"],Z={class:"text-end"};function ee(s,o,c,h,a,d){const b=n("BCardBody"),w=n("BCard"),i=n("BCol"),g=n("BButton"),_=n("BRow"),v=n("BTab"),C=n("BTabs"),F=n("Layout");return I(),U(F,null,{default:t(()=>[o[9]||(o[9]=e("div",{class:"position-relative mx-n4 mt-n4"},[e("div",{class:"profile-wid-bg profile-setting-img"})],-1)),r(_,null,{default:t(()=>[r(i,{xl:"3",xxl:"3"},{default:t(()=>[r(w,{"no-body":"",class:"mt-n5"},{default:t(()=>[r(b,{class:"p-4"},{default:t(()=>[e("div",E,[e("div",L,[e("img",{src:a.profilePhotoUrl,class:"rounded-circle avatar-xl img-thumbnail user-profile-image",alt:"user-profile-image"},null,8,M),e("div",R,[e("input",{id:"profile-img-file-input",type:"file",class:"profile-img-file-input",onChange:o[0]||(o[0]=(...l)=>d.onProfileImageChange&&d.onProfileImageChange(...l))},null,32),o[8]||(o[8]=e("label",{for:"profile-img-file-input",class:"profile-photo-edit avatar-xs"},[e("span",{class:"avatar-title rounded-circle bg-light text-body"},[e("i",{class:"ri-camera-fill"})])],-1))])]),e("h5",$,m(a.form.name),1)])]),_:1})]),_:1})]),_:1}),r(i,{xl:"9",xxl:"9"},{default:t(()=>[r(w,{"no-body":"",class:"mt-xl-n5 mt-xxl-n5"},{default:t(()=>[r(b,{class:"p-4 pt-2"},{default:t(()=>[r(C,{"nav-class":"nav-tabs-custom rounded border-bottom-0"},{default:t(()=>[r(v,{class:"nav-item",title:s.$t("personal_details"),active:""},{default:t(()=>[e("form",{onSubmit:o[4]||(o[4]=x((...l)=>d.submitForm&&d.submitForm(...l),["prevent"]))},[r(_,{class:"pt-4"},{default:t(()=>[r(i,{lg:"6"},{default:t(()=>[e("div",N,[e("label",A,m(s.$t("name")),1),f(e("input",{type:"text",name:"name",class:"form-control",id:"name","onUpdate:modelValue":o[1]||(o[1]=l=>a.form.name=l),placeholder:s.$t("enter_your_name")},null,8,H),[[u,a.form.name]])])]),_:1}),r(i,{lg:"6"},{default:t(()=>[e("div",j,[e("label",q,m(s.$t("email")),1),f(e("input",{type:"email",name:"email",class:"form-control",id:"email","onUpdate:modelValue":o[2]||(o[2]=l=>a.form.email=l),placeholder:s.$t("enter_your_email")},null,8,z),[[u,a.form.email]])])]),_:1}),r(i,{lg:"6"},{default:t(()=>[e("div",J,[e("label",G,m(s.$t("mobile_number")),1),f(e("input",{type:"text",class:"form-control",id:"mobile",name:"mobile","onUpdate:modelValue":o[3]||(o[3]=l=>a.form.mobile=l),placeholder:s.$t("enter_your_phone_number")},null,8,K),[[u,a.form.mobile]])])]),_:1}),r(i,{lg:"12"},{default:t(()=>[e("div",O,[r(g,{type:"submit",variant:"primary"},{default:t(()=>[B(m(s.$t("update")),1)]),_:1})])]),_:1})]),_:1})],32)]),_:1},8,["title"]),r(v,{title:s.$t("manage_password")},{default:t(()=>[e("form",{onSubmit:o[7]||(o[7]=x((...l)=>d.submitPasswordForm&&d.submitPasswordForm(...l),["prevent"]))},[r(_,{class:"g-2 pt-4"},{default:t(()=>[r(i,{lg:"6"},{default:t(()=>[e("div",null,[e("label",Q,m(s.$t("new_password"))+"*",1),f(e("input",{type:"password","onUpdate:modelValue":o[5]||(o[5]=l=>a.form.password=l),class:"form-control",id:"newpasswordInput",placeholder:s.$t("enter_new_password")},null,8,W),[[u,a.form.password]])])]),_:1}),r(i,{lg:"6"},{default:t(()=>[e("div",null,[e("label",X,m(s.$t("confirm_password"))+"*",1),f(e("input",{type:"password","onUpdate:modelValue":o[6]||(o[6]=l=>a.form.confirm_password=l),class:"form-control",id:"confirmpasswordInput",placeholder:s.$t("confirm_password")},null,8,Y),[[u,a.form.confirm_password]])])]),_:1}),r(i,{lg:"12 mt-4"},{default:t(()=>[e("div",Z,[r(g,{type:"submit",variant:"success"},{default:t(()=>[B(m(s.$t("change_password")),1)]),_:1})])]),_:1})]),_:1})],32)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[9]})}const ae=P(k,[["render",ee]]);export{ae as default};
