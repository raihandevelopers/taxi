import{_ as A,Z as L,z as S,C as E,r as c,g as h,S as P,o as n,x as M,w as C,a as D,N as v,k as N,l as e,J as l,i,L as $,p as H,q as x,B as d,F as I,y as B}from"./vendor-ddfbd976.js";import{L as z}from"./main-306a5ea6.js";import{P as V}from"./page-header-2dc95532.js";import{P as T}from"./Pagination-f095ae3c.js";import"./footer-e648049d.js";import"./app-042fb454.js";const j={data(){return{rightOffcanvas:!1}},components:{Layout:z,PageHeader:V,Head:L,Pagination:T,Link:S},props:{successMessage:String,alertMessage:String,driverId:Number,documents:Array},setup(o){const{t}=E(),u=c(o.successMessage||""),a=c(o.alertMessage||""),b=c(!1),g=c(null),m=c(null),y=()=>{u.value="",a.value=""},p=async r=>{(await D.get(`/approved-drivers/document-toggle/${r}/${o.driverId}/1`)).data.allDocumentsApproved==!0?(u.value=t("document_approved"),v.get("/approved-drivers")):v.get(`/approved-drivers/document/${o.driverId}`)},k=async r=>{(await D.get(`/approved-drivers/document-toggle/${r}/${o.driverId}/5`)).data.allDocumentsDisapproved==!0?(a.value=t("document_declined"),v.get("/pending-drivers")):v.get(`/approved-drivers/document/${o.driverId}`)},f=async()=>{await D.get(`/approved-drivers/update-documents/${o.driverId}`),v.get("/approved-drivers")},s=c(null),w=c(null);return{successMessage:u,alertMessage:a,dismissMessage:y,approveDocument:p,declineDocument:k,updateDocuments:f,viewDocument:r=>{g.value=r.image,m.value=r.back_image,b.value=!0,s.value=r.document_name_front??t("document"),w.value=r.document_name_back??t("document")},closeModal:()=>{b.value=!1,g.value=null,m.value=null},showModal:b,imageUrl:g,backImageUrl:m,documentNameFront:s,documentNameBack:w}}},q={class:"row"},J={class:"col-lg-12"},O={class:"card",id:"tasksList"},W={class:"card-body border border-dashed border-end-0 border-start-0"},Z={class:"table-responsive"},G={class:"table align-middle position-relative table-nowrap"},K={class:"table-active"},Q={scope:"col"},R={scope:"col"},X={scope:"col"},Y={scope:"col"},ee={scope:"col"},se={scope:"col"},te={scope:"col"},ae=["onClick"],oe=["onClick"],le=["onClick"],ne=["onClick"],ie={key:0,class:"modal fade show",tabindex:"-1",role:"dialog",style:{display:"block"}},de={class:"modal-dialog",role:"document"},re={class:"modal-content"},ce={class:"modal-header d-flex align-items-center justify-content-between"},ue={class:"modal-title"},me={class:"modal-body"},_e={id:"carouselExampleFade",class:"carousel slide carousel-fade py-5","data-ride":"carousel"},ve={class:"carousel-inner"},be={class:"carousel-item active"},ge={key:0,class:"car-img"},pe=["src","alt"],fe={class:"text-center"},he={key:1,class:"d-grid"},ye={class:"text-center m-auto"},ke={class:"carousel-item"},we={key:0,class:"car-img"},Me=["src","alt"],Ce={class:"text-center"},De={key:1,class:"d-grid"},Ne={class:"text-center m-auto"},xe={class:"modal-footer"},Ie=["href"],Be=["href"],Ue={key:1,class:"custom-alert alert alert-success alert-border-left fade show"},Fe={class:"alert-content"},Ae={key:2,class:"custom-alert alert alert-danger alert-border-left fade show"},Le={class:"alert-content"};function Se(o,t,u,a,b,g){const m=h("Head"),y=h("PageHeader"),p=h("BButton"),k=h("Layout"),f=P("b-tooltip");return n(),M(k,null,{default:C(()=>[N(m,{title:"Documents"}),N(y,{title:o.$t("documents"),pageTitle:o.$t("documents"),pageLink:"/approved-drivers"},null,8,["title","pageTitle"]),e("div",q,[e("div",J,[e("div",O,[t[6]||(t[6]=e("div",{class:"card-header border-0"},null,-1)),e("div",W,[e("div",Z,[e("table",G,[e("thead",K,[e("tr",null,[e("th",Q,l(o.$t("document_name")),1),e("th",R,l(o.$t("identify_number")),1),e("th",X,l(o.$t("expiry_date")),1),e("th",Y,l(o.$t("status")),1),e("th",ee,l(o.$t("comment")),1),e("th",se,l(o.$t("document")),1),e("th",te,l(o.$t("action")),1)])]),e("tbody",null,[(n(!0),i(I,null,$(u.documents,(s,w)=>(n(),i("tr",{key:s.id},[e("td",null,l(s.name),1),e("td",null,l(s.identify_number||"N/A"),1),e("td",null,l(s.expiry_date||"N/A"),1),e("td",null,[e("span",{class:H({badge:!0,"bg-success":s.document_status===1,"bg-secondary":s.document_status===2||s.document_status==null,"bg-warning":s.document_status===3||s.document_status===4,"bg-danger":s.document_status===5,"bg-dark":s.document_status===6})},l(s.document_status===1?"Approved":s.document_status===2||s.document_status==null?"Not Uploaded":s.document_status===3||s.document_status===4?"Waiting for Approval":s.document_status===5?"Declined":s.document_status===6?"Expired":"Unknown"),3)]),e("td",null,l(s.comment||"N/A"),1),e("td",null,[x((n(),M(p,{class:"btn btn-soft-info btn-sm m-2",size:"sm","data-bs-toggle":"tooltip",title:"view",onClick:_=>a.viewDocument(s)},{default:C(()=>t[4]||(t[4]=[e("i",{class:"bx bx-show-alt align-center"},null,-1)])),_:2,__:[4]},1032,["onClick"])),[[f,void 0,void 0,{hover:!0}]]),x((n(),M(p,{class:"btn btn-soft-success btn-sm m-2",size:"sm","data-bs-toggle":"tooltip",title:"upload",href:`/approved-drivers/document-upload/${s.id}/${u.driverId}`},{default:C(()=>t[5]||(t[5]=[e("i",{class:"bx bx-upload align-center"},null,-1)])),_:2,__:[5]},1032,["href"])),[[f,void 0,void 0,{hover:!0}]])]),e("td",null,[s.document_status===1?(n(),i("button",{key:0,type:"button",class:"btn btn-outline-danger waves-effect waves-light btn-sm",onClick:_=>a.declineDocument(s.id)},l(o.$t("decline")),9,ae)):d("",!0),s.document_status===5?(n(),i("button",{key:1,type:"button",class:"btn btn-outline-success waves-effect waves-light btn-sm me-1",onClick:_=>a.approveDocument(s.id)},l(o.$t("approve")),9,oe)):d("",!0),s.document_status===2||s.document_status==null?d("",!0):(n(),i(I,{key:2},[s.document_status===3||s.document_status===4||s.document_status===6?(n(),i("button",{key:0,type:"button",class:"btn btn-outline-success waves-effect waves-light btn-sm me-1",onClick:_=>a.approveDocument(s.id)},l(o.$t("approve")),9,le)):d("",!0),s.document_status===3||s.document_status===4||s.document_status===6?(n(),i("button",{key:1,type:"button",class:"btn btn-outline-danger waves-effect waves-light btn-sm",onClick:_=>a.declineDocument(s.id)},l(o.$t("decline")),9,ne)):d("",!0)],64))])]))),128))])])])])])])]),a.showModal?(n(),i("div",ie,[e("div",de,[e("div",re,[e("div",ce,[e("h5",ue,l(o.$t("view_document")),1),e("a",{href:"#",class:"close fs-18",onClick:t[0]||(t[0]=(...s)=>a.closeModal&&a.closeModal(...s)),"aria-label":"Close"},t[7]||(t[7]=[e("span",{class:"fs-22","aria-hidden":"true"},"Ã—",-1)]))]),e("div",me,[e("div",_e,[t[10]||(t[10]=e("div",{class:"carousel-indicators"},[e("button",{type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide-to":"0",class:"active","aria-current":"true","aria-label":"Slide 1"}),e("button",{type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide-to":"1","aria-label":"Slide 2"})],-1)),e("div",ve,[e("div",be,[a.imageUrl?(n(),i("div",ge,[e("img",{src:a.imageUrl,alt:a.documentNameFront,class:"img-fluid mb-2"},null,8,pe),e("h5",fe,l(a.documentNameFront),1)])):(n(),i("div",he,[t[8]||(t[8]=e("i",{class:"ri-image-fill m-auto fs-22"},null,-1)),e("h6",ye,l(o.$t("no_front_image_available")),1)]))]),e("div",ke,[a.backImageUrl?(n(),i("div",we,[e("img",{src:a.backImageUrl,alt:a.documentNameBack,class:"img-fluid mb-2"},null,8,Me),e("h5",Ce,l(a.documentNameBack),1)])):(n(),i("div",De,[t[9]||(t[9]=e("i",{class:"ri-image-fill m-auto fs-22"},null,-1)),e("h6",Ne,l(o.$t("no_back_image_available")),1)]))])]),t[11]||(t[11]=e("a",{class:"carousel-control-prev bg-dark",style:{height:"30px"},href:"#carouselExampleFade",role:"button","data-bs-slide":"prev"},[e("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),e("span",{class:"sr-only"},"Previous")],-1)),t[12]||(t[12]=e("a",{class:"carousel-control-next bg-dark",style:{height:"30px"},href:"#carouselExampleFade",role:"button","data-bs-slide":"next"},[e("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),e("span",{class:"sr-only"},"Next")],-1))])]),e("div",xe,[e("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=(...s)=>a.closeModal&&a.closeModal(...s))},l(o.$t("close")),1),a.imageUrl?(n(),i("a",{key:0,href:a.imageUrl,download:"",class:"btn btn-primary"},l(o.$t("download_front_image")),9,Ie)):d("",!0),a.backImageUrl?(n(),i("a",{key:1,href:a.backImageUrl,download:"",class:"btn btn-primary"},l(o.$t("download_back_image")),9,Be)):d("",!0)])])])])):d("",!0),a.successMessage?(n(),i("div",Ue,[e("div",Fe,[t[13]||(t[13]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[14]||(t[14]=e("strong",null,"Success",-1)),B(" - "+l(a.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[2]||(t[2]=(...s)=>a.dismissMessage&&a.dismissMessage(...s)),"aria-label":"Close Success Message"})])])):d("",!0),a.alertMessage?(n(),i("div",Ae,[e("div",Le,[t[15]||(t[15]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[16]||(t[16]=e("strong",null,"Alert",-1)),B(" - "+l(a.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[3]||(t[3]=(...s)=>a.dismissMessage&&a.dismissMessage(...s)),"aria-label":"Close Alert Message"})])])):d("",!0)]),_:1})}const je=A(j,[["render",Se],["__scopeId","data-v-8ec10de3"]]);export{je as default};
