import{_ as j,Z as z,O as G,P as J,z as K,C as Q,r as _,T as Z,R as $,g as d,o as c,x as A,w as g,a as T,U as S,N as W,k as i,l as t,J as l,y as v,B as w,q as X,K as ee,i as m,L as E,F,n as V}from"./vendor-ddfbd976.js";import{L as te}from"./main-306a5ea6.js";import{P as se}from"./page-header-2dc95532.js";import{P as ae}from"./Pagination-f095ae3c.js";import{s as ne}from"./searchbar-3acbc236.js";import{I as oe}from"./ImageModal-6c71a18e.js";import{l as le}from"./footer-e648049d.js";import{_ as re}from"./search-file-ab3e1046.js";import"./app-042fb454.js";const ie={data(){return{rightOffcanvas:!1,SearchQuery:""}},methods:{editData(s){this.$inertia.get(this.route("landing_contact.edit",{id:s.id}))},stripHtmlTags(s){return new DOMParser().parseFromString(s,"text/html").body.textContent||""}},components:{Layout:te,PageHeader:se,Head:z,Pagination:ae,Multiselect:G,flatPickr:J,Link:K,searchbar:ne,ImageModal:oe},props:{successMessage:String,alertMessage:String,landingContact:{type:Object,required:!0}},setup(s){const{t:e}=Q(),y=_(""),a=Z({transport_type:null,dispatch_type:null,status:null,limit:10}),f=_([]),M=_({}),b=_(!1),C=_(!1),L=_(null),p=_({}),P=_(s.successMessage||""),B=_(s.alertMessage||""),k=()=>{P.value="",B.value=""},D=async(o,r)=>{try{await T.post("/landing-contact/update-status",{id:o,status:r});const u=f.value.findIndex(Y=>Y.id===o);u!==-1&&(f.value[u].active=r)}catch(u){console.error(e("error_updating_status"),u)}},I=()=>{C.value=!0},H=()=>{a.reset(),h()},N=()=>{b.value=!1},x=async o=>{try{await T.delete(`/landing-contact/delete/${o}`);const r=f.value.findIndex(u=>u.id===o);r!==-1&&f.value.splice(r,1),b.value=!1,S.fire(e("success"),e("landingContact_deleted_successfully"),"success")}catch{S.fire(e("error"),e("failed_to_delete_landingContact"),"error")}},n=async o=>{S.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async r=>{if(r.isConfirmed)try{await x(o)}catch(u){console.error(e("error_deleting_data"),u),S.fire(e("error"),e("failed_to_delete_the_data"),"error")}})},O=async o=>{y.value=o,h()},h=async(o=1)=>{try{const r=a.data();r.search=y.value,r.page=o;const u=await T.get("/landing-contact/list",{params:r});f.value=u.data.results,M.value=u.data.paginator,U(M.value.total),C.value=!1}catch(r){console.error(e("error_fetching_contact"),r)}},R=async o=>{localStorage.setItem("/landing-contact/list",o),h(o)},q=async o=>{W.get(`/landing-contact/edit/${o.id}`)},U=()=>{p.value=[10,25,50,100,200,500]};return{results:f,modalShow:b,deleteItemId:L,successMessage:P,alertMessage:B,filterData:I,deleteModal:n,closeModal:N,deleteData:x,dismissMessage:k,searchTerm:y,fetchSearch:O,paginator:M,modalFilter:C,clearFilter:H,fetchDatas:h,filter:a,handlePageChanged:R,toggleActiveStatus:D,editData:q,paginatorOption:p,changeEntriesPerPage:()=>{h()}}},computed:{...le,...$(["permissions"])},mounted(){this.fetchDatas();const s=localStorage.getItem("/landing-contact/list");s?this.handlePageChanged(Number(s)):this.handlePageChanged(1)}},de={class:"card",height:"100px"},ce={class:"card-body"},ge={class:"card-title mb-2"},ue={class:"d-flex align-items-center gap-2"},me={class:"d-flex align-items-center mt-3"},_e={class:"me-2 text-muted"},fe=["value"],pe={class:"ms-2 text-muted"},he={class:"table-responsive"},ve={class:"table align-middle position-relative table-nowrap"},ye={class:"table-active"},be={scope:"col"},Ce={scope:"col"},we={scope:"col"},Me={key:0},Pe={class:"dropdown"},Be={class:"dropdown-menu dropdown-menu-end"},ke=["onClick"],xe=["onClick"],Se={key:1},Le={colspan:"4",class:"text-center"},De={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Ie={class:"alert-content"},He={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Ne={class:"alert-content"};function Oe(s,e,y,a,f,M){const b=d("Head"),C=d("PageHeader"),L=d("ImageModal"),p=d("BCol"),P=d("BButton"),B=d("Link"),k=d("BRow"),D=d("BCardHeader"),I=d("BCardBody"),H=d("BCard"),N=d("Pagination"),x=d("Layout");return c(),A(x,null,{default:g(()=>[i(b,{title:"Landing Contact"}),i(C,{title:s.$t("index"),pageTitle:s.$t("landing_contact")},null,8,["title","pageTitle"]),i(k,null,{default:g(()=>[i(p,{lg:"12"},{default:g(()=>[i(H,{"no-body":"",id:"tasksList"},{default:g(()=>[i(D,{class:"border-0"},{default:g(()=>[i(k,{class:"g-2"},{default:g(()=>[i(p,{class:"col-12",md:"6"},{default:g(()=>[t("div",de,[i(L,{imageSrc:"/images/contact.png",imageAlt:"contact",width:"100px"}),t("div",ce,[t("h4",ge,l(s.$t("contactpage")),1)])])]),_:1}),i(p,{md:"auto",class:"ms-auto"},{default:g(()=>[t("div",ue,[s.permissions.includes("add_landing_contact")?(c(),A(B,{key:0,href:"/landing-contact/create"},{default:g(()=>[i(P,{variant:"primary",class:"float-end"},{default:g(()=>[e[4]||(e[4]=t("i",{class:"ri-add-line align-bottom me-1"},null,-1)),v(" "+l(s.$t("add")),1)]),_:1,__:[4]})]),_:1})):w("",!0)])]),_:1})]),_:1}),i(p,{md:"3"},{default:g(()=>[t("div",me,[t("label",_e,l(s.$t("show")),1),X(t("select",{"onUpdate:modelValue":e[0]||(e[0]=n=>a.filter.limit=n),onChange:e[1]||(e[1]=(...n)=>a.changeEntriesPerPage&&a.changeEntriesPerPage(...n)),class:"form-select form-select-sm w-auto"},[(c(!0),m(F,null,E(a.paginatorOption,n=>(c(),m("option",{key:n,value:n},l(n),9,fe))),128))],544),[[ee,a.filter.limit]]),t("label",pe,l(s.$t("entries")),1)])]),_:1})]),_:1}),i(I,{class:"border border-dashed border-end-0 border-start-0"},{default:g(()=>[t("div",he,[t("table",ve,[t("thead",ye,[t("tr",null,[t("th",be,l(s.$t("title")),1),t("th",Ce,l(s.$t("language")),1),t("th",we,l(s.$t("action")),1)])]),a.results.length>0?(c(),m("tbody",Me,[(c(!0),m(F,null,E(a.results,(n,O)=>(c(),m("tr",{key:O},[t("td",null,l(n.hero_title),1),t("td",null,l(n.language),1),t("td",null,[t("div",Pe,[e[7]||(e[7]=t("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[t("span",{class:"text-muted fs-18"},[t("i",{class:"mdi mdi-dots-vertical"})])],-1)),t("div",Be,[s.permissions.includes("edit_landing_contact")?(c(),m("a",{key:0,class:"dropdown-item",href:"#",onClick:V(h=>a.editData(n),["prevent"])},[e[5]||(e[5]=t("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),v(l(s.$t("edit")),1)],8,ke)):w("",!0),s.permissions.includes("delete_landing_contact")&&a.results.length>1?(c(),m("a",{key:1,class:"dropdown-item",href:"#",onClick:V(h=>a.deleteModal(n.id),["prevent"])},[e[6]||(e[6]=t("i",{class:"bx bxs-trash align-center text-muted me-2"},null,-1)),v(l(s.$t("delete")),1)],8,xe)):w("",!0)])])])]))),128))])):(c(),m("tbody",Se,[t("tr",null,[t("td",Le,[e[8]||(e[8]=t("img",{src:re,alt:"Loading...",style:{width:"100px"}},null,-1)),t("h5",null,l(s.$t("no_data_found")),1)])])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),t("div",null,[a.successMessage?(c(),m("div",De,[t("div",Ie,[e[9]||(e[9]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[10]||(e[10]=v()),e[11]||(e[11]=t("strong",null,"Success",-1)),v(" - "+l(a.successMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-success",onClick:e[2]||(e[2]=(...n)=>a.dismissMessage&&a.dismissMessage(...n)),"aria-label":"Close Success Message"})])])):w("",!0),a.alertMessage?(c(),m("div",He,[t("div",Ne,[e[12]||(e[12]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[13]||(e[13]=v()),e[14]||(e[14]=t("strong",null,"Alert",-1)),v(" - "+l(a.alertMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[3]||(e[3]=(...n)=>a.dismissMessage&&a.dismissMessage(...n)),"aria-label":"Close Alert Message"})])])):w("",!0)]),i(N,{paginator:a.paginator,onPageChanged:a.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const ze=j(ie,[["render",Oe]]);export{ze as default};
