import{_ as N,Z as P,O as E,an as O,am as j,C as A,r as Q,T as K,D as z,a as H,g as k,o as i,x as D,w as p,U as F,N as J,k as _,l as e,y as g,J as s,B as R,i as r,q as M,K as Z,L as v,F as b,M as V,n as G}from"./vendor-ddfbd976.js";import{L as W}from"./main-306a5ea6.js";import{P as X}from"./page-header-2dc95532.js";import{P as Y}from"./Pagination-f095ae3c.js";import{F as $}from"./FormValidation-a9047131.js";import{i as ee}from"./imageUpload-4f5efd67.js";import{I as te}from"./ImageUp-1fee9a5c.js";import{u as le}from"./footer-e648049d.js";import"./app-042fb454.js";/* empty css                                                    */const ae={components:{Layout:W,PageHeader:X,Head:P,Pagination:Y,Multiselect:E,FormValidation:$,imageUpload:ee,ImageUp:te,ckeditor:O.component},data(){return{editor:j,editorData:""}},props:{successMessage:String,alertMessage:String,landingQuickLink:Object,app_for:String,validate:Function,languages:{type:Array,required:!0}},setup(l){const{t}=A(),{languages:d}=le(),n=Q([]),m=K({privacy_title:l.landingQuickLink&&l.landingQuickLink.privacy_title||"",privacy:l.landingQuickLink&&l.landingQuickLink.privacy||"",terms_title:l.landingQuickLink&&l.landingQuickLink.terms_title||"",terms:l.landingQuickLink&&l.landingQuickLink.terms||"",compliance_title:l.landingQuickLink&&l.landingQuickLink.compliance_title||"",compliance:l.landingQuickLink&&l.landingQuickLink.compliance||"",dmv_title:l.landingQuickLink&&l.landingQuickLink.dmv_title||"",dmv:l.landingQuickLink&&l.landingQuickLink.dmv||"",locale:l.landingQuickLink&&l.landingQuickLink.locale||"",language:l.landingQuickLink&&l.landingQuickLink.language||""}),T={privacy_title:{required:!0},privacy:{required:!0},terms_title:{required:!0},terms:{required:!0},compliance_title:{required:!0},compliance:{required:!0},dmv_title:{required:!0},dmv:{required:!0},locale:{required:!0},language:{required:!0}},q=()=>{const o=document.getElementById("iconInput");if(o.files.length>0){const f=o.files[0],u=new Image;u.onload=function(){(u.width!==512||u.height!==512)&&(alert("Icon must be 512x512 pixels."),o.value="")},u.src=URL.createObjectURL(f)}},C=Q(null),L=Q({}),h=Q(l.successMessage||""),y=Q(l.alertMessage||""),w=()=>{h.value="",y.value=""},B=async()=>{if(l.app_for=="demo"){F.fire(t("error"),t("you_are_not_authorised"),"error");return}try{const o=new FormData;for(const u in m)u==="iconFile"&&m[u]?o.append("icon",m[u]):o.append(u,m[u]);let f;l.landingQuickLink&&l.landingQuickLink.id?f=await H.post(`/landing-quicklink/update/${l.landingQuickLink.id}`,o,{headers:{"Content-Type":"multipart/form-data"}}):f=await H.post("/landing-quicklink/store",o,{headers:{"Content-Type":"multipart/form-data"}}),f.status===201?(h.value=t("landing_quickLinks_created_successfully"),m.reset(),J.get("/landing-quicklink")):y.value=t("failed_to_create_landing_quickLinks")}catch(o){console.error(t("error_creating_landing_quickLinks"),o),y.value=t("failed_to_create_landing_quickLinks_catch"),o.response&&o.response.data.errors&&(L.value=o.response.data.errors)}};z(async()=>{Object.keys(d).length==0&&await fetchData(),S()});const S=async()=>{try{const o=await H.get("/landing-quicklink/list");n.value=o.data.results.map(u=>({language:u.language}));const f=n.value.filter(u=>d.value.some(x=>x.label===u.language));d.value=d.value.map(u=>({...u,disabled:f.some(x=>x.language===u.label)}))}catch(o){console.error(t("error_fetching_stored_languages"),o)}},U=l.vehicleType?l.vehicleType.icon:null,I=(o,f)=>{if(l.app_for=="demo"){F.fire(t("error"),t("you_are_not_authorised"),"error");return}m[f]=o},a=o=>{if(l.app_for=="demo"){F.fire(t("error"),t("you_are_not_authorised"),"error");return}m[o]=null},c=async()=>{const o=d.value.find(f=>f.label===m.language);m.language=o.label,m.locale=o.code,m.direction=o.direction};return{form:m,successMessage:h,alertMessage:y,handleSubmit:B,dismissMessage:w,validationRules:T,validationRef:C,errors:L,validateIconSize:q,landingHeader:l.landingHeader,iconUrl:U,handleImageSelected:I,handleImageRemoved:a,languages:d,selectlanguages:c}}},ne={class:"alert bg-warning border-warning fs-18",role:"alert"},se={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},oe={class:"alert-content"},ie={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},re={class:"alert-content"},de={class:"row"},ce={class:"col-6 mt-3"},me={class:"mb-3"},ue={for:"language",class:"form-label"},_e=["disabled"],ge={disabled:"",value:""},fe=["disabled"],ke={class:"card-header alert alert-success"},ve={class:"card-title mb-3"},be={class:"col-12"},ye={class:"mb-3"},pe={for:"privacy_title",class:"form-label"},he=["readonly","placeholder"],Le={class:"col-12 mt-3"},Qe={class:"mb-3"},Me={for:"privacy",class:"form-label"},Ve={class:"card-header alert alert-success"},qe={class:"card-title mb-3"},Ce={class:"col-12"},we={class:"mb-3"},Be={for:"terms_title",class:"form-label"},Se=["readonly","placeholder"],Ue={class:"col-12 mt-3"},Ie={class:"mb-3"},xe={for:"terms",class:"form-label"},He={class:"card-header alert alert-success"},Fe={class:"card-title mb-3"},Re={class:"col-12"},Te={class:"mb-3"},De={for:"compliance_title",class:"form-label"},Ne=["readonly","placeholder"],Pe={class:"col-12 mt-3"},Ee={class:"mb-3"},Oe={for:"compliance",class:"form-label"},je={class:"card-header alert alert-success"},Ae={class:"card-title mb-3"},Ke={class:"col-12"},ze={class:"mb-3"},Je={for:"dmv_title",class:"form-label"},Ze=["readonly","placeholder"],Ge={class:"col-12 mt-3"},We={class:"mb-3"},Xe={for:"dmv",class:"form-label"},Ye={class:"col-lg-12"},$e={class:"text-end"},et={type:"submit",class:"btn btn-primary"};function tt(l,t,d,n,m,T){const q=k("Head"),C=k("PageHeader"),L=k("BCardHeader"),h=k("BCard"),y=k("ckeditor"),w=k("FormValidation"),B=k("BCardBody"),S=k("BCol"),U=k("BRow"),I=k("Layout");return i(),D(I,null,{default:p(()=>[_(q,{title:"Manage LandingSite-QuickLinks"}),_(C,{title:d.landingQuickLink?l.$t("edit"):l.$t("create"),pageTitle:l.$t("landing_quicklinks"),pageLink:"/landing-quicklink"},null,8,["title","pageTitle"]),_(U,null,{default:p(()=>[d.app_for==="demo"?(i(),D(h,{key:0,"no-body":"",id:"tasksList"},{default:p(()=>[_(L,{class:"border-0"},{default:p(()=>[e("div",ne,[e("strong",null,[g(s(l.$t("note"))+" : ",1),e("em",null,s(l.$t("actions_restricted_due_to_demo_mode")),1)])])]),_:1})]),_:1})):R("",!0),_(S,{lg:"12"},{default:p(()=>[_(h,{"no-body":"",id:"tasksList"},{default:p(()=>[_(L,{class:"border-0"},{default:p(()=>[e("div",null,[n.successMessage?(i(),r("div",se,[e("div",oe,[t[13]||(t[13]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[14]||(t[14]=e("strong",null,"Success",-1)),g(" - "+s(n.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[0]||(t[0]=(...a)=>n.dismissMessage&&n.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):R("",!0),n.alertMessage?(i(),r("div",ie,[e("div",re,[t[15]||(t[15]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[16]||(t[16]=e("strong",null,"Alert",-1)),g(" - "+s(n.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[1]||(t[1]=(...a)=>n.dismissMessage&&n.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):R("",!0)])]),_:1}),_(B,{class:"border border-dashed border-end-0 border-start-0"},{default:p(()=>[e("form",{onSubmit:t[12]||(t[12]=G((...a)=>n.handleSubmit&&n.handleSubmit(...a),["prevent"]))},[_(w,{form:n.form,rules:n.validationRules,ref:"validationRef"},{default:p(()=>[e("div",de,[e("div",ce,[e("div",me,[e("label",ue,[g(s(l.$t("languages"))+" ",1),t[17]||(t[17]=e("span",{class:"text-danger"},"*",-1))]),M(e("select",{disabled:d.app_for==="demo",id:"language",class:"form-select","onUpdate:modelValue":t[2]||(t[2]=a=>n.form.language=a),onChange:t[3]||(t[3]=(...a)=>n.selectlanguages&&n.selectlanguages(...a))},[e("option",ge,s(l.$t("choose_languages")),1),(i(!0),r(b,null,v(n.languages,a=>(i(),r("option",{key:a.id,disabled:a.disabled},s(a.label),9,fe))),128))],40,_e),[[Z,n.form.language]]),(i(!0),r(b,null,v(n.errors.language,(a,c)=>(i(),r("span",{key:c,class:"text-danger"},s(a),1))),128))])]),e("div",ke,[e("h4",ve,s(l.$t("privacy_policy_section")),1)]),e("div",be,[e("div",ye,[e("label",pe,[g(s(l.$t("privacy_policy_title"))+" ",1),t[18]||(t[18]=e("span",{class:"text-danger"},"*",-1))]),M(e("input",{readonly:d.app_for==="demo",type:"text",class:"form-control",placeholder:l.$t("enter_privacy_title"),id:"privacy_title","onUpdate:modelValue":t[4]||(t[4]=a=>n.form.privacy_title=a)},null,8,he),[[V,n.form.privacy_title]]),(i(!0),r(b,null,v(n.errors.privacy_title,(a,c)=>(i(),r("span",{key:c,class:"text-danger"},s(a),1))),128))])]),e("div",Le,[e("div",Qe,[e("label",Me,[g(s(l.$t("privacy_policy"))+" ",1),t[19]||(t[19]=e("span",{class:"text-danger"},"*",-1))]),_(y,{disabled:d.app_for==="demo",modelValue:n.form.privacy,"onUpdate:modelValue":t[5]||(t[5]=a=>n.form.privacy=a),editor:m.editor},null,8,["disabled","modelValue","editor"]),(i(!0),r(b,null,v(n.errors.privacy,(a,c)=>(i(),r("span",{key:c,class:"text-danger"},s(a),1))),128))])]),e("div",Ve,[e("h4",qe,s(l.$t("terms_and_conditions_section")),1)]),e("div",Ce,[e("div",we,[e("label",Be,[g(s(l.$t("terms_and_conditions_title"))+" ",1),t[20]||(t[20]=e("span",{class:"text-danger"},"*",-1))]),M(e("input",{readonly:d.app_for==="demo",type:"text",class:"form-control",placeholder:l.$t("enter_terms_title"),id:"terms_title","onUpdate:modelValue":t[6]||(t[6]=a=>n.form.terms_title=a)},null,8,Se),[[V,n.form.terms_title]]),(i(!0),r(b,null,v(n.errors.terms_title,(a,c)=>(i(),r("span",{key:c,class:"text-danger"},s(a),1))),128))])]),e("div",Ue,[e("div",Ie,[e("label",xe,[g(s(l.$t("terms_and_conditions"))+" ",1),t[21]||(t[21]=e("span",{class:"text-danger"},"*",-1))]),_(y,{disabled:d.app_for==="demo",modelValue:n.form.terms,"onUpdate:modelValue":t[7]||(t[7]=a=>n.form.terms=a),editor:m.editor},null,8,["disabled","modelValue","editor"]),(i(!0),r(b,null,v(n.errors.terms,(a,c)=>(i(),r("span",{key:c,class:"text-danger"},s(a),1))),128))])]),e("div",He,[e("h4",Fe,s(l.$t("compliance_section")),1)]),e("div",Re,[e("div",Te,[e("label",De,[g(s(l.$t("compliance_title"))+" ",1),t[22]||(t[22]=e("span",{class:"text-danger"},"*",-1))]),M(e("input",{readonly:d.app_for==="demo",type:"text",class:"form-control",placeholder:l.$t("enter_compliance_title"),id:"compliance_title","onUpdate:modelValue":t[8]||(t[8]=a=>n.form.compliance_title=a)},null,8,Ne),[[V,n.form.compliance_title]]),(i(!0),r(b,null,v(n.errors.compliance_title,(a,c)=>(i(),r("span",{key:c,class:"text-danger"},s(a),1))),128))])]),e("div",Pe,[e("div",Ee,[e("label",Oe,[g(s(l.$t("compliance"))+" ",1),t[23]||(t[23]=e("span",{class:"text-danger"},"*",-1))]),_(y,{disabled:d.app_for==="demo",modelValue:n.form.compliance,"onUpdate:modelValue":t[9]||(t[9]=a=>n.form.compliance=a),editor:m.editor},null,8,["disabled","modelValue","editor"]),(i(!0),r(b,null,v(n.errors.compliance,(a,c)=>(i(),r("span",{key:c,class:"text-danger"},s(a),1))),128))])]),e("div",je,[e("h4",Ae,s(l.$t("dmv_section")),1)]),e("div",Ke,[e("div",ze,[e("label",Je,[g(s(l.$t("dmv_title"))+" ",1),t[24]||(t[24]=e("span",{class:"text-danger"},"*",-1))]),M(e("input",{readonly:d.app_for==="demo",type:"text",class:"form-control",placeholder:l.$t("enter_dmv_title"),id:"dmv_title","onUpdate:modelValue":t[10]||(t[10]=a=>n.form.dmv_title=a)},null,8,Ze),[[V,n.form.dmv_title]]),(i(!0),r(b,null,v(n.errors.dmv_title,(a,c)=>(i(),r("span",{key:c,class:"text-danger"},s(a),1))),128))])]),e("div",Ge,[e("div",We,[e("label",Xe,[g(s(l.$t("dmv"))+" ",1),t[25]||(t[25]=e("span",{class:"text-danger"},"*",-1))]),_(y,{disabled:d.app_for==="demo",modelValue:n.form.dmv,"onUpdate:modelValue":t[11]||(t[11]=a=>n.form.dmv=a),editor:m.editor},null,8,["disabled","modelValue","editor"]),(i(!0),r(b,null,v(n.errors.dmv,(a,c)=>(i(),r("span",{key:c,class:"text-danger"},s(a),1))),128))])]),e("div",Ye,[e("div",$e,[e("button",et,s(d.landingQuickLink?"Update":"Create"),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ut=N(ae,[["render",tt]]);export{ut as default};
