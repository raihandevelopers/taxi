import{_ as _e,Z as he,O as be,P as ge,z as we,C as ye,r as p,T as te,Q as se,a2 as ke,a as A,R as xe,g as v,S as Ce,o as i,x as y,w as d,U as T,N as R,k as m,l as e,q as V,i as r,p as Y,J as l,K as oe,L as U,F as j,y as c,B as _,n as b,M as Me}from"./vendor-ddfbd976.js";import{L as Be}from"./main-306a5ea6.js";import{P as Ve}from"./page-header-2dc95532.js";import{P as Le}from"./Pagination-f095ae3c.js";import{s as Pe}from"./search-2c17aadd.js";import{s as Se}from"./searchbar-3acbc236.js";import{u as $e,l as Oe}from"./footer-e648049d.js";import{_ as le}from"./search-file-ab3e1046.js";import"./app-042fb454.js";const De={data(){return{rightOffcanvas:!1,isListView:!0}},created(){const s=localStorage.getItem("fleetDriverViewMode");s&&(this.isListView=s==="list")},methods:{toggleView(s){this.isListView=s==="list",localStorage.setItem("fleetDriverViewMode",s)}},components:{Layout:Be,PageHeader:Ve,Head:he,Pagination:Le,Multiselect:be,flatPickr:ge,Link:we,search:Pe,searchbar:Se},props:{successMessage:String,alertMessage:String,owners:Object,types:Object,results:Object,owner:Object,serviceLocations:Object},setup(s){const{t}=ye(),{selectedLocation:q}=$e(),a=p(""),g=p(s.owners),H=p(s.owner),w=te({approve:1,driver_service_location:"all",owner_id:null,transport_type:"all",fleet_vehicle_type:[],limit:10}),P=p(""),B=p({}),$=p({}),k=p(!1),x=p(!1),I=p(null),G=p(s.types||[]),S=p(s.serviceLocations||[]),z=p({}),O=p(s.successMessage||""),D=p(s.alertMessage||""),J=()=>{O.value="",D.value=""},K=n=>s.app_for&&s.app_for=="demo"?"***********":n.mobile_number,Q=n=>s.app_for&&s.app_for=="demo"?"***********":n.email,F=p(!1),Z=()=>{L(),x.value=!0,F.value=!1},E=p({}),N=p(!1),C=te({reason:s.driver&&s.driver.reason||""}),o=p(null);se(q,n=>{console.log("value",n),w.driver_service_location=n,L()});const u=()=>{w.reset(),L(),F.value=!1},f=n=>{P.value=n};se(()=>P.value,ke.debounce(n=>{X()},300));const ae=()=>{k.value=!1},W=async n=>{try{await A.delete(`/fleet-drivers/delete/${n}`);const h=B.value.findIndex(M=>M.id===n);h!==-1&&B.value.splice(h,1),k.value=!1,T.fire(t("success"),t("fleet_driver_deleted_successfully"),"success")}catch{T.fire(t("error"),t("failed_to_delete_fleet_driver"),"error")}},ie=async n=>{T.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async h=>{if(h.isConfirmed)try{await W(n)}catch(M){console.error(t("error_deleting_data"),M),T.fire(t("error"),t("failed_to_delete_the_data"),"error")}})},ne=async n=>{R.get(`/fleet-drivers/document/${n.id}`)},re=async()=>{try{const n=await A.post("/fleet-drivers/update/decline/reason",{id:E.value,reason:C.reason});n.status===200||n.status===201?(C.reset(),R.get("/fleet-drivers")):console.error("Unexpected response status:",n.status)}catch(n){console.error("Error submitting form:",n)}},de=async n=>{N.value=!0,E.value=n},X=async()=>{try{var n;P.value.length>0?n=`/fleet-drivers/ownerList?search=${P.value}`:w.service_location_id=="all"?n="/fleet-drivers/ownerList":n=`/fleet-drivers/ownerList?service_location_id=${w.service_location_id}`;const h=await A.get(n);g.value=h.data.results,g.value.length>0?H.value=g.value[0]:w.owner_id=null}catch(h){console.error("error_fetching_fleet_drivers",h)}},L=async(n=1)=>{var h;try{const M=w.data();M.page=n,a.value.length>0&&(M.search=a.value),o.value=(h=g.value)==null?void 0:h.find(ue=>ue.id===w.owner_id);const ee=await A.get("/fleet-drivers/list",{params:M});B.value=ee.data.results.data,$.value=ee.data.results,pe($.value.total),x.value=!1}catch(M){console.error(t("error_fetching_fleet_drivers"),M)}},ce=async n=>{a.value=n,L()},me=async n=>{localStorage.setItem("fleet-drivers/list",n),L(n)},fe=async n=>{R.get(`/fleet-drivers/edit/${n.id}`)},ve=async n=>{R.get(`/fleet-drivers/password/edit/${n.id}`)},pe=()=>{z.value=[10,25,50,100,200,500]};return{results:B,modalShow:k,deleteItemId:I,successMessage:O,alertMessage:D,filterData:Z,deleteModal:ie,closeModal:ae,deleteData:W,dismissMessage:J,fetchSearch:ce,paginator:$,modalFilter:x,clearFilter:u,fetchDatas:L,filter:w,serviceLocations:S,fetchOwners:X,selectedOwner:o,inputsearch:f,owners:g,types:G,handlePageChanged:me,editData:fe,rightOffcanvas:F,editPassData:ve,disapproveModelShow:N,form:C,handleSubmit:re,declinedModel:de,documentView:ne,paginatorOption:z,changeEntriesPerPage:()=>{L()},mobileFromUser:K,emailFromUser:Q,selectedLocation:q}},computed:{...Oe,...xe(["permissions"])},async mounted(){this.filter.driver_service_location=this.selectedLocation;const s=localStorage.getItem("fleet-drivers/list");s?this.handlePageChanged(Number(s)):this.handlePageChanged(1),await this.fetchOwners(),await this.fetchDatas()}},Fe={class:"d-flex align-items-center"},Ue={class:"toggle-buttons mt-3 me-4"},je=["title"],He=["title"],Ie={class:"d-flex align-items-center mt-3"},ze={class:"me-2 text-muted"},Ee=["value"],Ne={class:"ms-2 text-muted"},Ae={class:"d-flex align-items-center gap-2"},Te={class:"table-responsive"},Re={class:"table align-middle position-relative table-nowrap"},Ye={class:"table-active"},qe={scope:"col"},Ge={scope:"col"},Je={scope:"col"},Ke={scope:"col"},Qe={scope:"col"},Ze={scope:"col"},We={scope:"col"},Xe={scope:"col"},et={scope:"col"},tt={key:0},st={key:0},ot={key:1},lt={key:2},at=["href"],it={class:"dropdown"},nt={class:"dropdown-menu dropdown-menu-end"},rt={key:0,class:"dropdown-item",href:"#"},dt=["onClick"],ct=["onClick"],mt=["onClick"],ft=["onClick"],vt=["onClick"],pt={key:1},ut={colspan:"12",class:"text-center"},_t={key:0,class:"row"},ht={class:"card card-height-100"},bt={class:"card-body"},gt={class:"d-flex flex-column h-100"},wt={class:"d-flex"},yt={class:"flex-shrink-0"},kt={class:"d-flex gap-1 align-items-center"},xt={class:"dropdown"},Ct={class:"dropdown-menu dropdown-menu-end"},Mt={key:0,class:"dropdown-item",href:"#"},Bt=["onClick"],Vt=["onClick"],Lt=["onClick"],Pt=["onClick"],St=["onClick"],$t={class:"d-flex mb-2 card-footer bg-transparent border-top-dashed"},Ot={class:"flex-shrink-0 me-3"},Dt={class:"avatar-sm"},Ft={class:"avatar-title bg-warning-subtle rounded p-2"},Ut=["src"],jt={class:"flex-grow-1"},Ht={class:"mb-1 fs-15"},It={class:"mb-0"},zt={class:"table-responsive table-card mt-2 ms-2"},Et={class:"table table-borderless mb-0"},Nt={key:0},At={key:1},Tt={key:2},Rt={class:"d-flex",style:{width:"fit-content","overflow-x":"auto"}},Yt=["title"],qt=["title"],Gt=["title"],Jt={class:"card-footer bg-transparent border-top-dashed py-2"},Kt={class:"d-flex align-items-center"},Qt={class:"flex-grow-1"},Zt={class:"flex-end"},Wt=["href"],Xt={class:"table-responsive table-card mt-2 ms-2"},es={class:"table table-borderless mb-0"},ts={colspan:"12",class:"text-center m-auto"},ss={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},os={class:"alert-content"},ls={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},as={class:"alert-content"},is={class:"offcanvas-body"},ns={class:"mb-4"},rs={for:"owner-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},ds={class:"mb-4"},cs={for:"choices-select-status",class:"form-label text-muted text-uppercase fw-semibold mb-3"},ms={value:"all"},fs={value:"both"},vs={value:"taxi"},ps={value:"delivery"},us={class:"mb-4"},_s={for:"type-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},hs={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"},bs={class:"row"},gs={class:"col-sm-12"},ws={class:"mb-3"},ys={for:"declined_reason",class:"form-label"},ks=["placeholder"],xs={class:"modal-footer v-modal-footer"};function Cs(s,t,q,a,g,H){const w=v("Head"),P=v("PageHeader"),B=v("BCol"),$=v("searchbar"),k=v("BButton"),x=v("Link"),I=v("BRow"),G=v("BCardHeader"),S=v("BBadge"),z=v("BCardBody"),O=v("BCard"),D=v("Multiselect"),J=v("BFrom"),K=v("BOffcanvas"),Q=v("BLink"),F=v("FormValidation"),Z=v("BModal"),E=v("Pagination"),N=v("Layout"),C=Ce("b-tooltip");return i(),y(N,null,{default:d(()=>[m(w,{title:"Approved Drivers"}),m(P,{title:`Approved Drivers ${a.selectedOwner?"("+a.selectedOwner.name+")":""}`,pageTitle:"Approved Drivers"},null,8,["title"]),m(I,null,{default:d(()=>[m(B,{lg:"12"},{default:d(()=>[m(O,{"no-body":"",id:"tasksList"},{default:d(()=>[m(G,{class:"border-0"},{default:d(()=>[m(I,{class:"g-2"},{default:d(()=>[m(B,{md:"4"},{default:d(()=>[e("div",Fe,[e("div",Ue,[V((i(),r("a",{"data-bs-toggle":"tooltip",title:s.$t("list_view"),class:Y(["list-btn",{active:g.isListView}]),onClick:t[0]||(t[0]=o=>H.toggleView("list"))},t[15]||(t[15]=[e("i",{class:"ri-list-check"},null,-1)]),10,je)),[[C,void 0,void 0,{hover:!0}]]),V((i(),r("a",{"data-bs-toggle":"tooltip",title:s.$t("grid_view"),class:Y(["list-btn",{active:!g.isListView}]),onClick:t[1]||(t[1]=o=>H.toggleView("grid"))},t[16]||(t[16]=[e("i",{class:"ri-grid-fill"},null,-1)]),10,He)),[[C,void 0,void 0,{hover:!0}]])]),e("div",Ie,[e("label",ze,l(s.$t("show")),1),V(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>a.filter.limit=o),onChange:t[3]||(t[3]=(...o)=>a.changeEntriesPerPage&&a.changeEntriesPerPage(...o)),class:"form-select form-select-sm w-auto"},[(i(!0),r(j,null,U(a.paginatorOption,o=>(i(),r("option",{key:o,value:o},l(o),9,Ee))),128))],544),[[oe,a.filter.limit]]),e("label",Ne,l(s.$t("entries")),1)])])]),_:1}),m(B,{md:"auto",class:"ms-auto"},{default:d(()=>[e("div",Ae,[m($,{onSearch:a.fetchSearch},null,8,["onSearch"]),m(k,{variant:"danger",onClick:t[4]||(t[4]=o=>a.rightOffcanvas=!0)},{default:d(()=>[t[17]||(t[17]=e("i",{class:"ri-filter-2-line me-1 align-bottom"},null,-1)),c(" "+l(s.$t("filters")),1)]),_:1,__:[17]}),s.permissions.includes("add-fleet-drivers")?(i(),y(x,{key:0,href:"/fleet-drivers/create"},{default:d(()=>[m(k,{variant:"primary",class:"float-end"},{default:d(()=>[t[18]||(t[18]=e("i",{class:"ri-add-line align-bottom me-1"},null,-1)),c(" "+l(s.$t("add_fleet_drivers")),1)]),_:1,__:[18]})]),_:1})):_("",!0)])]),_:1})]),_:1})]),_:1}),g.isListView?(i(),y(z,{key:0,class:"border border-dashed border-end-0 border-start-0"},{default:d(()=>[e("div",Te,[e("table",Re,[e("thead",Ye,[e("tr",null,[e("th",qe,l(s.$t("name")),1),e("th",Ge,l(s.$t("service_locations")),1),e("th",Je,l(s.$t("email")),1),e("th",Ke,l(s.$t("mobile_number")),1),e("th",Qe,l(s.$t("transport_type")),1),e("th",Ze,l(s.$t("document_view")),1),e("th",We,l(s.$t("approved_status")),1),e("th",Xe,l(s.$t("rating")),1),e("th",et,l(s.$t("action")),1)])]),a.results.length>0?(i(),r("tbody",tt,[(i(!0),r(j,null,U(a.results,(o,u)=>(i(),r("tr",{key:u},[e("td",null,[m(x,{class:"dropdown-item",href:`/fleet-drivers/view-profile/${o.id}`},{default:d(()=>[c(l(o.name),1)]),_:2},1032,["href"])]),e("td",null,l(o.service_location_name),1),e("td",null,l(a.emailFromUser(o)),1),e("td",null,l(a.mobileFromUser(o)),1),e("td",null,[o.transport_type==="taxi"?(i(),r("span",st,l(s.$t("taxi"))+" - "+l(o.vehicle_type_name),1)):o.transport_type==="delivery"?(i(),r("span",ot,l(s.$t("delivery"))+" - "+l(o.vehicle_type_name),1)):(i(),r("span",lt,l(s.$t("all"))+" - "+l(o.vehicle_type_name),1))]),e("td",null,[e("a",{href:`/fleet-drivers/document/${o.id}`,target:"_blank"},t[19]||(t[19]=[e("i",{class:"bx bxs-file text-primary",style:{"font-size":"35px"}},null,-1)]),8,at)]),e("td",null,[o.approve?(i(),y(S,{key:0,variant:"success",class:"text-uppercase"},{default:d(()=>[c(l(s.$t("approved")),1)]),_:1})):(i(),y(S,{key:1,variant:"danger",class:"text-uppercase"},{default:d(()=>[c(l(s.$t("disapproved")),1)]),_:1}))]),e("td",null,[(i(),r(j,null,U(5,f=>e("i",{key:f,class:Y([{"bx bxs-star":f<=Math.floor(o.rating),"bx bxs-star-half":f===Math.ceil(o.rating)&&o.rating%1!==0,"bx bx-star":f>o.rating},"align-center text-muted me-2"])},null,2)),64))]),e("td",null,[m(k,{class:"btn btn-soft-info btn-sm m-2",size:"sm",type:"button"},{default:d(()=>[e("div",it,[t[25]||(t[25]=e("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("span",{class:"text-muted fs-12"},[e("i",{class:"mdi mdi-dots-vertical"})])],-1)),e("ul",nt,[s.permissions.includes("approve-fleet-drivers")?(i(),r("a",rt,[t[20]||(t[20]=e("i",{class:"bx bx-radio-circle-marked align-center text-muted me-2"},null,-1)),o.approve===1?(i(),r("span",{key:0,onClick:b(f=>a.declinedModel(o.id),["prevent"])},l(s.$t("disapprove")),9,dt)):(i(),r("span",{key:1,onClick:b(f=>a.documentView(o),["prevent"])},l(s.$t("approve")),9,ct))])):_("",!0),s.permissions.includes("edit-fleet-drivers")?(i(),r("a",{key:1,class:"dropdown-item",href:"#",onClick:b(f=>a.editData(o),["prevent"])},[t[21]||(t[21]=e("i",{class:"bx bxs-edit-alt bx-xs text-muted me-2"},null,-1)),c(l(s.$t("edit")),1)],8,mt)):_("",!0),s.permissions.includes("edit-fleet-drivers")?(i(),r("a",{key:2,class:"dropdown-item",href:"#",onClick:b(f=>a.editPassData(o),["prevent"])},[t[22]||(t[22]=e("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),c(l(s.$t("update_password")),1)],8,ft)):_("",!0),s.permissions.includes("view-fleet-driver-profile")?(i(),y(x,{key:3,class:"dropdown-item",href:`/fleet-drivers/view-profile/${o.id}`},{default:d(()=>[t[23]||(t[23]=e("i",{class:"bx bx-radio-circle-marked align-center text-muted me-2"},null,-1)),c(" "+l(s.$t("view_profile")),1)]),_:2,__:[23]},1032,["href"])):_("",!0),s.permissions.includes("delete-fleet-drivers")&&s.app_for!=="demo"?(i(),r("a",{key:4,class:"dropdown-item",href:"#",onClick:b(f=>a.deleteModal(o.id),["prevent"])},[t[24]||(t[24]=e("i",{class:"bx bx-trash me-2 bx-xs text-muted"},null,-1)),c(l(s.$t("delete")),1)],8,vt)):_("",!0)])])]),_:2},1024)])]))),128))])):(i(),r("tbody",pt,[e("tr",null,[e("td",ut,[t[26]||(t[26]=e("img",{src:le,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,l(s.$t("no_data_found")),1)])])]))])])]),_:1})):_("",!0)]),_:1})]),_:1})]),_:1}),g.isListView?_("",!0):(i(),r("div",_t,[a.results.length>0?(i(!0),r(j,{key:0},U(a.results,(o,u)=>(i(),r("div",{class:"col-xxl-3 col-sm-6 project-card",key:u},[e("div",ht,[e("div",bt,[e("div",gt,[e("div",wt,[t[33]||(t[33]=e("div",{class:"flex-grow-1"},null,-1)),e("div",yt,[e("div",kt,[e("div",xt,[t[32]||(t[32]=e("button",{class:"btn btn-link text-muted p-1 mt-n2 py-0 text-decoration-none fs-15","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-more-horizontal icon-sm"},[e("circle",{cx:"12",cy:"12",r:"1"}),e("circle",{cx:"19",cy:"12",r:"1"}),e("circle",{cx:"5",cy:"12",r:"1"})])],-1)),e("div",Ct,[s.permissions.includes("approve-fleet-drivers")?(i(),r("a",Mt,[t[27]||(t[27]=e("i",{class:"bx bx-radio-circle-marked align-center text-muted me-2"},null,-1)),o.approve===1?(i(),r("span",{key:0,onClick:b(f=>a.declinedModel(o.id),["prevent"])},l(s.$t("disapprove")),9,Bt)):(i(),r("span",{key:1,onClick:b(f=>a.documentView(o),["prevent"])},l(s.$t("approve")),9,Vt))])):_("",!0),s.permissions.includes("edit-fleet-drivers")?(i(),r("a",{key:1,class:"dropdown-item",href:"#",onClick:b(f=>a.editData(o),["prevent"])},[t[28]||(t[28]=e("i",{class:"bx bxs-edit-alt bx-xs text-muted me-2"},null,-1)),c(l(s.$t("edit")),1)],8,Lt)):_("",!0),s.permissions.includes("edit-fleet-drivers")?(i(),r("a",{key:2,class:"dropdown-item",href:"#",onClick:b(f=>a.editPassData(o),["prevent"])},[t[29]||(t[29]=e("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),c(l(s.$t("update_password")),1)],8,Pt)):_("",!0),s.permissions.includes("view-fleet-driver-profile")?(i(),y(x,{key:3,class:"dropdown-item",href:`/fleet-drivers/view-profile/${o.id}`},{default:d(()=>[t[30]||(t[30]=e("i",{class:"bx bx-radio-circle-marked align-center text-muted me-2"},null,-1)),c(" "+l(s.$t("view_profile")),1)]),_:2,__:[30]},1032,["href"])):_("",!0),s.permissions.includes("delete-fleet-drivers")&&s.app_for!=="demo"?(i(),r("a",{key:4,class:"dropdown-item",href:"#",onClick:b(f=>a.deleteModal(o.id),["prevent"])},[t[31]||(t[31]=e("i",{class:"bx bx-trash me-2 bx-xs text-muted"},null,-1)),c(l(s.$t("delete")),1)],8,St)):_("",!0)])])])])]),e("div",$t,[e("div",Ot,[e("div",Dt,[e("span",Ft,[e("img",{class:"avatar-xs rounded-circle p-1",alt:"profile picture",src:o.profile_picture},null,8,Ut)])])]),e("div",jt,[e("h5",Ht,[m(x,{class:"dropdown-item",href:`/fleet-drivers/view-profile/${o.id}`},{default:d(()=>[c(l(o.name??"----"),1)]),_:2},1032,["href"])]),e("p",It,[(i(),r(j,null,U(5,f=>e("i",{key:f,class:Y([{"bx bxs-star text-warning":f<=Math.floor(o.rating),"bx bxs-star-half text-warning":f===Math.ceil(o.rating)&&o.rating%1!==0,"bx bx-star text-muted":f>o.rating},"align-center me-2"])},null,2)),64))])])]),e("div",zt,[e("table",Et,[e("tbody",null,[e("tr",null,[t[34]||(t[34]=e("td",{class:"fw-medium",scope:"row"},[e("i",{class:"las la-globe fs-24"})],-1)),e("td",null,l(o.service_location_name??"----"),1)]),e("tr",null,[t[35]||(t[35]=e("td",{class:"fw-medium",scope:"row"},[e("i",{class:"las la-envelope-open-text fs-24"})],-1)),e("td",null,l(a.emailFromUser(o)??"----"),1)]),e("tr",null,[t[36]||(t[36]=e("td",{class:"fw-medium",scope:"row"},[e("i",{class:"las la-phone fs-24"})],-1)),e("td",null,l(a.mobileFromUser(o)??"----"),1)]),e("tr",null,[t[37]||(t[37]=e("td",{class:"fw-medium",scope:"row"},[e("i",{class:"las la-car fs-24"})],-1)),e("td",null,[o.transport_type==="taxi"?(i(),r("span",Nt,l(s.$t("taxi"))+" - "+l(o.vehicle_type_name),1)):o.transport_type==="delivery"?(i(),r("span",At,l(s.$t("delivery"))+" - "+l(o.vehicle_type_name),1)):(i(),r("span",Tt,l(s.$t("all"))+" - "+l(o.vehicle_type_name),1))])]),e("tr",null,[t[40]||(t[40]=e("td",{class:"fw-medium",scope:"row"},[e("i",{class:"las la-taxi fs-24"})],-1)),e("td",Rt,[V((i(),r("span",{"data-bs-toggle":"tooltip",title:s.$t("vehicle_make"),class:"p-1 border border-dark border-dashed rounded"},[c(l(o.car_make_name??"----"),1)],8,Yt)),[[C,void 0,void 0,{hover:!0}]]),t[38]||(t[38]=c()),V((i(),r("span",{"data-bs-toggle":"tooltip",title:s.$t("vehicle_model"),class:"p-1 ms-2 border border-dark border-dashed rounded"},[c(l(o.car_model_name??"----"),1)],8,qt)),[[C,void 0,void 0,{hover:!0}]]),t[39]||(t[39]=c()),V((i(),r("span",{"data-bs-toggle":"tooltip",title:s.$t("vehicle_number"),class:"p-1 ms-2 border border-dark border-dashed rounded"},[c(l(o.car_number??"----"),1)],8,Gt)),[[C,void 0,void 0,{hover:!0}]])])])])])])])]),e("div",Jt,[e("div",Kt,[e("div",Qt,[o.approve==1?(i(),y(S,{key:0,variant:"success",class:"text-uppercase"},{default:d(()=>[c(l(s.$t("approved")),1)]),_:1})):(i(),y(S,{key:1,variant:"danger",class:"text-uppercase"},{default:d(()=>[c(l(s.$t("disapproved")),1)]),_:1}))]),e("div",Zt,[e("td",null,[e("a",{href:`/fleet-drivers/document/${o.id}`,target:"_blank"},t[41]||(t[41]=[e("i",{class:"bx bxs-file text-primary",style:{"font-size":"35px"}},null,-1)]),8,Wt)])])])])])]))),128)):(i(),y(O,{key:1},{default:d(()=>[e("div",Xt,[e("table",es,[e("tbody",null,[e("tr",null,[e("td",ts,[t[42]||(t[42]=e("img",{src:le,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,l(s.$t("no_data_found")),1)])])])])])]),_:1}))])),e("div",null,[a.successMessage?(i(),r("div",ss,[e("div",os,[t[43]||(t[43]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[44]||(t[44]=c()),t[45]||(t[45]=e("strong",null,"Success",-1)),c(" - "+l(a.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[5]||(t[5]=(...o)=>a.dismissMessage&&a.dismissMessage(...o)),"aria-label":"Close Success Message"})])])):_("",!0),a.alertMessage?(i(),r("div",ls,[e("div",as,[t[46]||(t[46]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[47]||(t[47]=c()),t[48]||(t[48]=e("strong",null,"Alert",-1)),c(" - "+l(a.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[6]||(t[6]=(...o)=>a.dismissMessage&&a.dismissMessage(...o)),"aria-label":"Close Alert Message"})])])):_("",!0)]),m(K,{modelValue:a.rightOffcanvas,"onUpdate:modelValue":t[10]||(t[10]=o=>a.rightOffcanvas=o),placement:"end",title:s.$t("filters"),"header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:d(()=>[m(J,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:d(()=>{var o;return[e("div",is,[e("div",ns,[e("label",rs,l(s.$t("owner")),1),m(D,{modelValue:a.filter.owner_id,"onUpdate:modelValue":t[7]||(t[7]=u=>a.filter.owner_id=u),options:(o=a.owners)==null?void 0:o.map(u=>({value:u.id,label:u.name})),label:"label",searchable:"",onSearchChange:a.inputsearch,"track-by":"value","close-on-select":"",id:"owner-select",placeholder:s.$t("select_owner")},null,8,["modelValue","options","onSearchChange","placeholder"])]),e("div",ds,[e("label",cs,l(s.$t("transport_type")),1),V(e("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":t[8]||(t[8]=u=>a.filter.transport_type=u)},[e("option",ms,l(s.$t("all")),1),e("option",fs,l(s.$t("both")),1),e("option",vs,l(s.$t("taxi")),1),e("option",ps,l(s.$t("delivery")),1)],512),[[oe,a.filter.transport_type]])]),e("div",us,[e("label",_s,l(s.$t("vehicle_type")),1),m(D,{class:"form-control",modelValue:a.filter.fleet_vehicle_type,"onUpdate:modelValue":t[9]||(t[9]=u=>a.filter.fleet_vehicle_type=u),"close-on-select":!1,searchable:!0,multiple:"",placeholder:s.$t("select_vehicle_type"),mode:"tags",id:"type-select","create-option":!1,options:a.types.map(u=>({value:u.id,label:u.name}))},null,8,["modelValue","placeholder","options"])]),t[49]||(t[49]=e("div",null,null,-1))]),e("div",hs,[m(k,{onClick:a.clearFilter,variant:"light",class:"w-100"},{default:d(()=>[c(l(s.$t("clear_filter")),1)]),_:1},8,["onClick"]),m(k,{onClick:a.filterData,type:"submit",variant:"success",class:"w-100"},{default:d(()=>[c(l(s.$t("apply")),1)]),_:1},8,["onClick"])])]}),_:1})]),_:1},8,["modelValue","title"]),m(Z,{modelValue:a.disapproveModelShow,"onUpdate:modelValue":t[14]||(t[14]=o=>a.disapproveModelShow=o),"hide-footer":"",title:s.$t("declined_reason"),class:"v-modal-custom",size:"md"},{default:d(()=>[e("form",null,[m(F,{form:a.form,rules:s.validationRules,ref:"validationRef"},{default:d(()=>[e("div",bs,[e("div",gs,[e("div",ws,[e("label",ys,[c(l(s.$t("declined_reason")),1),t[50]||(t[50]=e("span",{class:"text-danger"},"*",-1))]),V(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_declined_reason"),id:"declined_reason","onUpdate:modelValue":t[11]||(t[11]=o=>a.form.reason=o)},null,8,ks),[[Me,a.form.reason]])])])]),e("div",xs,[m(Q,{href:"javascript:void(0);",class:"btn btn-link link-warning fw-medium",onClick:t[12]||(t[12]=o=>a.disapproveModelShow=!1)},{default:d(()=>[t[51]||(t[51]=e("i",{class:"ri-close-line me-1 align-middle"},null,-1)),c(" "+l(s.$t("close")),1)]),_:1,__:[51]}),e("button",{type:"button",class:"btn btn-soft-info waves-effect waves-light",onClick:t[13]||(t[13]=b((...o)=>a.handleSubmit&&a.handleSubmit(...o),["prevent"]))},l(s.$t("submit")),1)])]),_:1},8,["form","rules"])])]),_:1},8,["modelValue","title"]),m(E,{paginator:a.paginator,onPageChanged:a.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const Us=_e(De,[["render",Cs],["__scopeId","data-v-ac656417"]]);export{Us as default};
