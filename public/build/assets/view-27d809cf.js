import{_ as os,Z as as,O as rs,P as is,z as ds,C as cs,r as h,D as ns,g as f,o as a,x as K,w as _,a as ts,U as L,k as u,l as s,J as t,y as m,i as r,F as j,L as E,B as n,p as Y,n as _s}from"./vendor-ddfbd976.js";import{L as us}from"./dispatchmain-37fc6bfb.js";import{P as ms}from"./page-header-2dc95532.js";import{s as hs}from"./search-2c17aadd.js";import{s as bs}from"./searchbar-3acbc236.js";import{g as vs}from"./googleMap-1f997b81.js";import{_ as ls,a as fs,b as gs,c as ps,d as ys,e as xs}from"./driver-76405b51.js";import"./footer-e648049d.js";import"./dispatchHorizontal-7568e444.js";import"./app-042fb454.js";const ws={data(){return{rightOffcanvas:!1}},components:{Layout:us,PageHeader:ms,Head:as,Multiselect:rs,flatPickr:is,Link:ds,search:hs,searchbar:bs,googleMap:vs},props:{successMessage:String,alertMessage:String,serviceLocations:{type:Object},googleMapKey:String,app_for:String,rejected_drivers:Object,firebaseConfig:Object,baseUrl:String,request:Object},setup(l){var M,T,S,O;const{t:o}=cs(),i=h(l.request),e=h(l.rejected_drivers),P=h(!1),I=h(l.request.requestProofs.data),A=h(l.request.requestStops.data),F=h(l.successMessage||""),g=h(l.alertMessage||""),H=h("**********"),U=h("**********"),x=h("**********"),w=h("**********"),D=()=>{F.value="",g.value=""},k=()=>{P.value=!1},N=async c=>{try{const b=await ts.get(`/rides-request/cancel/${c}`);i.value=b.data.request,P.value=!1,L.fire(o("success"),o("trip_cancelled_successfully"),"success")}catch{L.fire(o("error"),o("failed_to_cancel_trip"),"error")}},z=c=>c.is_cancelled?{text:o("cancelled"),colorClass:"text-danger"}:c.is_completed?{text:o("completed"),colorClass:"text-success"}:c.is_trip_start?{text:o("on_trip"),colorClass:"text-primary"}:c.is_driver_arrived?{text:o("driver_arrived"),colorClass:"text-warning"}:c.is_later&&c.is_driver_started?{text:o("driver_started"),colorClass:"text-info"}:c.driver_id?{text:o("accepted"),colorClass:"text-secondary"}:c.is_later?{text:o("upcoming"),colorClass:"text-dark"}:{text:o("searching"),colorClass:"text-muted"},R=c=>c.cancel_method==0?o("automatic"):c.cancel_method==1?o("cancelled_by_user"):c.cancel_method==2?o("cancelled_by_driver"):o("cancelled_by_dispatcher"),C=()=>{const c=new Date,b={weekday:"short",day:"numeric",month:"short",year:"numeric"};return c.toLocaleDateString("en-US",b)},V=async c=>{L.fire({title:"Are you sure?",text:"You want to be cancel this ride!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, Cancel it!",cancelButtonText:"Close"}).then(async b=>{if(b.isConfirmed)try{const y=await ts.get(`/dispatcher/rides_request/cancel/${c}`);if(y.data.success){const q=y.data.request;b.value=q,L.fire(o("success"),o("trip_cancelled_successfully"),"success")}}catch(y){console.error(o("error_deleting_data"),y),L.fire(o("error"),o("failed_to_delete_the_data"),"error")}})};ns(async()=>{if(!i.value.is_cancelled&&!i.value.is_completed)try{const c=l.firebaseConfig;firebase.apps.length||firebase.initializeApp(c),firebase.database().ref(`requests/${i.value.id}`).on("value",q=>{const v=q.val();v&&(v.hasOwnProperty("is_completed")&&(i.value.is_completed=!0),v.accept!==1&&(i.value.driver_id=null),i.value.is_later&&v.hasOwnProperty("modified_by_driver")&&(i.value.is_driver_started=1),v.trip_arrived==1&&(i.value.is_driver_arrived=!0,i.value.converted_arrived_at||(i.value.converted_arrived_at=C())),v.trip_start==1&&(i.value.is_trip_start=!0,i.value.converted_trip_start_time||(i.value.converted_trip_start_time=C())),(v.is_cancelled||v.is_cancel)&&(i.value.is_cancelled=!0,setTimeout(()=>{window.location.reload()},2e3)))})}catch(c){console.error("Error initializing Firebase or fetching settings:",c)}}),l.app_for!="demo"&&(i.value.userDetail&&(H.value=(M=i.value.userDetail.data)==null?void 0:M.mobile,U.value=(T=i.value.userDetail.data)==null?void 0:T.email),i.value.driverDetail&&(x.value=(S=i.value.driverDetail.data)==null?void 0:S.mobile,w.value=(O=i.value.driverDetail.data)==null?void 0:O.email));const p=h(o("normal"));return i.value.is_bid_ride&&(p.value=o("bidding")),i.value.is_rental&&(p.value=o("rental")),i.value.is_out_station&&(i.value.is_round_trip?p.value=o("round_trip_outstation_trip"):p.value=o("one_way_outstation_trip")),{result:i,modalShow:P,successMessage:F,alertMessage:g,rejected_drivers:e,deleteModal:V,closeModal:k,deleteData:N,stops:A,proof:I,rideStatus:z,user_mobile:H,user_email:U,driver_mobile:x,dispatch_type:p,driver_email:w,dismissMessage:D,cancelledBy:R}}},ks={class:"mb-1"},qs={class:"row"},Bs={class:"col-sm-12"},Ds={class:"card"},Cs={class:"card-body"},Ms={style:{height:"400px"}},Ts={class:"col-xxl-4 col-md-6"},Ss={class:"card card-animate border border-dashed border-primary"},Os={class:"card-body text-center"},Ls={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},js={class:"mb-3 fs-18"},Es={class:"fs-14 mb-4"},Ps={key:0,class:"col-xxl-4 col-md-6"},Fs={class:"card card-animate border border-dashed border-primary"},Hs={class:"card-body text-center"},Us={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},zs={class:"mb-3 fs-18"},Rs={class:"fs-14 mb-4"},Vs={key:1,class:"col-xxl-4 col-md-6"},As={class:"card card-animate border border-dashed border-primary"},Ns={class:"card-body text-center"},Ks={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ys={class:"mb-3 fs-18"},Is={class:"fs-14 mb-4"},Js={class:"col-xxl-4 col-md-6"},Zs={class:"card card-animate border border-dashed border-primary"},Gs={class:"card-body text-center"},Qs={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ws={key:0,class:"fs-14 text-danger"},Xs={class:"mb-1"},$s={class:"row"},se={class:"col-xxl-4 col-md-6"},ee={class:"card card-animate border border-dashed border-primary"},te={class:"card-body"},le={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},oe={class:"d-flex align-items-center mb-2"},ae={class:"flex-shrink-0"},re={class:"text-muted mb-0"},ie={class:"flex-grow-1 ms-2"},de={class:"mb-0"},ce={class:"d-flex align-items-center mb-2"},ne={class:"flex-shrink-0"},_e={class:"text-muted mb-0"},ue={class:"flex-grow-1 ms-2"},me={class:"mb-0"},he={key:0},be={key:1},ve={key:2},fe={class:"d-flex align-items-center mb-2"},ge={class:"flex-shrink-0"},pe={class:"text-muted mb-0"},ye={class:"flex-grow-1 ms-2"},xe={class:"mb-0"},we={class:"d-flex align-items-center mb-2"},ke={class:"flex-shrink-0"},qe={class:"text-muted mb-0"},Be={class:"flex-grow-1 ms-2"},De={class:"mb-0"},Ce={key:0,class:"d-flex align-items-center mb-2"},Me={class:"flex-shrink-0"},Te={class:"text-muted mb-0"},Se={class:"flex-grow-1 ms-2"},Oe={class:"mb-0"},Le={class:"d-flex align-items-center mb-2"},je={class:"flex-shrink-0"},Ee={class:"text-muted mb-0"},Pe={class:"flex-grow-1 ms-2"},Fe={class:"mb-0"},He={key:1,class:"d-flex align-items-center mb-2"},Ue={class:"flex-shrink-0"},ze={class:"text-muted mb-0"},Re={class:"flex-grow-1 ms-2"},Ve={class:"mb-0"},Ae={class:"col-xxl-4 col-md-6"},Ne={class:"card card-animate border border-dashed border-primary"},Ke={class:"card-body"},Ye={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ie={class:"d-flex align-items-center mb-2"},Je={class:"flex-shrink-0"},Ze={class:"text-muted mb-0"},Ge={class:"flex-grow-1 ms-2"},Qe={class:"mb-0"},We={class:"d-flex align-items-center mb-2"},Xe={class:"flex-shrink-0"},$e={class:"text-muted mb-0"},st={class:"flex-grow-1 ms-2"},et={class:"mb-0"},tt={class:"d-flex align-items-center mb-2"},lt={class:"flex-shrink-0"},ot={class:"text-muted mb-0"},at={class:"flex-grow-1 ms-2"},rt={class:"mb-0"},it={key:0,class:"col-xxl-4 col-md-6"},dt={class:"card card-animate border border-dashed border-primary"},ct={class:"card-body"},nt={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},_t={class:"d-flex align-items-center mb-2"},ut={class:"flex-shrink-0"},mt={class:"text-muted mb-0"},ht={class:"flex-grow-1 ms-2"},bt={class:"mb-0"},vt={class:"d-flex align-items-center mb-2"},ft={class:"flex-shrink-0"},gt={class:"text-muted mb-0"},pt={class:"flex-grow-1 ms-2"},yt={class:"mb-0"},xt={class:"d-flex align-items-center mb-2"},wt={class:"flex-shrink-0"},kt={class:"text-muted mb-0"},qt={class:"flex-grow-1 ms-2"},Bt={class:"mb-0"},Dt={class:"mb-1"},Ct={class:"col-lg-6"},Mt={class:"card border mt-3"},Tt={class:"table-responsive"},St={class:"table align-middle position-relative table-nowrap"},Ot={class:"table-active"},Lt={class:"fs-16"},jt={scope:"col"},Et={scope:"col"},Pt={scope:"col"},Ft={key:0},Ht={key:0},Ut={key:1},zt={key:0},Rt={key:1,class:"text-danger"},Vt={key:2},At={class:"bg-body bg-success-subtle"},Nt={colspan:"2",class:"text-success"},Kt={class:"text-success"},Yt={class:"text-success"},It={class:"text-success"},Jt={class:"col-lg-6"},Zt={class:"card border mt-3"},Gt={class:"table-responsive"},Qt={class:"table align-middle position-relative table-nowrap"},Wt={class:"table-active"},Xt={class:"fs-16"},$t={scope:"col"},sl={scope:"col"},el={class:"text-danger"},tl={colspan:"2"},ll={class:"text-danger"},ol={colspan:"2"},al={class:"text-danger"},rl={colspan:"2"},il={colspan:"2"},dl={class:"bg-body bg-success-subtle"},cl={colspan:"2",class:"text-success"},nl={class:"text-success"},_l={class:"text-success"},ul={class:"text-success"},ml={class:"card"},hl={class:"mb-1"},bl={class:"card-body"},vl={class:"profile-timeline"},fl={class:"accordion accordion-flush",id:"accordionFlushExample"},gl={class:"accordion-item border-0"},pl={class:"accordion-header",id:"headingOne"},yl={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"true","aria-controls":"collapseOne"},xl={class:"d-flex align-items-center"},wl={class:"flex-shrink-0 border border-4 border-success rounded-circle"},kl=["src"],ql={class:"flex-grow-1 ms-3"},Bl={class:"fs-15 mb-0 fw-semibold text-primary"},Dl={class:"fw-normal text-muted"},Cl={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Ml={class:"accordion-body ms-5 ps-5 pt-0"},Tl={key:0,class:"mb-1 text-warning"},Sl={key:1,class:"mb-1 text-success"},Ol={class:"accordion-item border-0"},Ll={class:"accordion-header",id:"headingTwo"},jl={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseTwo"},El={class:"d-flex align-items-center"},Pl={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},Fl=["src"],Hl={class:"flex-grow-1 ms-3"},Ul={class:"fs-15 mb-1 fw-semibold text-danger"},zl={class:"fw-normal"},Rl={id:"collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},Vl={class:"accordion-body ms-5 ps-5 pt-0"},Al={class:"mb-1"},Nl={class:"badge bg-light text-body fs-14 fw-large"},Kl={key:0,class:"accordion-item border-0"},Yl={class:"accordion-header",id:"headingThree"},Il={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},Jl={class:"d-flex align-items-center"},Zl={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Gl=["src"],Ql={class:"flex-grow-1 ms-3"},Wl={class:"fs-15 mb-1 fw-semibold text-success"},Xl={class:"fw-normal"},$l={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},so={class:"accordion-body ms-5 ps-5 pt-0"},eo={class:"mb-1"},to={class:"badge bg-light text-body fs-14 fw-large"},lo={key:1,class:"accordion-item border-0"},oo={class:"accordion-header",id:"headingThree"},ao={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},ro={class:"d-flex align-items-center"},io={class:"flex-shrink-0 border border-4 border-warning rounded-circle"},co=["src"],no={class:"flex-grow-1 ms-3"},_o={class:"fs-15 mb-1 fw-semibold text-warning"},uo={class:"fw-normal"},mo={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},ho={class:"accordion-body ms-5 ps-5 pt-0"},bo={class:"mb-1"},vo={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},fo={class:"accordion-body ms-5 ps-5 pt-0"},go={class:"mb-1 text-success"},po={key:2,class:"accordion-item border-0"},yo={class:"accordion-header",id:"headingThree"},xo={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},wo={class:"d-flex align-items-center"},ko={class:"flex-shrink-0 border border-4 border-success rounded-circle"},qo=["src"],Bo={class:"flex-grow-1 ms-3"},Do={class:"fs-15 mb-1 fw-semibold text-success"},Co={class:"fw-normal"},Mo={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},To={class:"accordion-body ms-5 ps-5 pt-0"},So={class:"mb-1"},Oo={key:3,class:"accordion-item border-0"},Lo={class:"accordion-header",id:"headingFour"},jo={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},Eo={class:"d-flex align-items-center"},Po={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Fo=["src"],Ho={class:"flex-grow-1 ms-3"},Uo={class:"fs-14 mb-0 fw-semibold text-success"},zo={class:"fw-normal text-muted"},Ro={key:4,class:"accordion-item border-0"},Vo={class:"accordion-header",id:"headingFour"},Ao={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},No={class:"d-flex align-items-center"},Ko={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},Yo=["src"],Io={class:"flex-grow-1 ms-3"},Jo={class:"fs-14 mb-0 fw-semibold text-danger"},Zo={class:"fw-normal text-muted"},Go={key:1,class:"card"},Qo={class:"card-body border-top border-top-dashed p-4"},Wo={class:"text-muted text-uppercase fw-semibold mb-4"},Xo={class:"card-body"},$o={class:"text-muted text-uppercase fw-semibold mb-2"},sa={class:"d-flex"},ea={class:"flex-shrink-0 avatar-sm"},ta={class:"avatar-title bg-light rounded"},la=["src"],oa={class:"flex-grow-1 ms-3"},aa={class:"text-muted mb-1 fst-italic"},ra={class:"text-muted mb-1 fst-italic"},ia={class:"fs-11 align-middle text-warning"},da=["id"],ca={class:"card-body"},na={class:"text-muted text-uppercase fw-semibold mb-4"},_a={class:"d-flex"},ua={class:"flex-shrink-0 avatar-sm"},ma={class:"avatar-title bg-light rounded"},ha=["src"],ba={class:"flex-grow-1 ms-3"},va={class:"text-muted mb-1 fst-italic"},fa={class:"text-muted mb-1 fst-italic"},ga={class:"fs-11 align-middle text-warning"},pa=["id"],ya={key:2,class:"card"},xa={class:"mb-1"},wa={class:"card-body"},ka={class:"row"},qa={class:"col-lg-4"},Ba=["src"],Da={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Ca={class:"alert-content"},Ma={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Ta={class:"alert-content"};function Sa(l,o,i,e,P,I){const A=f("Head"),F=f("PageHeader"),g=f("BCardHeader"),H=f("googleMap"),U=f("BButton"),x=f("BCardBody"),w=f("BCard"),D=f("BCol"),k=f("BRow"),N=f("Layout");return a(),K(N,null,{default:_(()=>{var z,R,C,V,p,M,T,S,O,c,b,y,q,v,J,Z,G,Q,W,X,$,ss,es;return[u(A,{title:"View Details"}),u(F,{title:l.$t("view_details"),pageTitle:l.$t("view_details"),pageLink:"/dispatcher/rides_request"},null,8,["title","pageTitle"]),u(k,null,{default:_(()=>[u(D,{lg:"12"},{default:_(()=>[u(w,{"no-body":"",id:"tasksList"},{default:_(()=>[u(g,null,{default:_(()=>[s("h4",ks,t(l.$t("map_view")),1)]),_:1}),u(x,null,{default:_(()=>[s("div",qs,[o[8]||(o[8]=s("div",{class:"mt-3"},null,-1)),s("div",Bs,[s("div",Ds,[s("div",Cs,[s("div",Ms,[u(H,{baseUrl:i.baseUrl,pick_location:{lat:e.result.pick_lat,lng:e.result.pick_lng},drop_location:{lat:e.result.drop_lat,lng:e.result.drop_lng},stops:e.result.stops,polyline:e.result.poly_line,map_key:i.googleMapKey,libraries:["marker","geometry"]},{default:_(()=>[m(t(l.$t("map_loading")),1)]),_:1},8,["baseUrl","pick_location","drop_location","stops","polyline","map_key"])])])])]),s("div",Ts,[s("div",Ss,[s("div",Os,[s("h4",Ls,t(l.$t("pickup_details")),1),o[3]||(o[3]=s("div",{class:"flex-grow-1"},[s("img",{src:ls,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),s("h5",js,t(l.$t("location"))+":",1),s("h6",Es,t(e.result.pick_address),1)])])]),e.stops.length>0?(a(),r("div",Ps,[s("div",Fs,[s("div",Hs,[s("h4",Us,t(l.$t("stop_details")),1),o[4]||(o[4]=s("div",{class:"flex-grow-1"},[s("img",{src:ls,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),s("h5",zs,t(l.$t("location"))+":",1),(a(!0),r(j,null,E(e.stops,(d,B)=>(a(),r("h6",Rs,t(d.address),1))),256))])])])):n("",!0),e.result.drop_address?(a(),r("div",Vs,[s("div",As,[s("div",Ns,[s("h4",Ks,t(l.$t("drop_details")),1),o[5]||(o[5]=s("div",{class:"flex-grow-1"},[s("img",{src:fs,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),s("h5",Ys,t(l.$t("location"))+":",1),s("h6",Is,t(e.result.drop_address),1)])])])):n("",!0),s("div",Js,[s("div",Zs,[s("div",Gs,[s("h4",Qs,t(l.$t("trip_status"))+" "+t(e.result.is_bid_ride?l.$t("bidding"):""),1),o[7]||(o[7]=s("div",{class:"flex-grow-1 mt-2"},[s("img",{src:gs,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),s("h5",{class:Y(["mt-5 mb-3 fs-18",e.rideStatus(e.result).colorClass])},t(e.rideStatus(e.result).text),3),e.result.is_cancelled?(a(),r("h5",Ws,"( "+t(e.cancelledBy(e.result))+" )",1)):n("",!0),!e.result.is_cancelled&&!e.result.is_completed?(a(),K(U,{key:1,class:"btn btn-danger btn-md",type:"button",onClick:o[0]||(o[0]=_s(d=>e.deleteModal(e.result.id),["prevent"]))},{default:_(()=>[o[6]||(o[6]=s("i",{class:"bx bx-show-alt align-center text-muted me-2"},null,-1)),m(" "+t(l.$t("cancel")),1)]),_:1,__:[6]})):n("",!0)])])])])]),_:1})]),_:1})]),_:1})]),_:1}),u(k,null,{default:_(()=>[u(D,{lg:"12"},{default:_(()=>[u(w,{"no-body":"",id:"tasksList"},{default:_(()=>[u(g,null,{default:_(()=>[s("h4",Xs,t(l.$t("request_details")),1)]),_:1}),u(x,null,{default:_(()=>{var d,B;return[s("div",$s,[s("div",se,[s("div",ee,[s("div",te,[s("h4",le,t(l.$t("request")),1),o[9]||(o[9]=s("div",{class:"flex-grow-1 mt-2 text-center"},[s("img",{src:ps,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),s("div",oe,[s("div",ae,[s("p",re,t(l.$t("zone"))+":",1)]),s("div",ie,[s("h6",de,t(e.result.zone_name??"-"),1)])]),s("div",ce,[s("div",ne,[s("p",_e,t(l.$t("transport_type"))+":",1)]),s("div",ue,[s("h6",me,[e.result.transport_type==="taxi"?(a(),r("span",he,t(l.$t("taxi")),1)):e.result.transport_type==="delivery"?(a(),r("span",be,t(l.$t("delivery")),1)):(a(),r("span",ve,t(l.$t("all")),1))])])]),s("div",fe,[s("div",ge,[s("p",pe,t(l.$t("vehicle_type"))+":",1)]),s("div",ye,[s("h6",xe,t(e.result.vehicle_type_name??"-"),1)])]),s("div",we,[s("div",ke,[s("p",qe,t(l.$t("trip_time"))+":",1)]),s("div",Be,[s("h6",De,t(e.result.is_later?e.result.converted_trip_start_time:e.result.converted_created_at),1)])]),e.result.rental_package_name!=="-"?(a(),r("div",Ce,[s("div",Me,[s("p",Te,t(l.$t("rental_pack"))+":",1)]),s("div",Se,[s("h6",Oe,t(e.result.rental_package_name),1)])])):n("",!0),s("div",Le,[s("div",je,[s("p",Ee,t(l.$t("ride_type"))+":",1)]),s("div",Pe,[s("h6",Fe,t(e.dispatch_type),1)])]),e.result.is_round_trip?(a(),r("div",He,[s("div",Ue,[s("p",ze,t(l.$t("return_time"))+":",1)]),s("div",Re,[s("h6",Ve,t(e.result.return_time),1)])])):n("",!0)])])]),s("div",Ae,[s("div",Ne,[s("div",Ke,[s("h4",Ye,t(l.$t("user_details")),1),o[10]||(o[10]=s("div",{class:"flex-grow-1 mt-2 text-center"},[s("img",{src:ys,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),s("div",Ie,[s("div",Je,[s("p",Ze,t(l.$t("name"))+":",1)]),s("div",Ge,[s("h6",Qe,t(e.result.userDetail?(d=e.result.userDetail.data)==null?void 0:d.name:"-"),1)])]),s("div",We,[s("div",Xe,[s("p",$e,t(l.$t("email"))+":",1)]),s("div",st,[s("h6",et,t(e.user_email),1)])]),s("div",tt,[s("div",lt,[s("p",ot,t(l.$t("mobile"))+":",1)]),s("div",at,[s("h6",rt,t(e.user_mobile),1)])])])])]),e.result.driverDetail?(a(),r("div",it,[s("div",dt,[s("div",ct,[s("h4",nt,t(l.$t("driver_details")),1),o[11]||(o[11]=s("div",{class:"flex-grow-1 mt-2 text-center"},[s("img",{src:xs,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),s("div",_t,[s("div",ut,[s("p",mt,t(l.$t("name"))+":",1)]),s("div",ht,[s("h6",bt,t(e.result.driverDetail?(B=e.result.driverDetail.data)==null?void 0:B.name:"-"),1)])]),s("div",vt,[s("div",ft,[s("p",gt,t(l.$t("email"))+":",1)]),s("div",pt,[s("h6",yt,t(e.driver_email),1)])]),s("div",xt,[s("div",wt,[s("p",kt,t(l.$t("mobile"))+":",1)]),s("div",qt,[s("h6",Bt,t(e.driver_mobile),1)])])])])])):n("",!0)])]}),_:1})]),_:1})]),_:1})]),_:1}),e.result.requestBill?(a(),K(k,{key:0},{default:_(()=>[u(D,{lg:"col-12"},{default:_(()=>[u(w,null,{default:_(()=>[u(g,null,{default:_(()=>[s("h4",Dt,t(l.$t("bill_details")),1)]),_:1}),u(x,null,{default:_(()=>[u(k,null,{default:_(()=>[s("div",Ct,[s("div",Mt,[s("div",Tt,[s("table",St,[s("thead",Ot,[s("tr",Lt,[s("th",jt,t(l.$t("title")),1),s("th",Et,t(l.$t("description")),1),s("th",Pt,t(l.$t("price")),1)])]),e.result.accepted_ride_fare>0?(a(),r("tbody",Ft,[s("tr",null,[s("td",null,t(l.$t("bid_fare")),1),o[12]||(o[12]=s("td",null," -",-1)),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.accepted_ride_fare),1)]),e.result.additional_charges_amount>0?(a(),r("tr",Ht,[s("td",null,t(e.result.additional_charges_reason),1),o[13]||(o[13]=s("td",null,"-",-1)),s("td",null,t(e.result.additional_charges_amount),1)])):n("",!0)])):(a(),r("tbody",Ut,[s("tr",null,[s("td",null,t(l.$t("base_price")),1),s("td",null,t(l.$t("for_first"))+" "+t(e.result.requestBill.data.base_distance)+" "+t(l.$t("km")),1),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.base_price),1)]),s("tr",null,[s("td",null,t(l.$t("distance_price")),1),s("td",null,t(e.result.requestBill.data.total_distance>e.result.requestBill.data.base_distance?e.result.requestBill.data.total_distance-e.result.requestBill.data.base_distance:0)+" "+t(l.$t("km"))+" * "+t(e.result.requested_currency_symbol)+" "+t(e.result.requestBill.data.price_per_distance)+" / "+t(l.$t("km")),1),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.distance_price),1)]),s("tr",null,[s("td",null,t(l.$t("time_price")),1),s("td",null,t(e.result.requestBill.data.total_time)+" "+t(l.$t("min"))+" * "+t(e.result.requested_currency_symbol)+" "+t(e.result.requestBill.data.price_per_time)+" / "+t(l.$t("min")),1),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.time_price),1)]),e.result.requestBill.data.cancellation_fee>0?(a(),r("tr",zt,[s("td",null,t(l.$t("cancellation_fee")),1),o[14]||(o[14]=s("td",null,"-",-1)),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.cancellation_fee),1)])):n("",!0),s("tr",null,[s("td",null,t(l.$t("service_tax")),1),o[15]||(o[15]=s("td",null,"-",-1)),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.service_tax),1)]),e.result.requestBill.data.promo_discount>0?(a(),r("tr",Rt,[s("td",null,t(l.$t("promo_discount")),1),o[16]||(o[16]=s("td",null,"-",-1)),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.promo_discount),1)])):n("",!0),s("tr",null,[s("td",null,t(l.$t("admin_commission")),1),o[17]||(o[17]=s("td",null,"-",-1)),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.admin_commision),1)]),e.result.additional_charges_amount>0?(a(),r("tr",Vt,[s("td",null,t(e.result.additional_charges_reason),1),o[18]||(o[18]=s("td",null,"-",-1)),s("td",null,t(e.result.additional_charges_amount),1)])):n("",!0)])),s("tfoot",At,[s("tr",null,[s("td",Nt,[s("h4",Kt,t(l.$t("total")),1)]),s("td",Yt,[s("h4",It,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.total_amount),1)])])])])])])]),s("div",Jt,[s("div",Zt,[s("div",Gt,[s("table",Qt,[s("thead",Wt,[s("tr",Xt,[s("th",$t,t(l.$t("title")),1),o[19]||(o[19]=s("th",{scope:"col"},null,-1)),s("th",sl,t(l.$t("price")),1)])]),s("tbody",null,[s("tr",el,[s("td",tl,t(l.$t("admin_commission")),1),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.admin_commision),1)]),s("tr",ll,[s("td",ol,t(l.$t("service_tax")),1),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.service_tax),1)]),s("tr",al,[s("td",rl,t(l.$t("admin_commission_from_driver")),1),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.admin_commision_from_driver),1)]),s("tr",null,[s("td",il,t(l.$t("driver_commission")),1),s("td",null,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.driver_commision),1)])]),s("tfoot",dl,[s("tr",null,[s("td",cl,[s("h4",nl,t(l.$t("total")),1)]),s("td",_l,[s("h4",ul,t(e.result.requested_currency_symbol)+t(e.result.requestBill.data.total_amount),1)])])])])])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):n("",!0),s("div",ml,[u(g,null,{default:_(()=>[s("h4",hl,t(l.$t("request_timeline")),1)]),_:1}),s("div",bl,[s("div",vl,[s("div",fl,[s("div",gl,[s("div",pl,[s("a",yl,[s("div",xl,[s("div",wl,[s("img",{src:e.result.userDetail?(z=e.result.userDetail.data)==null?void 0:z.profile_picture:"/assets/images/default-profile-picture.png",alt:"",class:"avatar-md rounded-circle"},null,8,kl)]),s("div",ql,[s("h6",Bl,[m(t(l.$t("ride_created"))+" -",1),s("span",Dl,t(e.result.converted_created_at),1)])])])])]),!e.result.driver_id&&!e.result.is_cancelled?(a(),r("div",Cl,[s("div",Ml,[e.result.is_later&&!e.result.onSearch?(a(),r("h6",Tl,t(l.$t("yet_to_search")),1)):!e.result.driverDetail&&!e.result.is_cancelled&&!e.result.is_completed?(a(),r("h6",Sl,t(l.$t("searching")),1)):n("",!0)])])):n("",!0)]),(a(!0),r(j,null,E(e.rejected_drivers,(d,B)=>(a(),r("div",Ol,[s("div",Ll,[s("a",jl,[s("div",El,[s("div",Pl,[s("img",{src:d.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Fl)]),s("div",Hl,[s("h6",Ul,[m(t(l.$t("rejected"))+" - ",1),s("span",zl,t(d.converted_created_at),1)])])])])]),s("div",Rl,[s("div",Vl,[s("h5",Al,t(d.driver_name),1),s("span",null,[s("span",Nl,[m(t(d.driver_rating),1),o[20]||(o[20]=s("i",{class:"mdi mdi-star text-warning ms-1"},null,-1))])])])])]))),256)),e.result.driverDetail?(a(),r("div",Kl,[s("div",Yl,[s("a",Il,[s("div",Jl,[s("div",Zl,[s("img",{src:(C=(R=e.result.driverDetail)==null?void 0:R.data)==null?void 0:C.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Gl)]),s("div",Ql,[s("h6",Wl,[m(t(l.$t("accepted"))+" - ",1),s("span",Xl,t(e.result.converted_accepted_at),1)])])])])]),s("div",$l,[s("div",so,[s("h5",eo,t((V=e.result.driverDetail.data)==null?void 0:V.name),1),s("span",null,[s("span",to,[m(t((p=e.result.driverDetail.data)==null?void 0:p.rating),1),o[21]||(o[21]=s("i",{class:"mdi mdi-star text-warning ms-1"},null,-1))])])])])])):n("",!0),e.result.is_driver_arrived&&!e.result.instant_ride?(a(),r("div",lo,[s("div",oo,[s("a",ao,[s("div",ro,[s("div",io,[s("img",{src:(T=(M=e.result.driverDetail)==null?void 0:M.data)==null?void 0:T.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,co)]),s("div",no,[s("h6",_o,[m(t(l.$t("arrived"))+" - ",1),s("span",uo,t(e.result.converted_arrived_at),1)])])])])]),s("div",mo,[s("div",ho,[s("h5",bo,t((O=(S=e.result.driverDetail)==null?void 0:S.data)==null?void 0:O.name),1)])]),e.result.is_trip_start?n("",!0):(a(),r("div",vo,[s("div",fo,[s("h6",go,t(l.$t("waiting")),1)])]))])):n("",!0),e.result.is_trip_start?(a(),r("div",po,[s("div",yo,[s("a",xo,[s("div",wo,[s("div",ko,[s("img",{src:(b=(c=e.result.driverDetail)==null?void 0:c.data)==null?void 0:b.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,qo)]),s("div",Bo,[s("h6",Do,[m(t(e.result.transport_type=="delivery"?l.$t("tripLoaded"):l.$t("tripStarted"))+" - ",1),s("span",Co,t(e.result.converted_trip_start_time),1)])])])])]),s("div",Mo,[s("div",To,[s("h5",So,t((q=(y=e.result.driverDetail)==null?void 0:y.data)==null?void 0:q.name),1)])])])):n("",!0),e.result.is_completed?(a(),r("div",Oo,[s("div",Lo,[s("a",jo,[s("div",Eo,[s("div",Po,[s("img",{src:(J=(v=e.result.driverDetail)==null?void 0:v.data)==null?void 0:J.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Fo)]),s("div",Ho,[s("h6",Uo,[m(t(e.result.transport_type=="delivery"?l.$t("tripUnloaded"):l.$t("ride_completed"))+" -",1),s("span",zo,t(e.result.converted_completed_at),1)])])])])])])):n("",!0),e.result.is_cancelled?(a(),r("div",Ro,[s("div",Vo,[s("a",Ao,[s("div",No,[s("div",Ko,[s("img",{src:(G=(Z=e.result.userDetail)==null?void 0:Z.data)==null?void 0:G.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Yo)]),s("div",Io,[s("h6",Jo,[m(t(l.$t("ride_cancelled"))+" -",1),s("span",Zo,t(e.result.converted_cancelled_at),1)])])])])])])):n("",!0)])])])]),e.result.ride_user_rating>0||e.result.ride_driver_rating>0?(a(),r("div",Go,[s("div",Qo,[s("div",null,[s("h6",Wo,t(l.$t("ratings")),1),s("div",Xo,[s("h6",$o,t(l.$t("user_ratings")),1),s("div",sa,[s("div",ea,[s("div",ta,[s("img",{src:(W=(Q=e.result.userDetail)==null?void 0:Q.data)==null?void 0:W.profile_picture,alt:"User",height:"30"},null,8,la)])]),s("div",oa,[s("div",null,[s("p",aa,t(e.result.userDetail?(X=e.result.userDetail.data)==null?void 0:X.name:"-"),1),s("p",ra,t(e.result.ride_user_comment),1),s("div",ia,[(a(),r(j,null,E(5,d=>s("i",{key:d,id:"id-"+d,class:Y({"ri-star-fill":d<=e.result.ride_user_rating,"ri-star-line":d>e.result.ride_user_rating})},null,10,da)),64))])])])])]),s("div",ca,[s("h6",na,t(l.$t("driver_ratings")),1),s("div",_a,[s("div",ua,[s("div",ma,[s("img",{src:(ss=($=e.result.driverDetail)==null?void 0:$.data)==null?void 0:ss.profile_picture,alt:"Driver",height:"30"},null,8,ha)])]),s("div",ba,[s("div",null,[s("p",va,t(e.result.driverDetail?(es=e.result.driverDetail.data)==null?void 0:es.name:"-"),1),s("p",fa,t(e.result.ride_driver_comment),1),s("div",ga,[(a(),r(j,null,E(5,(d,B)=>s("i",{key:d,id:"id-"+d,class:Y({"ri-star-fill":d<=e.result.ride_driver_rating,"ri-star-line":d>e.result.ride_driver_rating})},null,10,pa)),64))])])])])])])])])):n("",!0),e.proof.length>0?(a(),r("div",ya,[u(g,null,{default:_(()=>[s("h4",xa,t(l.$t("request_proof")),1)]),_:1}),s("div",wa,[s("div",ka,[(a(!0),r(j,null,E(e.proof,(d,B)=>(a(),r("div",qa,[s("img",{src:d.proof_image,style:{height:"100%",width:"100%"}},null,8,Ba)]))),256))])])])):n("",!0),s("div",null,[e.successMessage?(a(),r("div",Da,[s("div",Ca,[o[22]||(o[22]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),o[23]||(o[23]=m()),o[24]||(o[24]=s("strong",null,"Success",-1)),m(" - "+t(e.successMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-success",onClick:o[1]||(o[1]=(...d)=>e.dismissMessage&&e.dismissMessage(...d)),"aria-label":"Close Success Message"})])])):n("",!0),e.alertMessage?(a(),r("div",Ma,[s("div",Ta,[o[25]||(o[25]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),o[26]||(o[26]=m()),o[27]||(o[27]=s("strong",null,"Alert",-1)),m(" - "+t(e.alertMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-danger",onClick:o[2]||(o[2]=(...d)=>e.dismissMessage&&e.dismissMessage(...d)),"aria-label":"Close Alert Message"})])])):n("",!0)])]}),_:1})}const Va=os(ws,[["render",Sa]]);export{Va as default};
