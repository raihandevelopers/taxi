import{_ as j,Z as I,O as Z,C as z,T as E,r as b,g as c,o as r,x as J,w as p,a as A,N as K,k as y,l as e,y as u,J as a,q as _,M as B,i as d,L as v,F as g,K as V,B as q,I as G,H as O,n as Q}from"./vendor-ddfbd976.js";import{L as W}from"./main-306a5ea6.js";import{P as X}from"./page-header-2dc95532.js";import{P as Y}from"./Pagination-f095ae3c.js";import{i as $}from"./imageUpload-4f5efd67.js";import{F as ee}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";/* empty css                                                    */const te={components:{Layout:W,PageHeader:X,Head:I,Pagination:Y,Multiselect:Z,FormValidation:ee,imageUpload:$},props:{successMessage:String,alertMessage:String,countries:Array,timeZones:Array,driverNeededDocument:Object,validate:Function},setup(s){var M,N,D,C,n,l,H,L,F,P,R,T;const{t}=z(),i=E({name:((M=s.driverNeededDocument)==null?void 0:M.name)||"",account_type:((N=s.driverNeededDocument)==null?void 0:N.account_type)||"",has_expiry_date:((C=(D=s.driverNeededDocument)==null?void 0:D.has_expiry_date)==null?void 0:C.toString())||"",has_identify_number:((l=(n=s.driverNeededDocument)==null?void 0:n.has_identify_number)==null?void 0:l.toString())||"",identify_number_locale_key:((H=s.driverNeededDocument)==null?void 0:H.identify_number_locale_key)||"",image_type:((L=s.driverNeededDocument)==null?void 0:L.image_type)||"",document_name_front:((F=s.driverNeededDocument)==null?void 0:F.document_name_front)||"",document_name_back:((P=s.driverNeededDocument)==null?void 0:P.document_name_back)||"",is_editable:((R=s.driverNeededDocument)==null?void 0:R.is_editable)==1,is_required:((T=s.driverNeededDocument)==null?void 0:T.is_required)==1}),o=b({name:{required:!0},account_type:{required:!0},has_expiry_date:{required:!0},has_identify_number:{required:!0},identify_number_locale_key:{required:i.has_identify_number==="yes"},image_type:{required:!0}}),S=b(null),m=b({}),k=b(s.successMessage||""),h=b(s.alertMessage||""),w=b();return{form:i,successMessage:k,alertMessage:h,handleSubmit:async()=>{if(m.value=S.value.validate(),i.image_type=="front_and_back"&&(i.document_name_back?delete m.value.document_name_back:m.value.document_name_back=[t("required")],i.document_name_front?delete m.value.document_name_front:m.value.document_name_front=[t("required")]),!(Object.keys(m.value).length>0))try{let f;s.driverNeededDocument&&s.driverNeededDocument.id?f=await A.post(`/driver-needed-documents/update/${s.driverNeededDocument.id}`,i.data()):f=await A.post("store",i.data()),f.status===201?(k.value=t("driver-needed_docs_created_successfully"),i.reset(),K.get("/driver-needed-documents")):h.value=t("failed_to_create_driver_needed_docs")}catch(f){f.response&&f.response.status===422?m.value=f.response.data.errors:(console.error(t("error_creating_driver_needed_docs"),f),h.value=t("failed_to_create_driver_needed_docs_catch"))}},dismissMessage:()=>{k.value="",h.value=""},selectedCountry:b(null),selectedTimezone:b(null),validationRules:o,validationRef:S,errors:m,has_identify_number:w}}},se={class:"row"},oe={class:"col-sm-6"},ne={class:"mb-3"},ae={for:"name",class:"form-label"},re=["placeholder"],de={class:"col-sm-6"},le={class:"mb-3"},ie={for:"account_type",class:"form-label"},_e={disabled:"",value:""},me={value:"individual"},ce={value:"fleet_driver"},ue={value:"both"},fe={class:"col-sm-6"},be={class:"mb-3"},ye={for:"has_expiry_date",class:"form-label"},ve={disabled:"",value:""},ge={value:"1"},he={value:"0"},pe={class:"col-sm-6"},ke={class:"mb-3"},Me={for:"image_type",class:"form-label"},Ne={disabled:"",selected:"",value:""},De={value:"front"},Ce={value:"front_and_back"},Be={key:0,class:"col-sm-6"},Ve={class:"mb-3"},qe={for:"document_name_front",class:"form-label"},Se=["placeholder"],we={key:1,class:"col-sm-6"},Ue={class:"mb-3"},xe={for:"document_name_back",class:"form-label"},He=["placeholder"],Le={class:"col-sm-6"},Fe={class:"mb-3"},Pe={for:"has_identify_number",class:"form-label"},Re={disabled:"",value:""},Te={value:"1"},Ae={value:"0"},Oe={class:"col-sm-6"},je={class:"mb-3"},Ie={for:"identify_number_locale_key",class:"form-label"},Ze=["placeholder"],ze={class:"col-sm-2"},Ee={class:"mt-3"},Je={class:"form-check form-check-inline"},Ke={class:"form-check-label",for:"is_editable"},Ge={class:"col-sm-2"},Qe={class:"mt-3"},We={class:"form-check form-check-inline"},Xe={class:"form-check-label",for:"is_required"},Ye={class:"col-lg-12"},$e={class:"text-end"},et={type:"submit",class:"btn btn-primary"},tt={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},st={class:"alert-content"},ot={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},nt={class:"alert-content"};function at(s,t,i,o,S,m){const k=c("Head"),h=c("PageHeader"),w=c("BCardHeader"),U=c("FormValidation"),x=c("BCardBody"),M=c("BCard"),N=c("BCol"),D=c("BRow"),C=c("Layout");return r(),J(C,null,{default:p(()=>[y(k,{title:"Driver Needed Documents"}),y(h,{title:i.driverNeededDocument?s.$t("edit"):s.$t("create"),pageTitle:s.$t("driver_needed_documents"),pageLink:"/driver-needed-documents"},null,8,["title","pageTitle"]),y(D,null,{default:p(()=>[y(N,{lg:"12"},{default:p(()=>[y(M,{"no-body":"",id:"tasksList"},{default:p(()=>[y(w,{class:"border-0"}),y(x,{class:"border border-dashed border-end-0 border-start-0"},{default:p(()=>[e("form",{onSubmit:t[10]||(t[10]=Q((...n)=>o.handleSubmit&&o.handleSubmit(...n),["prevent"]))},[y(U,{form:o.form,rules:o.validationRules,ref:"validationRef"},{default:p(()=>[e("div",se,[e("div",oe,[e("div",ne,[e("label",ae,[u(a(s.$t("document_name"))+" ",1),t[13]||(t[13]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_name"),id:"name","onUpdate:modelValue":t[0]||(t[0]=n=>o.form.name=n)},null,8,re),[[B,o.form.name]]),(r(!0),d(g,null,v(o.errors.name,(n,l)=>(r(),d("span",{key:l,class:"text-danger"},a(n),1))),128))])]),e("div",de,[e("div",le,[e("label",ie,[u(a(s.$t("account_type"))+" ",1),t[14]||(t[14]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"account_type",class:"form-select","onUpdate:modelValue":t[1]||(t[1]=n=>o.form.account_type=n)},[e("option",_e,a(s.$t("select")),1),e("option",me,a(s.$t("individual")),1),e("option",ce,a(s.$t("fleet_drivers")),1),e("option",ue,a(s.$t("both")),1)],512),[[V,o.form.account_type]]),(r(!0),d(g,null,v(o.errors.account_type,(n,l)=>(r(),d("span",{key:l,class:"text-danger"},a(n),1))),128))])]),e("div",fe,[e("div",be,[e("label",ye,[u(a(s.$t("has_expiry_date"))+" ",1),t[15]||(t[15]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"has_expiry_date",class:"form-select","onUpdate:modelValue":t[2]||(t[2]=n=>o.form.has_expiry_date=n)},[e("option",ve,a(s.$t("select")),1),e("option",ge,a(s.$t("yes")),1),e("option",he,a(s.$t("no")),1)],512),[[V,o.form.has_expiry_date]]),(r(!0),d(g,null,v(o.errors.has_expiry_date,(n,l)=>(r(),d("span",{key:l,class:"text-danger"},a(n),1))),128))])]),e("div",pe,[e("div",ke,[e("label",Me,[u(a(s.$t("image_type"))+" ",1),t[16]||(t[16]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"image_type",class:"form-select","onUpdate:modelValue":t[3]||(t[3]=n=>o.form.image_type=n)},[e("option",Ne,a(s.$t("select")),1),e("option",De,a(s.$t("front")),1),e("option",Ce,a(s.$t("front_and_backs")),1)],512),[[V,o.form.image_type]]),(r(!0),d(g,null,v(o.errors.image_type,(n,l)=>(r(),d("span",{key:l,class:"text-danger"},a(n),1))),128))])]),o.form.image_type=="front_and_back"?(r(),d("div",Be,[e("div",Ve,[e("label",qe,[u(a(s.$t("document_name_front"))+" ",1),t[17]||(t[17]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_name"),id:"name","onUpdate:modelValue":t[4]||(t[4]=n=>o.form.document_name_front=n)},null,8,Se),[[B,o.form.document_name_front]]),(r(!0),d(g,null,v(o.errors.document_name_front,(n,l)=>(r(),d("span",{key:l,class:"text-danger"},a(n),1))),128))])])):q("",!0),o.form.image_type=="front_and_back"?(r(),d("div",we,[e("div",Ue,[e("label",xe,[u(a(s.$t("document_name_back"))+" ",1),t[18]||(t[18]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_name"),id:"name","onUpdate:modelValue":t[5]||(t[5]=n=>o.form.document_name_back=n)},null,8,He),[[B,o.form.document_name_back]]),(r(!0),d(g,null,v(o.errors.document_name_back,(n,l)=>(r(),d("span",{key:l,class:"text-danger"},a(n),1))),128))])])):q("",!0),e("div",Le,[e("div",Fe,[e("label",Pe,[u(a(s.$t("has_identify_number"))+" ",1),t[19]||(t[19]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"has_identify_number",class:"form-select","onUpdate:modelValue":t[6]||(t[6]=n=>o.form.has_identify_number=n)},[e("option",Re,a(s.$t("select")),1),e("option",Te,a(s.$t("yes")),1),e("option",Ae,a(s.$t("no")),1)],512),[[V,o.form.has_identify_number]]),(r(!0),d(g,null,v(o.errors.has_identify_number,(n,l)=>(r(),d("span",{key:l,class:"text-danger"},a(n),1))),128))])]),_(e("div",Oe,[e("div",je,[e("label",Ie,a(s.$t("identify_number_key")),1),_(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_identify_number_key"),id:"identify_number_locale_key","onUpdate:modelValue":t[7]||(t[7]=n=>o.form.identify_number_locale_key=n)},null,8,Ze),[[B,o.form.identify_number_locale_key]]),(r(!0),d(g,null,v(o.errors.identify_number_locale_key,(n,l)=>(r(),d("span",{key:l,class:"text-danger"},a(n),1))),128))])],512),[[G,o.form.has_identify_number==="1"]]),e("div",ze,[e("div",Ee,[e("div",Je,[_(e("input",{class:"form-check-input",type:"checkbox",id:"is_editable","onUpdate:modelValue":t[8]||(t[8]=n=>o.form.is_editable=n)},null,512),[[O,o.form.is_editable]]),e("label",Ke,a(s.$t("is_editable")),1)])])]),e("div",Ge,[e("div",Qe,[e("div",We,[_(e("input",{class:"form-check-input",type:"checkbox",id:"is_required","onUpdate:modelValue":t[9]||(t[9]=n=>o.form.is_required=n)},null,512),[[O,o.form.is_required]]),e("label",Xe,a(s.$t("is_required")),1)])])]),e("div",Ye,[e("div",$e,[e("button",et,a(i.driverNeededDocument?s.$t("update"):s.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[o.successMessage?(r(),d("div",tt,[e("div",st,[t[20]||(t[20]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[21]||(t[21]=e("strong",null,"Success",-1)),u(" - "+a(o.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[11]||(t[11]=(...n)=>o.dismissMessage&&o.dismissMessage(...n)),"aria-label":"Close Success Message"})])])):q("",!0),o.alertMessage?(r(),d("div",ot,[e("div",nt,[t[22]||(t[22]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[23]||(t[23]=e("strong",null,"Alert",-1)),u(" - "+a(o.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[12]||(t[12]=(...n)=>o.dismissMessage&&o.dismissMessage(...n)),"aria-label":"Close Alert Message"})])])):q("",!0)])]),_:1})}const bt=j(te,[["render",at]]);export{bt as default};
