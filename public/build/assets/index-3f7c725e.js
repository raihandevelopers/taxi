import{_ as H,Z as T,O as E,P as I,z as q,r as p,T as z,Q as K,a2 as W,a as F,g as o,o as m,x as L,w as s,U as M,N as j,k as l,l as t,y as u,i as k,F as G,L as Q,J as O,B as A,q as Y,K as J}from"./vendor-ddfbd976.js";import{L as Z}from"./main-306a5ea6.js";import{P as X}from"./page-header-2dc95532.js";import{P as $}from"./Pagination-f095ae3c.js";import{s as ee}from"./search-2c17aadd.js";import{s as te}from"./searchbar-3acbc236.js";import{_ as le}from"./search-file-ab3e1046.js";import"./footer-e648049d.js";import"./app-042fb454.js";const se={data(){return{rightOffcanvas:!1}},components:{Layout:Z,PageHeader:X,Head:T,Pagination:$,Multiselect:E,flatPickr:I,Link:q,search:ee,searchbar:te},props:{successMessage:String,alertMessage:String,serviceLocations:{type:Object,required:!0}},setup(d){const e=p(""),x=z({all:"",locked:""}),a=p([]),b=p({}),h=p(!1),g=p(!1),P=p(null),c=p(d.successMessage||""),_=p(d.alertMessage||""),y=()=>{c.value="",_.value=""},C=()=>{g.value=!0},S=()=>{x.reset(),v(),g.value=!1},B=()=>{h.value=!1},w=async i=>{try{await F.delete(`/service-locations/delete/${i}`);const r=a.value.findIndex(f=>f.id===i);r!==-1&&a.value.splice(r,1),h.value=!1,M.fire("Success","Service Location deleted successfully","success")}catch{M.fire("Error","Failed to delete Service Location","error")}},R=async i=>{M.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async r=>{if(r.isConfirmed)try{await w(i)}catch(f){console.error("Error deleting data:",f),M.fire("Error","Failed to delete the data","error")}})};K(e,W.debounce(function(i){v(e.value)},300));const v=async(i=1)=>{try{const r=x.data();r.search=e.value,r.page=i;const f=await F.get("/service-locations/list",{params:r});a.value=f.data.results,b.value=f.data.paginator,g.value=!1}catch(r){console.error("Error fetching Service-locations:",r)}};return{results:a,modalShow:h,deleteItemId:P,successMessage:c,alertMessage:_,filterData:C,deleteModal:R,closeModal:B,deleteData:w,dismissMessage:y,searchTerm:e,paginator:b,modalFilter:g,clearFilter:S,fetchDatas:v,filter:x,handlePageChanged:async i=>{v(i)},editData:async i=>{j.get(`/service-locations/edit/${i.id}`)}}},mounted(){this.fetchDatas()}},ae={class:"d-flex align-items-center gap-2"},oe={class:"table-responsive"},ne={class:"table align-middle position-relative table-nowrap"},ie={key:0},re={class:"dropdown"},de={class:"dropdown-menu dropdown-menu-end"},ce={key:1},ue={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},me={class:"alert-content"},fe={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},pe={class:"alert-content"},be={class:"offcanvas-body"},ge={class:"mb-4"},ve={class:"mb-4"},ke={class:"mb-4"},ye={class:"mb-4"},Ce={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function xe(d,e,x,a,b,h){const g=o("Head"),P=o("PageHeader"),c=o("BCol"),_=o("searchbar"),y=o("BButton"),C=o("BRow"),S=o("BCardHeader"),B=o("BBadge"),w=o("Link"),R=o("BCardBody"),v=o("BCard"),V=o("flat-pickr"),D=o("Multiselect"),i=o("BFrom"),r=o("BOffcanvas"),f=o("Pagination"),N=o("Layout");return m(),L(N,null,{default:s(()=>[l(g,{title:"Cancellation Rides"}),l(P,{title:"Cancellation Rides",pageTitle:"Cancellation Rides"}),l(C,null,{default:s(()=>[l(c,{lg:"12"},{default:s(()=>[l(v,{"no-body":"",id:"tasksList"},{default:s(()=>[l(S,{class:"border-0"},{default:s(()=>[l(C,{class:"g-2"},{default:s(()=>[l(c,{md:"3"}),l(c,{md:"auto",class:"ms-auto"},{default:s(()=>[t("div",ae,[l(_),l(y,{variant:"danger",onClick:e[0]||(e[0]=n=>b.rightOffcanvas=!0)},{default:s(()=>e[7]||(e[7]=[t("i",{class:"ri-filter-2-line me-1 align-bottom"},null,-1),u(" Filters")])),_:1,__:[7]})])]),_:1})]),_:1})]),_:1}),l(R,{class:"border border-dashed border-end-0 border-start-0"},{default:s(()=>[t("div",oe,[t("table",ne,[e[21]||(e[21]=t("thead",{class:"table-active"},[t("tr",null,[t("th",{scope:"col"},"S.NO"),t("th",{scope:"col"},"Request Id"),t("th",{scope:"col"},"Date"),t("th",{scope:"col"},"User Name"),t("th",{scope:"col"},"Driver Name"),t("th",{scope:"col"},"Cancellation By"),t("th",{scope:"col"},"Cancellation Reason"),t("th",{scope:"col"},"Cancellation Fee"),t("th",{scope:"col"},"Paid"),t("th",{scope:"col"},"Action")])],-1)),a.results.length>0?(m(),k("tbody",ie,[(m(!0),k(G,null,Q(a.results,(n,U)=>(m(),k("tr",{key:U},[e[12]||(e[12]=t("td",null,"1",-1)),e[13]||(e[13]=t("td",null,"REQ_1719468991",-1)),e[14]||(e[14]=t("td",null,"11/07/2024",-1)),e[15]||(e[15]=t("td",null,"Test",-1)),e[16]||(e[16]=t("td",null,"Test",-1)),e[17]||(e[17]=t("td",null,"User",-1)),e[18]||(e[18]=t("td",null,"-",-1)),e[19]||(e[19]=t("td",null,"-",-1)),t("td",null,[n.active==1?(m(),L(B,{key:0,variant:"success",class:"text-uppercase"},{default:s(()=>e[8]||(e[8]=[u("Cash")])),_:1,__:[8]})):(m(),L(B,{key:1,variant:"danger",class:"text-uppercase"},{default:s(()=>e[9]||(e[9]=[u("Card/Online")])),_:1,__:[9]}))]),t("td",null,[t("div",re,[e[11]||(e[11]=t("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[t("span",{class:"text-muted fs-18"},[t("i",{class:"mdi mdi-dots-vertical"})])],-1)),t("ul",de,[l(w,{class:"dropdown-item",href:"/cancellation-rides/view"},{default:s(()=>e[10]||(e[10]=[t("i",{class:"bx bx-show-alt align-center text-muted me-2"},null,-1),u(" View")])),_:1,__:[10]})])])])]))),128))])):(m(),k("tbody",ce,e[20]||(e[20]=[t("tr",null,[t("td",{colspan:"10",class:"text-center"},[t("img",{src:le,alt:"Loading...",style:{width:"100px"}}),t("h5",null,"No data found")])],-1)])))])])]),_:1})]),_:1})]),_:1})]),_:1}),t("div",null,[a.successMessage?(m(),k("div",ue,[t("div",me,[e[22]||(e[22]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[23]||(e[23]=u()),e[24]||(e[24]=t("strong",null,"Success",-1)),u(" - "+O(a.successMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-success",onClick:e[1]||(e[1]=(...n)=>a.dismissMessage&&a.dismissMessage(...n)),"aria-label":"Close Success Message"})])])):A("",!0),a.alertMessage?(m(),k("div",fe,[t("div",pe,[e[25]||(e[25]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[26]||(e[26]=u()),e[27]||(e[27]=t("strong",null,"Alert",-1)),u(" - "+O(a.alertMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[2]||(e[2]=(...n)=>a.dismissMessage&&a.dismissMessage(...n)),"aria-label":"Close Alert Message"})])])):A("",!0)]),l(r,{modelValue:b.rightOffcanvas,"onUpdate:modelValue":e[6]||(e[6]=n=>b.rightOffcanvas=n),placement:"end",title:"Leads Filters","header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:s(()=>[l(i,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:s(()=>[t("div",be,[t("div",ge,[e[29]||(e[29]=t("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Process",-1)),Y(t("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":e[3]||(e[3]=n=>d.status=n)},e[28]||(e[28]=[t("option",{value:"All Tasks"},"All",-1),t("option",{value:"Completed"},"Completed",-1),t("option",{value:"Inprogress"},"Inprogress",-1),t("option",{value:"Pending"},"Pending",-1),t("option",{value:"Pending"},"Cancelled",-1)]),512),[[J,d.status]])]),e[37]||(e[37]=t("div",{class:"mb-4"},[t("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Payment"),t("div",null,[t("div",{class:"form-check form-check-inline"},[t("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio1",value:"option1"}),t("label",{class:"form-check-label",for:"inlineRadio1"},"Online")]),t("div",{class:"form-check form-check-inline"},[t("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio2",value:"option2"}),t("label",{class:"form-check-label",for:"inlineRadio1"},"Card")]),t("div",{class:"form-check form-check-inline"},[t("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio3",value:"option3"}),t("label",{class:"form-check-label",for:"inlineRadio1"},"Cash")])])],-1)),t("div",ve,[e[30]||(e[30]=t("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Date",-1)),l(V,{placeholder:"Select date",modelValue:d.date,"onUpdate:modelValue":e[4]||(e[4]=n=>d.date=n),config:d.rangeDateconfig,class:"form-control flatpickr-input",id:"demo-datepicker"},null,8,["modelValue","config"])]),t("div",ke,[e[31]||(e[31]=t("label",{for:"country-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Country",-1)),l(D,{class:"form-control",modelValue:d.value,"onUpdate:modelValue":e[5]||(e[5]=n=>d.value=n),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Select country"},{value:"Argentina",label:"Argentina"},{value:"Belgium",label:"Belgium"},{value:"Brazil",label:"Brazil"},{value:"Colombia",label:"Colombia"},{value:"Denmark",label:"Denmark"},{value:"France",label:"France"},{value:"Germany",label:"Germany"},{value:"Mexico",label:"Mexico"},{value:"Russia",label:"Russia"},{value:"Spain",label:"Spain"},{value:"Syria",label:"Syria"},{value:"United Kingdom",label:"United Kingdom"}]},null,8,["modelValue"])]),t("div",ye,[e[36]||(e[36]=t("label",{for:"status-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Status",-1)),l(C,{class:"g-2"},{default:s(()=>[l(c,{lg:"6"},{default:s(()=>e[32]||(e[32]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox1",value:"option1"}),t("label",{class:"form-check-label",for:"inlineCheckbox1"},"Active")],-1)])),_:1,__:[32]}),l(c,{lg:"6"},{default:s(()=>e[33]||(e[33]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox2",value:"option2"}),t("label",{class:"form-check-label",for:"inlineCheckbox2"},"Inactive")],-1)])),_:1,__:[33]}),l(c,{lg:"6"},{default:s(()=>e[34]||(e[34]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox3",value:"option3"}),t("label",{class:"form-check-label",for:"inlineCheckbox3"},"Cash")],-1)])),_:1,__:[34]}),l(c,{lg:"6"},{default:s(()=>e[35]||(e[35]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox4",value:"option4"}),t("label",{class:"form-check-label",for:"inlineCheckbox4"},"Card")],-1)])),_:1,__:[35]})]),_:1})]),e[38]||(e[38]=t("div",null,null,-1))]),t("div",Ce,[l(y,{variant:"light",class:"w-100"},{default:s(()=>e[39]||(e[39]=[u("Clear Filter")])),_:1,__:[39]}),l(y,{type:"submit",variant:"success",class:"w-100"},{default:s(()=>e[40]||(e[40]=[u(" Apply ")])),_:1,__:[40]})])]),_:1})]),_:1},8,["modelValue"]),l(f,{paginator:a.paginator,onPageChanged:a.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const Ve=H(se,[["render",xe]]);export{Ve as default};
