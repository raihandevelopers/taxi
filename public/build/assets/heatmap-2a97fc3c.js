import{_ as w,aE as C,C as L,r as m,Q as D,D as H,g as r,o as h,x as S,w as b,k as d,l as a,J as p,q as V,K as z,i as B,L as $,F as q}from"./vendor-ddfbd976.js";import{L as M}from"./main-306a5ea6.js";import{P as E}from"./page-header-2dc95532.js";import"./footer-e648049d.js";import"./app-042fb454.js";const F={components:{Layout:M,PageHeader:E,Slider:C},props:{requestData:{type:Array,default:()=>[]},default_lat:String,default_lng:String,map_key:String},setup(e){const{t:l}=L(),v=m(null),t=m(null),g=m("Default"),_=m(70),c=m(40),u=m([{name:"Default",colors:["rgba(0, 255, 255, 0)","rgba(0, 255, 255, 1)","rgba(0, 191, 255, 1)","rgba(0, 127, 255, 1)","rgba(0, 63, 255, 1)","rgba(0, 0, 255, 1)","rgba(63, 0, 255, 1)","rgba(127, 0, 255, 1)","rgba(191, 0, 255, 1)","rgba(255, 0, 255, 1)","rgba(255, 0, 191, 1)","rgba(255, 0, 127, 1)","rgba(255, 0, 63, 1)","rgba(255, 0, 0, 1)"]},{name:"Warm",colors:["rgba(255, 255, 0, 0)","rgba(255, 255, 0, 1)","rgba(255, 191, 0, 1)","rgba(255, 127, 0, 1)","rgba(255, 63, 0, 1)","rgba(255, 0, 0, 1)","rgba(191, 0, 0, 1)","rgba(127, 0, 0, 1)"]},{name:"Cool",colors:["rgba(0, 255, 255, 0)","rgba(0, 255, 255, 1)","rgba(0, 191, 255, 1)","rgba(0, 127, 255, 1)","rgba(0, 63, 255, 1)","rgba(0, 0, 255, 1)"]}]);D([_,c,g],()=>{f()});const f=()=>{t.value&&t.value.setOptions({gradient:u.value.find(n=>n.name===g.value).colors,opacity:_.value/100,radius:c.value})},y=async()=>{const n={center:{lat:parseFloat(e.default_lat),lng:parseFloat(e.default_lng)},zoom:13,mapTypeId:"roadmap"};if(v.value=new google.maps.Map(document.getElementById("map"),n),e.requestData.length){const o=e.requestData.map(i=>new google.maps.LatLng(i.pick_lat,i.pick_lng));t.value=new google.maps.visualization.HeatmapLayer({data:o,gradient:u.value.find(i=>i.name===g.value).colors,opacity:_.value/100,radius:c.value}),t.value.setMap(v.value)}};return H(async()=>{const n=e.map_key;if(document.querySelector(`script[src*="maps.googleapis.com/maps/api/js?key=${n}"]`))y();else{const o=document.createElement("script");o.src=`https://maps.googleapis.com/maps/api/js?key=${n}&libraries=places,visualization`,o.async=!0,o.defer=!0,o.onload=()=>{y()},o.onerror=()=>{console.error(l("google_maps_script_failed_to_load"))},document.head.appendChild(o)}}),{map:v,heatmap:t,gradients:u,selectedGradient:g,opacity:_,radius:c}}},P={id:"map",style:{height:"400px"}},G={class:"row"},I={class:"col-lg-12"},T={class:"card"},U={class:"card-header"},j={class:"card-title mb-0"},K={class:"card-body"},N={class:"row"},O={class:"col-xl-12 col-lg-12 mb-5"},R={class:"col-12"},x={class:"mb-3"},A={for:"gradient",class:"form-label fs-14"},J=["value"],Q={class:"col-xl-6 col-lg-6 mb-3"},W={class:"fs-14 mb-3"},X={class:"col-xl-6 col-lg-6 mb-3"},Y={class:"mt-4 mt-lg-0"},Z={class:"fs-14 mb-3"};function aa(e,l,v,t,g,_){const c=r("Head"),u=r("PageHeader"),f=r("BCardBody"),y=r("BCard"),n=r("BCol"),o=r("BRow"),i=r("Slider"),k=r("Layout");return h(),S(k,null,{default:b(()=>[d(c,{title:"Heat Map"}),d(u,{title:e.$t("heat_map"),pageTitle:e.$t("map")},null,8,["title","pageTitle"]),d(o,null,{default:b(()=>[d(n,{lg:"12"},{default:b(()=>[d(y,{"no-body":"",id:"tasksList"},{default:b(()=>[d(f,{class:"border border-dashed border-end-0 border-start-0"},{default:b(()=>[a("div",P,p(e.$t("map_loading")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a("div",G,[a("div",I,[a("div",T,[a("div",U,[a("h4",j,p(e.$t("visibility")),1)]),a("div",K,[a("div",N,[a("div",O,[a("div",R,[a("div",x,[a("label",A,p(e.$t("gradient")),1),V(a("select",{class:"form-select","onUpdate:modelValue":l[0]||(l[0]=s=>t.selectedGradient=s)},[(h(!0),B(q,null,$(t.gradients,s=>(h(),B("option",{key:s.name,value:s.name},p(s.name),9,J))),128))],512),[[z,t.selectedGradient]])])])]),a("div",Q,[a("div",null,[a("h5",W,p(e.$t("opacity")),1),d(i,{type:e.range,modelValue:t.opacity,"onUpdate:modelValue":l[1]||(l[1]=s=>t.opacity=s),"data-slider-size":"lg"},null,8,["type","modelValue"])])]),a("div",X,[a("div",Y,[a("h5",Z,p(e.$t("radius")),1),d(i,{type:e.range,modelValue:t.radius,"onUpdate:modelValue":l[2]||(l[2]=s=>t.radius=s),"data-slider-size":"lg"},null,8,["type","modelValue"])])])])])])])])]),_:1})}const na=w(F,[["render",aa]]);export{na as default};
