import{_ as u,o as r,i as d,l as a,a1 as g,J as f,B as m}from"./vendor-ddfbd976.js";const I={props:{initialImageUrl:{type:String,default:""},flexStyle:{type:String,default:"0 0 calc(57% - 10px)"},aspectRatio:{type:String,default:"1 / 1"},imageType:{type:String,default:"website"}},data(){return{imageFile:null,isModalOpen:!1,showToast:!1}},methods:{triggerFileInput(){this.$refs.fileInput.click()},handleFileChange(s){const e=s.target.files[0];if(e)if(this.validateImage(e)&&this.validateImageSize(e)){const t=new FileReader;t.onload=o=>{this.imageFile={dataURL:o.target.result,name:e.name},this.$emit("image-selected",e)},t.readAsDataURL(e)}else this.showToastMessage()},validateImage(s){return/^image\//.test(s.type)},validateImageSize(s){return!0},removeImage(){this.imageFile=null,this.$emit("image-removed")},removeInitialImage(){this.$emit("image-removed")},openModal(){this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},showToastMessage(){this.showToast=!0,setTimeout(()=>{this.showToast=!1},3e3)},getFullImageUrl(s){switch(this.imageType){case"onboarding":return`/storage/uploads/onboarding/${s}`;case"invoice":return`/storage/uploads/invoice/${s}`;default:return`/storage/uploads/website/images/${s}`}}}},p={id:"image-container"},y={class:"d-flex flex-column align-items-center"},c=["src"],v=["src"],F={key:0,id:"fullscreen-modal"},h=["src"],C={key:1,id:"toast"};function b(s,e,t,o,n,l){return r(),d("div",null,[a("div",p,[!n.imageFile&&!t.initialImageUrl?(r(),d("div",{key:0,style:g({flex:t.flexStyle,aspectRatio:t.aspectRatio}),id:"image-slot",onClick:e[1]||(e[1]=(...i)=>l.triggerFileInput&&l.triggerFileInput(...i))},[a("div",y,[a("span",null,f(s.$t("upload_image")),1),e[11]||(e[11]=a("span",null,[a("i",{class:"ri-image-add-fill fs-24"})],-1))]),a("input",{type:"file",id:"image-upload",ref:"fileInput",onChange:e[0]||(e[0]=(...i)=>l.handleFileChange&&l.handleFileChange(...i)),style:{display:"none"}},null,544)],4)):t.initialImageUrl&&!n.imageFile?(r(),d("div",{key:1,style:g({flex:t.flexStyle,aspectRatio:t.aspectRatio}),class:"image-wrapper"},[a("img",{src:l.getFullImageUrl(t.initialImageUrl),onClick:e[2]||(e[2]=(...i)=>l.openModal&&l.openModal(...i))},null,8,c),a("div",{class:"image-options bg-light border border-danger text-danger rounded fs-5",onClick:e[3]||(e[3]=(...i)=>l.removeInitialImage&&l.removeInitialImage(...i))},"X"),a("div",{class:"image-upload-icon bg-light border border-success text-success rounded fs-5",onClick:e[4]||(e[4]=(...i)=>l.triggerFileInput&&l.triggerFileInput(...i))},e[12]||(e[12]=[a("i",{class:"ri-upload-fill"},null,-1)])),a("input",{type:"file",ref:"fileInput",onChange:e[5]||(e[5]=(...i)=>l.handleFileChange&&l.handleFileChange(...i)),style:{display:"none"}},null,544)],4)):(r(),d("div",{key:2,style:g({flex:t.flexStyle,aspectRatio:t.aspectRatio}),class:"image-wrapper"},[a("img",{src:n.imageFile.dataURL,onClick:e[6]||(e[6]=(...i)=>l.openModal&&l.openModal(...i))},null,8,v),a("div",{class:"image-options bg-light border border-danger text-danger rounded fs-5",onClick:e[7]||(e[7]=(...i)=>l.removeImage&&l.removeImage(...i))},"X"),a("div",{class:"image-upload-icon bg-light border border-success text-success rounded fs-5",onClick:e[8]||(e[8]=(...i)=>l.triggerFileInput&&l.triggerFileInput(...i))},e[13]||(e[13]=[a("i",{class:"ri-upload-fill"},null,-1)])),a("input",{type:"file",ref:"fileInput",onChange:e[9]||(e[9]=(...i)=>l.handleFileChange&&l.handleFileChange(...i)),style:{display:"none"}},null,544)],4))]),n.isModalOpen?(r(),d("div",F,[a("img",{src:n.imageFile?n.imageFile.dataURL:l.getFullImageUrl(t.initialImageUrl),alt:"",id:"fullscreen-image"},null,8,h),a("button",{id:"close-modal",onClick:e[10]||(e[10]=(...i)=>l.closeModal&&l.closeModal(...i))},"X")])):m("",!0),n.showToast?(r(),d("div",C," Delete ")):m("",!0)])}const k=u(I,[["render",b],["__scopeId","data-v-7aa3de2e"]]);export{k as I};
