import{_ as F,Z as R,O as $,P as A,z,C as J,r as m,T as K,Q,g as c,o as i,x as k,w as n,a as U,k as r,l as e,J as o,q as W,K as Z,i as g,L as D,F as N,y as _,B as I}from"./vendor-ddfbd976.js";import{L as j}from"./main-306a5ea6.js";import{P as G}from"./page-header-2dc95532.js";import{P as X}from"./Pagination-f095ae3c.js";import{s as Y}from"./search-2c17aadd.js";import{s as ee}from"./searchbar-3acbc236.js";import{u as te}from"./footer-e648049d.js";import{_ as se}from"./search-file-ab3e1046.js";import"./app-042fb454.js";const ae={data(){return{rightOffcanvas:!1}},components:{Layout:j,PageHeader:G,Head:R,Pagination:X,Multiselect:$,flatPickr:A,Link:z,search:Y,searchbar:ee},props:{successMessage:String,alertMessage:String,app_for:String},setup(a){const{t}=J(),M=m(""),{selectedLocation:l}=te(),h=K({all:"",service_location_id:null,locked:"",limit:10}),w=m([]),p=m({}),b=m(!1),u=m(!1),y=m(null),C=m({}),f=m(a.successMessage||""),P=m(a.alertMessage||""),B=()=>{f.value="",P.value=""},q=()=>{u.value=!0},S=()=>{h.reset(),s(),u.value=!1},L=()=>{b.value=!1},s=async(d=1)=>{try{const v=h.data();v.search=M.value,v.page=d;const H=await U.get("/withdrawal-request-drivers/list",{params:v});w.value=H.data.results,console.log(w.value),p.value=H.data.paginator,V(p.value.total),u.value=!1}catch(v){console.error(t("error_fetching_withdrawal_request_drivers"),v)}},x=async d=>{localStorage.setItem("withdrawal-request/list",d),s(d)},O=async d=>{M.value=d,s()},T=d=>(p.value.current_page-1)*p.value.per_page+d+1,V=()=>{C.value=[10,25,50,100,200,500]},E=()=>{s()};return Q(l,d=>{console.log("value",d),h.service_location_id=d,s()}),{results:w,modalShow:b,deleteItemId:y,successMessage:f,alertMessage:P,filterData:q,closeModal:L,dismissMessage:B,SerialNumber:T,fetchSearch:O,paginator:p,modalFilter:u,clearFilter:S,fetchDatas:s,filter:h,handlePageChanged:x,paginatorOption:C,changeEntriesPerPage:E,selectedLocation:l}},mounted(){this.filter.service_location_id=this.selectedLocation,this.fetchDatas();const a=localStorage.getItem("withdrawal-request/list");a?this.handlePageChanged(Number(a)):this.handlePageChanged(1)}},oe={class:"d-flex align-items-center mt-3"},le={class:"me-2 text-muted"},ne=["value"],re={class:"ms-2 text-muted"},ie={class:"table-responsive"},de={class:"table align-middle position-relative table-nowrap"},ce={class:"table-active"},ue={scope:"col"},me={scope:"col"},ge={scope:"col"},_e={scope:"col"},pe={scope:"col"},fe={scope:"col"},he={key:0},ve={class:"dropdown"},we={class:"dropdown-menu dropdown-menu-end"},be={key:1},ye={colspan:"7",class:"text-center"},Ce={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Pe={class:"alert-content"},ke={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Me={class:"alert-content"};function Be(a,t,M,l,h,w){const p=c("Head"),b=c("PageHeader"),u=c("BCol"),y=c("BRow"),C=c("BCardHeader"),f=c("BBadge"),P=c("Link"),B=c("BCardBody"),q=c("BCard"),S=c("Pagination"),L=c("Layout");return i(),k(L,null,{default:n(()=>[r(p,{title:"Wtihdrawal Request Drivers"}),r(b,{title:a.$t("withdrawal_request_drivers"),pageTitle:a.$t("withdrawal_request_drivers")},null,8,["title","pageTitle"]),r(y,null,{default:n(()=>[r(u,{lg:"12"},{default:n(()=>[r(q,{"no-body":"",id:"tasksList"},{default:n(()=>[r(C,{class:"border-0"},{default:n(()=>[r(y,{class:"g-2"},{default:n(()=>[r(u,{md:"3"},{default:n(()=>[e("div",oe,[e("label",le,o(a.$t("show")),1),W(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.filter.limit=s),onChange:t[1]||(t[1]=(...s)=>l.changeEntriesPerPage&&l.changeEntriesPerPage(...s)),class:"form-select form-select-sm w-auto"},[(i(!0),g(N,null,D(l.paginatorOption,s=>(i(),g("option",{key:s,value:s},o(s),9,ne))),128))],544),[[Z,l.filter.limit]]),e("label",re,o(a.$t("entries")),1)])]),_:1}),r(u,{md:"3"}),r(u,{md:"auto",class:"ms-auto"},{default:n(()=>t[4]||(t[4]=[e("div",{class:"d-flex align-items-center gap-2"},null,-1)])),_:1,__:[4]})]),_:1})]),_:1}),r(B,{class:"border border-dashed border-end-0 border-start-0"},{default:n(()=>[e("div",ie,[e("table",de,[e("thead",ce,[e("tr",null,[e("th",ue,o(a.$t("date")),1),e("th",me,o(a.$t("name")),1),e("th",ge,o(a.$t("mobile_number")),1),e("th",_e,o(a.$t("requested_amount")),1),e("th",pe,o(a.$t("status")),1),e("th",fe,o(a.$t("action")),1)])]),l.results.length>0?(i(),g("tbody",he,[(i(!0),g(N,null,D(l.results,(s,x)=>(i(),g("tr",{key:x},[e("td",null,o(s.created_at),1),e("td",null,o(s.driver_name),1),e("td",null,o(s.driver_mobile),1),e("td",null,o(s.requested_currency)+o(s.requested_amount),1),e("td",null,[s.payment_status=="approved"?(i(),k(f,{key:0,variant:"success",class:"text-uppercase"},{default:n(()=>[_(o(a.$t("approved")),1)]),_:1})):s.payment_status=="requested"?(i(),k(f,{key:1,variant:"warning",class:"text-uppercase"},{default:n(()=>[_(o(a.$t("requested")),1)]),_:1})):(i(),k(f,{key:2,variant:"danger",class:"text-uppercase"},{default:n(()=>[_(o(a.$t("declined")),1)]),_:1}))]),e("td",null,[e("div",ve,[t[6]||(t[6]=e("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("span",{class:"text-muted fs-18"},[e("i",{class:"mdi mdi-dots-vertical"})])],-1)),e("ul",we,[r(P,{class:"dropdown-item",href:`/withdrawal-request-drivers/view-in-detail/${s.driver_id}`},{default:n(()=>[t[5]||(t[5]=e("i",{class:"bx bx-radio-circle-marked align-center text-muted me-2"},null,-1)),_(" "+o(a.$t("view_in_details")),1)]),_:2,__:[5]},1032,["href"])])])])]))),128))])):(i(),g("tbody",be,[e("tr",null,[e("td",ye,[t[7]||(t[7]=e("img",{src:se,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,o(a.$t("no_data_found")),1)])])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[l.successMessage?(i(),g("div",Ce,[e("div",Pe,[t[8]||(t[8]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[9]||(t[9]=_()),t[10]||(t[10]=e("strong",null,"Success",-1)),_(" - "+o(l.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[2]||(t[2]=(...s)=>l.dismissMessage&&l.dismissMessage(...s)),"aria-label":"Close Success Message"})])])):I("",!0),l.alertMessage?(i(),g("div",ke,[e("div",Me,[t[11]||(t[11]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[12]||(t[12]=_()),t[13]||(t[13]=e("strong",null,"Alert",-1)),_(" - "+o(l.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[3]||(t[3]=(...s)=>l.dismissMessage&&l.dismissMessage(...s)),"aria-label":"Close Alert Message"})])])):I("",!0)]),r(S,{paginator:l.paginator,onPageChanged:l.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const Te=F(ae,[["render",Be]]);export{Te as default};
