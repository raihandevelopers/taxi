import{_ as D,aE as H,r as n,Q as S,D as q,g as d,o as b,x as z,w as p,X as B,k as i,l as e,J as c,q as G,K as M,i as C,L as P,F as T}from"./vendor-ddfbd976.js";import{L as $}from"./main-306a5ea6.js";import{P as x}from"./page-header-2dc95532.js";import"./footer-e648049d.js";import"./app-042fb454.js";const F={components:{Layout:$,PageHeader:x,Slider:H},props:{default_lat:String,default_lng:String,requestData:{type:Array,default:()=>[]}},setup(t){const o=n(null),f=n(null),s=n("Default"),u=n(50),L=n(t.default_lat??0),v=n(t.default_lng??0),r=n(20),m=n([{name:"Default",colors:["#00ffff","#00bfff","#007fff","#003fff","#0000ff","#7f00ff","#ff00ff","#ff007f","#ff0000"]},{name:"Warm",colors:["#ffff00","#ffbf00","#ff7f00","#ff3f00","#ff0000","#bf0000","#7f0000"]},{name:"Cool",colors:["#00ffff","#00bfff","#007fff","#003fff","#0000ff"]}]),h=()=>{if(f.value){const l={radius:r.value,opacity:u.value/100,gradient:g()};f.value.setOptions(l)}},g=()=>{const l=m.value.find(a=>a.name===s.value).colors;return l.reduce((a,V,k)=>{const w=((k+1)/l.length).toFixed(2);return a[w]=V,a},{})},y=()=>{if(o.value=B.map("map").setView([L.value,v.value],13),B.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(o.value),t.requestData.length){const l=t.requestData.map(_=>[_.pick_lat,_.pick_lng,1]);f.value=B.heatLayer(l,{radius:r.value,opacity:u.value/100,gradient:g()}).addTo(o.value)}};return S([u,r,s],()=>{h()}),q(()=>{y()}),{map:o,heatmapLayer:f,gradients:m,selectedGradient:s,opacity:u,radius:r}}},O={id:"map",style:{height:"400px"}},U={class:"row"},E={class:"col-lg-12"},N={class:"card"},R={class:"card-header"},A={class:"card-title mb-0"},J={class:"card-body"},K={class:"row"},Q={class:"col-xl-12 col-lg-12 mb-5"},W={class:"col-12"},X={class:"mb-3"},j={for:"gradient",class:"form-label fs-14"},I=["value"],Y={class:"col-xl-6 col-lg-6 mb-3"},Z={class:"fs-14 mb-3"},ee={class:"col-xl-6 col-lg-6 mb-3"},te={class:"mt-4 mt-lg-0"},ae={class:"fs-14 mb-3"};function oe(t,o,f,s,u,L){const v=d("Head"),r=d("PageHeader"),m=d("BCardBody"),h=d("BCard"),g=d("BCol"),y=d("BRow"),l=d("Slider"),_=d("Layout");return b(),z(_,null,{default:p(()=>[i(v,{title:"Heat Map"}),i(r,{title:t.$t("heat_map"),pageTitle:t.$t("map")},null,8,["title","pageTitle"]),i(y,null,{default:p(()=>[i(g,{lg:"12"},{default:p(()=>[i(h,{"no-body":"",id:"tasksList"},{default:p(()=>[i(m,{class:"border border-dashed border-end-0 border-start-0"},{default:p(()=>[e("div",O,c(t.$t("map_loading")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",U,[e("div",E,[e("div",N,[e("div",R,[e("h4",A,c(t.$t("visibility")),1)]),e("div",J,[e("div",K,[e("div",Q,[e("div",W,[e("div",X,[e("label",j,c(t.$t("gradient")),1),G(e("select",{class:"form-select","onUpdate:modelValue":o[0]||(o[0]=a=>s.selectedGradient=a)},[(b(!0),C(T,null,P(s.gradients,a=>(b(),C("option",{key:a.name,value:a.name},c(a.name),9,I))),128))],512),[[M,s.selectedGradient]])])])]),e("div",Y,[e("div",null,[e("h5",Z,c(t.$t("opacity")),1),i(l,{type:t.range,modelValue:s.opacity,"onUpdate:modelValue":o[1]||(o[1]=a=>s.opacity=a),"data-slider-size":"lg"},null,8,["type","modelValue"])])]),e("div",ee,[e("div",te,[e("h5",ae,c(t.$t("radius")),1),i(l,{type:t.range,modelValue:s.radius,"onUpdate:modelValue":o[2]||(o[2]=a=>s.radius=a),"data-slider-size":"lg"},null,8,["type","modelValue"])])])])])])])])]),_:1})}const re=D(F,[["render",oe]]);export{re as default};
