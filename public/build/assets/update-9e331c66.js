import{_ as Q,Z,O as X,r as b,T as z,Q as $,a2 as ee,a as T,g as p,o as t,x as oe,w as y,U as H,k as m,l as e,i as r,L as f,J as u,F as v,y as k,B as _,q as N,M as Y,p as j,n as le,K as q}from"./vendor-ddfbd976.js";import{L as se}from"./main-306a5ea6.js";import{P as te}from"./page-header-2dc95532.js";import{P as re}from"./Pagination-f095ae3c.js";import"./footer-e648049d.js";import"./app-042fb454.js";const ae={components:{Layout:se,PageHeader:te,Head:Z,Pagination:re,Multiselect:X},props:{successMessage:String,alertMessage:String},setup(d){const o=b(""),g=b(null),l=z({name:"",description:""}),V=z({all:"",locked:""}),C=b([]),R=b({}),S=b(!1),M=b(!1),x=b(!1),L=b(null),F=b(d.successMessage||""),A=b(d.alertMessage||""),P=()=>{F.value="",A.value=""},D=()=>{l.reset(),g.value=null,M.value=!0},w=()=>{x.value=!0},U=i=>{g.value=i,l.name=i.name,l.description=i.description,l.clearErrors(),M.value=!0},h=()=>{l.reset(),M.value=!1,g.value=null},s=()=>{V.reset(),I(),x.value=!1},n=()=>{const{name:i,description:a}=l,c={},B={name:{test:()=>!i,message:"Role name is required"},description:{test:()=>!a,message:"Role description is required"}};return Object.keys(B).forEach(E=>{B[E].test()&&(c[E]=B[E].message)}),c},G=async()=>{const i=n();if(Object.keys(i).length===0)try{let a;if(g.value?a=await T.put(`/roles/update/${g.value.id}`,l.data()):a=await T.post("/roles",l.data()),a.status===200||a.status===201){F.value=a.data.successMessage;const c=a.data.roles;if(g.value){const B=C.value.findIndex(E=>E.id===g.value.id);B!==-1&&(C.value[B]=c)}else C.value.push(c);M.value=!1,l.reset()}else console.error("Unexpected response status:",a.status)}catch(a){if(console.error("Error handling form submission:",a),a.response&&a.response.status===422){const c=a.response.data.errors;l.errors=c}else console.error("An unexpected error occurred:",a)}else l.errors=i},O=i=>{l.errors[i]=""},K=()=>{S.value=!1},J=async i=>{try{await T.delete(`/roles/delete/${i}`);const a=C.value.findIndex(c=>c.id===i);a!==-1&&C.value.splice(a,1),S.value=!1,H.fire("Success","Role deleted successfully","success")}catch(a){console.error("Error deleting role:",a),H.fire("Error","Failed to delete role","error")}},W=async i=>{H.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async a=>{if(a.isConfirmed)try{await J(i)}catch(c){console.error("Error deleting role:",c),H.fire("Error","Failed to delete the role","error")}})};$(o,ee.debounce(function(i){I(o.value)},300));const I=async(i=1)=>{try{const a=V.data();a.search=o.value,a.page=i;const c=await T.get("/roles1/list",{params:a});C.value=c.data.roles,R.value=c.data.paginator,x.value=!1}catch(a){console.error("Error fetching roles:",a)}};return{form:l,roles:C,modalShow:S,modalForm:M,deleteItemId:L,selectedRole:g,successMessage:F,alertMessage:A,createRole:D,filterRole:w,editRole:U,cancelEdit:h,handleSubmit:G,deleteModal:W,closeModal:K,deleteRole:J,dismissMessage:P,hideError:O,searchTerm:o,paginator:R,modalFilter:x,clearFilter:s,fetchRoles:I,filter:V,handlePageChanged:async i=>{I(i)}}},mounted(){this.fetchRoles()}},ne={action:"javascript:void(0);"},ie={class:"row"},de={class:"col-sm-6"},ue={class:"mb-3"},ce={class:"col-sm-6"},me={class:"mb-3"},pe={class:"col-sm-6"},fe={class:"mb-3"},ve={class:"col-sm-6"},be={class:"mb-3"},ge={class:"col-sm-6"},ye={class:"mb-3"},ke={class:"col-sm-6"},Ce={class:"mb-3"},Me={class:"col-sm-6"},_e={class:"mb-3"},xe={class:"col-sm-6"},Be={class:"mb-3"},Se={class:"col-sm-6"},Fe={class:"mb-3"},Ee={class:"col-sm-6"},Ve={class:"mb-3"},Re={class:"col-sm-6"},Ae={class:"mb-3"},we={class:"col-12"},Ue={class:"mb-3"},Ie={key:0},Te=["src"],He={key:1,class:"text-danger"},Ne={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},Le={class:"alert-content"},Pe={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},De={class:"alert-content"},he={class:"form-group mt-3"},Je={key:0,class:"text-danger"},ze={class:"form-group mt-3"},Ye={key:0,class:"text-danger"},je={type:"submit",class:"btn btn-success m-2 float-end"},qe={class:"input-group"};function Ge(d,o,g,l,V,C){const R=p("Head"),S=p("PageHeader"),M=p("BCardHeader"),x=p("Multiselect"),L=p("imageUpload"),F=p("BCardBody"),A=p("BCard"),P=p("BCol"),D=p("BRow"),w=p("BModal"),U=p("BButton"),h=p("Layout");return t(),oe(h,null,{default:y(()=>[m(R,{title:"Pending Drivers"}),m(S,{title:"Update",pageTitle:"Pending Drivers"}),m(D,null,{default:y(()=>[m(P,{lg:"12"},{default:y(()=>[m(A,{"no-body":"",id:"tasksList"},{default:y(()=>[m(M,{class:"border-0"}),m(F,{class:"border border-dashed border-end-0 border-start-0"},{default:y(()=>[e("form",ne,[e("div",ie,[e("div",de,[e("div",ue,[o[15]||(o[15]=e("label",{for:"select_area",class:"form-label"},"Select Area",-1)),o[16]||(o[16]=e("select",{id:"select_area",class:"form-select"},[e("option",{disabled:"",value:""},"Select"),e("option",{value:"india"},"India")],-1)),(t(!0),r(v,null,f(d.errors.country,(s,n)=>(t(),r("span",{key:n,class:"text-danger"},u(s),1))),128))])]),e("div",ce,[e("div",me,[o[17]||(o[17]=e("label",{for:"name",class:"form-label"},"Name",-1)),o[18]||(o[18]=e("input",{type:"text",class:"form-control",placeholder:"Enter name",id:"name"},null,-1)),(t(!0),r(v,null,f(d.errors.name,(s,n)=>(t(),r("span",{key:n,class:"text-danger"},u(s),1))),128))])]),e("div",pe,[e("div",fe,[o[19]||(o[19]=e("label",{for:"mobile_number",class:"form-label"},"Enter Mobile Number",-1)),o[20]||(o[20]=e("input",{type:"text",class:"form-control",placeholder:"Enter Mobile Number",id:"mobile_number"},null,-1)),(t(!0),r(v,null,f(d.errors.name,(s,n)=>(t(),r("span",{key:n,class:"text-danger"},u(s),1))),128))])]),e("div",ve,[e("div",be,[o[21]||(o[21]=e("label",{for:"email",class:"form-label"},"Email",-1)),o[22]||(o[22]=e("input",{type:"text",class:"form-control",placeholder:"Enter Email",id:"email"},null,-1)),(t(!0),r(v,null,f(d.errors.name,(s,n)=>(t(),r("span",{key:n,class:"text-danger"},u(s),1))),128))])]),e("div",ge,[e("div",ye,[o[23]||(o[23]=e("label",{for:"select_gender",class:"form-label"},"Gender",-1)),o[24]||(o[24]=e("select",{id:"select_gender",class:"form-select"},[e("option",{disabled:"",value:""},"Select"),e("option",{value:"male"},"Male"),e("option",{value:"female"},"Female"),e("option",{value:"others"},"others")],-1)),(t(!0),r(v,null,f(d.errors.country,(s,n)=>(t(),r("span",{key:n,class:"text-danger"},u(s),1))),128))])]),e("div",ke,[e("div",Ce,[o[25]||(o[25]=e("label",{for:"select_transport_type",class:"form-label"},"Transport Type",-1)),o[26]||(o[26]=e("select",{id:"select_transport_type",class:"form-select"},[e("option",{disabled:"",value:""},"Select"),e("option",{value:"taxi"},"Taxi"),e("option",{value:"delivery"},"Delivery"),e("option",{value:"both"},"Both")],-1)),(t(!0),r(v,null,f(d.errors.country,(s,n)=>(t(),r("span",{key:n,class:"text-danger"},u(s),1))),128))])]),e("div",Me,[e("div",_e,[o[27]||(o[27]=e("label",{for:"select_type",class:"form-label"},"Select Type",-1)),m(x,{class:"form-control",modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=s=>d.value=s),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Select type"},{value:"Sedan",label:"Sedan"},{value:"LCV",label:"LCV"},{value:"Scooter",label:"Scooter"},{value:"Bike",label:"Bike"},{value:"SUV",label:"SUV"}]},null,8,["modelValue"]),(t(!0),r(v,null,f(d.errors.country,(s,n)=>(t(),r("span",{key:n,class:"text-danger"},u(s),1))),128))])]),e("div",xe,[e("div",Be,[o[28]||(o[28]=e("label",{for:"select_make_car",class:"form-label"},"Make Car",-1)),o[29]||(o[29]=e("select",{id:"select_make_car",class:"form-select"},[e("option",{disabled:"",value:""},"Select"),e("option",{value:"Acura"},"Acura"),e("option",{value:"Audi"},"Audi"),e("option",{value:"Alfa Romeo"},"Alfa Romeo"),e("option",{value:"Aston Martin"},"Aston Martin"),e("option",{value:"BMW"},"BMW"),e("option",{value:"Bentely"},"Bentely"),e("option",{value:"Buick"},"Buick"),e("option",{value:"cadillac"},"cadillac"),e("option",{value:"Chavrolet"},"Chavrolet"),e("option",{value:"Chrysler"},"Chrysler"),e("option",{value:"FIAT"},"FIAT"),e("option",{value:"Ferrari"},"Ferrari"),e("option",{value:"Fisker"},"Fisker"),e("option",{value:"Ford"},"Ford"),e("option",{value:"GMC"},"GMC"),e("option",{value:"HUMMER"},"HUMMER"),e("option",{value:"Honda"},"Honda"),e("option",{value:"INFINITI"},"INFINITI"),e("option",{value:"Isuzu"},"Isuzu"),e("option",{value:"Jaguar"},"Jaguar"),e("option",{value:"Jeep"},"Jeep"),e("option",{value:"TATA"},"TATA"),e("option",{value:"Dodge"},"Dodge"),e("option",{value:"Hyundai"},"Hyundai"),e("option",{value:"Ashok Leyland"},"Ashok Leyland")],-1)),(t(!0),r(v,null,f(d.errors.country,(s,n)=>(t(),r("span",{key:n,class:"text-danger"},u(s),1))),128))])]),e("div",Se,[e("div",Fe,[o[30]||(o[30]=e("label",{for:"select_car_model",class:"form-label"},"Car Model",-1)),o[31]||(o[31]=e("select",{id:"select_car_model",class:"form-select"},[e("option",{disabled:"",value:""},"Select"),e("option",{value:"lcv_truck"},"LCV truck"),e("option",{value:"light_truck"},"light truck"),e("option",{value:"yodha_pcik_up"},"Yodha pick-up")],-1)),(t(!0),r(v,null,f(d.errors.country,(s,n)=>(t(),r("span",{key:n,class:"text-danger"},u(s),1))),128))])]),e("div",Ee,[e("div",Ve,[o[32]||(o[32]=e("label",{for:"car_color",class:"form-label"},"Car Color",-1)),o[33]||(o[33]=e("input",{type:"text",class:"form-control",placeholder:"Enter Car Color",id:"car_color"},null,-1)),(t(!0),r(v,null,f(d.errors.name,(s,n)=>(t(),r("span",{key:n,class:"text-danger"},u(s),1))),128))])]),e("div",Re,[e("div",Ae,[o[34]||(o[34]=e("label",{for:"car_number",class:"form-label"},"Car Number",-1)),o[35]||(o[35]=e("input",{type:"text",class:"form-control",placeholder:"Enter Car Number",id:"car_number"},null,-1)),(t(!0),r(v,null,f(d.errors.name,(s,n)=>(t(),r("span",{key:n,class:"text-danger"},u(s),1))),128))])]),e("div",we,[e("div",Ue,[o[36]||(o[36]=e("label",{for:"icon",class:"form-label d-flex"},[k("Profile "),e("span",null,[e("h5",{class:"text-muted mt-1 mb-0 fs-13"},"(512px x 512px)")])],-1)),d.iconUrl&&!l.form.iconFile?(t(),r("div",Ie,[e("img",{src:d.iconUrl,alt:"Vehicle Image",style:{"max-width":"100px","max-height":"100px"}},null,8,Te)])):_("",!0),m(L,{modelValue:l.form.iconFile,"onUpdate:modelValue":o[1]||(o[1]=s=>l.form.iconFile=s)},null,8,["modelValue"]),l.form.errors.icon?(t(),r("span",He,u(l.form.errors.icon),1)):_("",!0)])]),o[37]||(o[37]=e("div",{class:"col-lg-12"},[e("div",{class:"text-end"},[e("button",{type:"submit",class:"btn btn-primary"},"Update")])],-1))])])]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[l.successMessage?(t(),r("div",Ne,[e("div",Le,[o[38]||(o[38]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),o[39]||(o[39]=k()),o[40]||(o[40]=e("strong",null,"Success",-1)),k(" - "+u(l.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:o[2]||(o[2]=(...s)=>l.dismissMessage&&l.dismissMessage(...s)),"aria-label":"Close Success Message"})])])):_("",!0),l.alertMessage?(t(),r("div",Pe,[e("div",De,[o[41]||(o[41]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),o[42]||(o[42]=k()),o[43]||(o[43]=e("strong",null,"Alert",-1)),k(" - "+u(l.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:o[3]||(o[3]=(...s)=>l.dismissMessage&&l.dismissMessage(...s)),"aria-label":"Close Alert Message"})])])):_("",!0)]),m(w,{modelValue:l.modalForm,"onUpdate:modelValue":o[11]||(o[11]=s=>l.modalForm=s),"hide-footer":"",title:l.selectedRole?"Update Role":"Create Role",class:"v-modal-custom"},{default:y(()=>[e("form",{onSubmit:o[9]||(o[9]=le((...s)=>l.handleSubmit&&l.handleSubmit(...s),["prevent"])),onKeydown:o[10]||(o[10]=(...s)=>l.hideError&&l.hideError(...s))},[e("div",he,[o[44]||(o[44]=e("label",{for:"name",class:"form-label"},[k("Role Name"),e("span",{class:"text-danger"},"*")],-1)),N(e("input",{type:"text",id:"name","onUpdate:modelValue":o[4]||(o[4]=s=>l.form.name=s),class:j(["form-control",{"is-invalid":l.form.errors.name}]),onFocus:o[5]||(o[5]=s=>l.hideError("name"))},null,34),[[Y,l.form.name]]),l.form.errors.name?(t(),r("div",Je,u(l.form.errors.name),1)):_("",!0)]),e("div",ze,[o[45]||(o[45]=e("label",{for:"description",class:"form-label"},[k("description"),e("span",{class:"text-danger"},"*")],-1)),N(e("input",{type:"text",id:"description","onUpdate:modelValue":o[6]||(o[6]=s=>l.form.description=s),class:j(["form-control",{"is-invalid":l.form.errors.description}]),onFocus:o[7]||(o[7]=s=>l.hideError("description"))},null,34),[[Y,l.form.description]]),l.form.errors.description?(t(),r("div",Ye,u(l.form.errors.description),1)):_("",!0)]),e("button",je,u(l.selectedRole?"Update":"Save"),1),l.selectedRole?(t(),r("button",{key:0,type:"button",onClick:o[8]||(o[8]=(...s)=>l.cancelEdit&&l.cancelEdit(...s)),class:"btn btn-secondary m-2 float-end"},"Cancel")):_("",!0)],32)]),_:1},8,["modelValue","title"]),m(w,{modelValue:l.modalFilter,"onUpdate:modelValue":o[14]||(o[14]=s=>l.modalFilter=s),"hide-footer":"","dialog-class":"modal-dialog-right",title:"Filter",class:"v-modal-custom",size:"sm"},{default:y(()=>[e("form",null,[e("div",qe,[N(e("select",{class:"form-select mb-3","aria-label":"Default select example","onUpdate:modelValue":o[12]||(o[12]=s=>l.filter.all=s)},o[46]||(o[46]=[e("option",{selected:""},"Select Status",-1),e("option",{value:"1"},"Yes",-1),e("option",{value:"0"},"No",-1)]),512),[[q,l.filter.all]]),N(e("select",{class:"form-select mb-3","aria-label":"Default select example","onUpdate:modelValue":o[13]||(o[13]=s=>l.filter.locked=s)},o[47]||(o[47]=[e("option",{selected:""},"Select Status",-1),e("option",{value:"0"},"Inactive",-1),e("option",{value:"1"},"Active",-1)]),512),[[q,l.filter.locked]])]),m(U,{variant:"primary",class:"float-end",onClick:l.fetchRoles},{default:y(()=>o[48]||(o[48]=[k(" Apply")])),_:1,__:[48]},8,["onClick"]),m(U,{variant:"outline-primary",class:"float-end mx-2",onClick:l.clearFilter},{default:y(()=>o[49]||(o[49]=[k("Clear")])),_:1,__:[49]},8,["onClick"])])]),_:1},8,["modelValue"])]),_:1})}const eo=Q(ae,[["render",Ge]]);export{eo as default};
