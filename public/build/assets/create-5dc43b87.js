import{_ as U,Z as q,O as A,C as N,r as v,T as P,D as j,g as c,o as n,x as H,w as m,a as L,N as D,k as _,l as e,y as u,J as l,q as h,K as R,i as r,L as p,F as y,B,p as O,M as z,n as E}from"./vendor-ddfbd976.js";import{L as Z}from"./main-306a5ea6.js";import{P as I}from"./page-header-2dc95532.js";import{P as J}from"./Pagination-f095ae3c.js";import{i as K}from"./imageUpload-4f5efd67.js";import{u as $}from"./footer-e648049d.js";import{F as G}from"./FormValidation-a9047131.js";import"./app-042fb454.js";/* empty css                                                    */const Q={components:{Layout:Z,PageHeader:I,Head:q,Pagination:J,Multiselect:A,FormValidation:G,imageUpload:K},props:{successMessage:String,alertMessage:String,countries:Array,timeZones:Array,cancellationReason:Object,languages:Array,validate:Function},setup(t){const{t:s}=N(),{languages:M,fetchData:o}=$(),V=v("English"),k=P({user_type:t.cancellationReason&&t.cancellationReason.user_type||"",languageFields:t.cancellationReason?t.cancellationReason.languageFields||{}:{},arrival_status:t.cancellationReason&&t.cancellationReason.arrival_status||"",payment_type:t.cancellationReason&&t.cancellationReason.payment_type||"",transport_type:t.cancellationReason&&t.cancellationReason.transport_type||"",compensate_from:t.cancellationReason&&t.cancellationReason.compensate_from||""}),w={user_type:{required:!0},arrival_status:{required:!0},payment_type:{required:!0},transport_type:{required:!0}},C=v(null),b=v({}),g=v(t.successMessage||""),f=v(t.alertMessage||""),S=()=>{g.value="",f.value=""},F=async()=>{if(b.value=C.value.validate(),!(Object.keys(b.value).length>0))try{let i;t.cancellationReason&&t.cancellationReason.id?i=await L.post(`/cancellation/update/${t.cancellationReason.id}`,k.data()):i=await L.post("store",k.data()),i.status===201?(g.value=s("cancellation_reason_created_successfully"),k.reset(),D.get("/cancellation")):f.value=s("failed_to_create_cancellation_reason")}catch(i){i.response&&i.response.status===422?b.value=i.response.data.errors:(console.error(s("error_creating_cancellation_reason"),i),f.value=s("failed_to_create_cancellation_reason_catch"))}},T=i=>{V.value=i};return j(async()=>{Object.keys(M).length==0&&await o()}),{form:k,successMessage:g,alertMessage:f,handleSubmit:F,dismissMessage:S,selectedCountry:v(null),selectedTimezone:v(null),validationRules:w,validationRef:C,setActiveTab:T,activeTab:V,languages:M,errors:b}}},W={class:"row"},X={class:"col-sm-6"},Y={class:"mb-3"},x={for:"select_user_type",class:"form-label"},ee={disabled:"",value:""},te={value:"user"},se={value:"driver"},ae={class:"col-sm-6"},oe={class:"mb-3"},le={for:"select_payment_type",class:"form-label"},ne={disabled:"",value:""},re={value:"free"},ie={value:"compensate"},de={key:0,class:"col-sm-6"},ce={class:"mb-3"},_e={class:"d-flex align-items-center"},me={for:"compensate_from",class:"form-label mx-2"},ue={disabled:"",value:""},fe={value:"compensate_from_user"},ve={value:"compensate_from_driver"},pe={class:"col-sm-6"},ye={class:"mb-3"},be={for:"select_arrival_status",class:"form-label"},ge={disabled:"",value:""},he={value:"before"},Me={value:"after"},ke={class:"col-sm-6"},Re={class:"mb-3"},Ce={for:"select_transport_type",class:"form-label"},Be={disabled:"",value:""},Ve={value:"taxi"},we={value:"delivery"},Se={value:"all"},Fe={class:"nav nav-tabs nav-tabs-custom nav-success nav-justified",role:"tablist"},Te={class:"nav-item",role:"presentation"},He=["onClick"],Le=["id"],Ue={class:"col-sm-6 mt-3"},qe={class:"mb-3"},Ae=["for"],Ne=["placeholder","id","onUpdate:modelValue","required"],Pe={class:"col-lg-12"},je={class:"text-end"},De={type:"submit",class:"btn btn-primary"},Oe={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},ze={class:"alert-content"},Ee={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},Ze={class:"alert-content"};function Ie(t,s,M,o,V,k){const w=c("Head"),C=c("PageHeader"),b=c("BCardHeader"),g=c("BCol"),f=c("BRow"),S=c("FormValidation"),F=c("BCardBody"),T=c("BCard"),i=c("Layout");return n(),H(i,null,{default:m(()=>[_(w,{title:"Cancellation"}),_(C,{title:M.cancellationReason?t.$t("edit"):t.$t("create"),pageTitle:t.$t("cancellation"),pageLink:"/cancellation"},null,8,["title","pageTitle"]),_(f,null,{default:m(()=>[_(g,{lg:"12"},{default:m(()=>[_(T,{"no-body":"",id:"tasksList"},{default:m(()=>[_(b,{class:"border-0"}),_(F,{class:"border border-dashed border-end-0 border-start-0"},{default:m(()=>[e("form",{onSubmit:s[5]||(s[5]=E((...a)=>o.handleSubmit&&o.handleSubmit(...a),["prevent"]))},[_(S,{form:o.form,rules:o.validationRules,ref:"validationRef"},{default:m(()=>[e("div",W,[e("div",X,[e("div",Y,[e("label",x,[u(l(t.$t("user_type"))+" ",1),s[8]||(s[8]=e("span",{class:"text-danger"},"*",-1))]),h(e("select",{id:"select_user_type",class:"form-select","onUpdate:modelValue":s[0]||(s[0]=a=>o.form.user_type=a)},[e("option",ee,l(t.$t("select")),1),e("option",te,l(t.$t("user")),1),e("option",se,l(t.$t("driver")),1)],512),[[R,o.form.user_type]]),(n(!0),r(y,null,p(o.errors.user_type,(a,d)=>(n(),r("span",{key:d,class:"text-danger"},l(a),1))),128))])]),e("div",ae,[e("div",oe,[e("label",le,[u(l(t.$t("payment_type"))+" ",1),s[9]||(s[9]=e("span",{class:"text-danger"},"*",-1))]),h(e("select",{id:"select_payment_type",class:"form-select","onUpdate:modelValue":s[1]||(s[1]=a=>o.form.payment_type=a)},[e("option",ne,l(t.$t("select")),1),e("option",re,l(t.$t("free")),1),e("option",ie,l(t.$t("compensate")),1)],512),[[R,o.form.payment_type]]),(n(!0),r(y,null,p(o.errors.payment_type,(a,d)=>(n(),r("span",{key:d,class:"text-danger"},l(a),1))),128))])]),o.form.payment_type==="compensate"?(n(),r("div",de,[e("div",ce,[e("div",_e,[e("label",me,[u(l(t.$t("compensate_from"))+" ",1),s[10]||(s[10]=e("span",{class:"text-danger"},"*",-1))])]),h(e("select",{id:"compensate_from",class:"form-select","onUpdate:modelValue":s[2]||(s[2]=a=>o.form.compensate_from=a)},[e("option",ue,l(t.$t("select_compensate_from")),1),e("option",fe,l(t.$t("compensate_from_user")),1),e("option",ve,l(t.$t("compensate_from_driver")),1)],512),[[R,o.form.compensate_from]]),(n(!0),r(y,null,p(o.errors.compensate_from,(a,d)=>(n(),r("span",{key:d,class:"text-danger"},l(a),1))),128))])])):B("",!0),e("div",pe,[e("div",ye,[e("label",be,[u(l(t.$t("arrival_status"))+" ",1),s[11]||(s[11]=e("span",{class:"text-danger"},"*",-1))]),h(e("select",{id:"select_arrival_status",class:"form-select","onUpdate:modelValue":s[3]||(s[3]=a=>o.form.arrival_status=a)},[e("option",ge,l(t.$t("select")),1),e("option",he,l(t.$t("before_arrival")),1),e("option",Me,l(t.$t("after_arrival")),1)],512),[[R,o.form.arrival_status]]),(n(!0),r(y,null,p(o.errors.arrival_status,(a,d)=>(n(),r("span",{key:d,class:"text-danger"},l(a),1))),128))])]),e("div",ke,[e("div",Re,[e("label",Ce,[u(l(t.$t("transport_type"))+" ",1),s[12]||(s[12]=e("span",{class:"text-danger"},"*",-1))]),h(e("select",{id:"select_transport_type",class:"form-select","onUpdate:modelValue":s[4]||(s[4]=a=>o.form.transport_type=a)},[e("option",Be,l(t.$t("select")),1),e("option",Ve,l(t.$t("taxi")),1),e("option",we,l(t.$t("delivery")),1),e("option",Se,l(t.$t("all")),1)],512),[[R,o.form.transport_type]]),(n(!0),r(y,null,p(o.errors.transport_type,(a,d)=>(n(),r("span",{key:d,class:"text-danger"},l(a),1))),128))])]),e("ul",Fe,[(n(!0),r(y,null,p(o.languages,a=>(n(),H(f,{key:a.code},{default:m(()=>[_(g,{lg:"12"},{default:m(()=>[e("li",Te,[e("a",{class:O(["nav-link",{active:o.activeTab===a.label}]),onClick:d=>o.setActiveTab(a.label),role:"tab","aria-selected":"true"},l(a.label),11,He)])]),_:2},1024)]),_:2},1024))),128))]),(n(!0),r(y,null,p(o.languages,a=>(n(),r("div",{class:"tab-content text-muted",key:a.code},[o.activeTab===a.label?(n(),r("div",{key:0,class:"tab-pane active show",id:`${a.label}`,role:"tabpanel"},[e("div",Ue,[e("div",qe,[e("label",{for:`name-${a.code}`,class:"form-label"},[u(l(t.$t("name"))+" ",1),s[13]||(s[13]=e("span",{class:"text-danger"},"*",-1))],8,Ae),h(e("input",{type:"text",class:"form-control",placeholder:t.$t("enter_name_in",{language:`${a.label}`}),id:`name-${a.code}`,"onUpdate:modelValue":d=>o.form.languageFields[a.code]=d,required:a.code==="en"},null,8,Ne),[[z,o.form.languageFields[a.code]]])])])],8,Le)):B("",!0)]))),128)),e("div",Pe,[e("div",je,[e("button",De,l(M.cancellationReason?t.$t("update"):t.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[o.successMessage?(n(),r("div",Oe,[e("div",ze,[s[14]||(s[14]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[15]||(s[15]=e("strong",null,"Success",-1)),u(" - "+l(o.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:s[6]||(s[6]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):B("",!0),o.alertMessage?(n(),r("div",Ee,[e("div",Ze,[s[16]||(s[16]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[17]||(s[17]=e("strong",null,"Alert",-1)),u(" - "+l(o.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[7]||(s[7]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):B("",!0)])]),_:1})}const et=U(Q,[["render",Ie]]);export{et as default};
