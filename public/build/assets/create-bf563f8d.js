import{_ as D,Z as j,O as E,C as O,r as g,T as G,G as q,D as J,g as m,o as i,x as K,w as f,a as H,N as W,k as p,l as e,y as _,J as l,q as y,K as P,i as n,L as h,F as v,B as T,M as C,n as Z}from"./vendor-ddfbd976.js";import{L as Q}from"./main-306a5ea6.js";import{P as X}from"./page-header-2dc95532.js";import{P as Y}from"./Pagination-f095ae3c.js";import{F as $}from"./FormValidation-a9047131.js";import{u as ee}from"./footer-e648049d.js";import{I as te}from"./ImageUpload-6f09ff26.js";import"./app-042fb454.js";const se={data(){return{form:{icon_types_for:""}}},computed:{imagePath(){switch(this.form.icon_types_for){case"car":return"/assets/images/icon-types/car.png";case"motor_bike":return"/assets/images/icon-types/bike.png";case"auto":return"/assets/images/icon-types/auto.png";case"truck":return"/assets/images/icon-types/truck.png";case"ehcv":return"/assets/images/icon-types/ehcv.png";case"hatchback":return"/assets/images/icon-types/hatchback.png";case"hcv":return"/assets/images/icon-types/hcv.png";case"lcv":return"/assets/images/icon-types/lcv.png";case"mcv":return"/assets/images/icon-types/mcv.png";case"luxury":return"/assets/images/icon-types/luxury.png";case"premium":return"/assets/images/icon-types/premium.png";case"suv":return"/assets/images/icon-types/SUV.png";default:return""}},filteredVehicleTypes(){return this.form.name==""?this.vehicleTypes.map(s=>({value:s.id,label:s.name})):this.vehicleTypes.filter(t=>t.name!==this.form.name).map(t=>({value:t.id,label:t.name}))}},components:{Layout:Q,PageHeader:X,Head:j,Pagination:Y,Multiselect:E,FormValidation:$,ImageUpload:te},props:{successMessage:String,alertMessage:String,vehicleType:Object,validate:Function,languages:Array,vehicleTypes:Array,enabled_sub_vehicle_modules:String},setup(t){const{t:s}=O(),{languages:V,fetchData:o}=ee(),B=g("English"),k=d=>{B.value=d},c=G({name:t.vehicleType&&t.vehicleType.name||"",capacity:t.vehicleType&&t.vehicleType.capacity||"",icon_types_for:t.vehicleType&&t.vehicleType.icon_types_for||"",transport_type:t.vehicleType&&t.vehicleType.is_taxi||"",size:t.vehicleType&&t.vehicleType.size||"",short_description:t.vehicleType&&t.vehicleType.short_description||"",description:t.vehicleType&&t.vehicleType.description||"",trip_dispatch_type:t.vehicleType&&t.vehicleType.trip_dispatch_type||"",maximum_weight_can_carry:t.vehicleType&&t.vehicleType.maximum_weight_can_carry||"",icon:t.vehicleType&&t.vehicleType.icon||"",supported_vehicles:t.vehicleType?t.vehicleType.sub_vehicle||[]:[]}),I={name:{required:!0},capacity:{required:!0},transport_type:{required:!0},description:{required:!0},short_description:{required:!0},trip_dispatch_type:{required:!0},icon:{required:!t.vehicleType}},U=g([]),S=g(null),M=g({}),w=g(t.successMessage||""),b=g(t.alertMessage||""),x=g([]),L=()=>{w.value="",b.value=""},F=async()=>{try{const d=await H.get("/vehicle_type/list");x.value=d.data.results}catch(d){console.error(s("error_fetching_vehicle_type"),d)}},z=q(()=>c.transport_type==="delivery"||c.transport_type==="both"),R=q(()=>c.transport_type==="delivery"||c.transport_type==="both"||c.transport_type==="taxi"),a=q(()=>c.transport_type==="taxi"?"Capacity":"Maximum Weight Can Carry"),r=async()=>{if(M.value=S.value.validate(),!(Object.keys(M.value).length>0))try{var d=c.data();let u;t.vehicleType&&t.vehicleType.id?u=await H.post(`/vehicle_type/update/${t.vehicleType.id}`,d,{headers:{"Content-Type":"multipart/form-data"}}):u=await H.post("/vehicle_type/store",d,{headers:{"Content-Type":"multipart/form-data"}}),u.status===201?(w.value=s("vehicle_type_created_successfully"),c.reset(),W.get("/vehicle_type")):b.value=s("failed_to_create_vehicle_type")}catch(u){u.response&&u.response.status===403?(b.value=u.response.data.alertMessage,setTimeout(()=>{W.get("/vehicle_type")},5e3)):console.error(s("error_creating_vehicle_type"),u)}};J(async()=>{Object.keys(V).length==0&&await o()});const N=(d,u)=>{c[u]=d},A=d=>{c[d]=null};return{form:c,successMessage:w,alertMessage:b,handleSubmit:r,dismissMessage:L,validationRules:I,validationRef:S,errors:M,showSizeField:z,showMaxWeightField:R,maxWeightLabel:a,vehicleType:t.vehicleType,setActiveTab:k,activeTab:B,categories:U,languages:V,handleImageSelected:N,handleImageRemoved:A,fetchDatas:F,vehicleTypes:x}},mounted(){this.fetchDatas()}},oe={class:"row"},ae={class:"col-sm-6"},le={class:"mb-3"},ie={for:"transport_type",class:"form-label"},ne={disabled:"",value:""},re={value:"taxi"},ce={value:"delivery"},de={value:"both"},me={class:"col-sm-6"},pe={class:"mb-3"},_e={for:"select_icon_types_for",class:"form-label"},ue={disabled:"",value:""},he={value:"car"},ve={value:"motor_bike"},ye={value:"auto"},ge={value:"truck"},fe={value:"ehcv"},be={value:"hatchback"},Te={value:"hcv"},ke={value:"lcv"},Me={value:"mcv"},we={value:"luxury"},Ce={value:"premium"},Ve={value:"suv"},Se={class:"col-sm-12"},xe={class:"row"},Be={class:"col-sm-6"},Ie={class:"mb-3"},Ue={for:"icon",class:"form-label d-flex"},Le={class:"col-sm-6 position-relative"},Fe={key:0,class:"overlay-icon-container"},ze=["src"],Re={class:"col-sm-6"},qe={class:"mb-3"},He={for:"name",class:"form-label"},Pe={key:0,class:"col-sm-6"},We={class:"mb-3"},Ne=["for"],Ae=["placeholder"],De={key:1,class:"col-sm-6"},je={class:"mb-3"},Ee={for:"size",class:"form-label"},Oe=["placeholder"],Ge={class:"col-sm-6"},Je={class:"mb-3"},Ke={for:"short_description",class:"form-label"},Ze=["placeholder"],Qe={class:"col-sm-6"},Xe={class:"mb-3"},Ye={for:"description",class:"form-label"},$e=["placeholder"],et={class:"col-sm-6"},tt={class:"mb-3"},st={for:"trip_dispatch_type",class:"form-label"},ot={disabled:"",value:""},at={value:"normal"},lt={value:"bidding"},it={value:"both"},nt={key:2,class:"col-sm-6"},rt={class:"mb-3"},ct={for:"select_vehicle_type",class:"form-label"},dt={class:"col-lg-12"},mt={class:"text-end"},pt={type:"submit",class:"btn btn-primary"},_t={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},ut={class:"alert-content"},ht={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},vt={class:"alert-content"};function yt(t,s,V,o,B,k){const c=m("Head"),I=m("PageHeader"),U=m("BCardHeader"),S=m("ImageUpload"),M=m("Bcard"),w=m("Multiselect"),b=m("FormValidation"),x=m("BCardBody"),L=m("BCard"),F=m("BCol"),z=m("BRow"),R=m("Layout");return i(),K(R,null,{default:f(()=>[p(c,{title:"Vehicle Type"}),p(I,{title:o.vehicleType?t.$t("edit"):t.$t("create"),pageTitle:t.$t("vehicle_type"),pageLink:"/vehicle_type"},null,8,["title","pageTitle"]),p(z,null,{default:f(()=>[p(F,{lg:"12"},{default:f(()=>[p(L,{"no-body":"",id:"tasksList"},{default:f(()=>[p(U,{class:"border-0"}),p(x,{class:"border border-dashed border-end-0 border-start-0"},{default:f(()=>[e("form",{onSubmit:s[11]||(s[11]=Z((...a)=>o.handleSubmit&&o.handleSubmit(...a),["prevent"])),enctype:"multipart/form-data"},[p(b,{form:o.form,rules:o.validationRules,ref:"validationRef"},{default:f(()=>[e("div",oe,[e("div",ae,[e("div",le,[e("label",ie,[_(l(t.$t("transport_type"))+" ",1),s[14]||(s[14]=e("span",{class:"text-danger"},"*",-1))]),y(e("select",{id:"transport_type",class:"form-select","onUpdate:modelValue":s[0]||(s[0]=a=>o.form.transport_type=a)},[e("option",ne,l(t.$t("choose_transport_type")),1),e("option",re,l(t.$t("taxi")),1),e("option",ce,l(t.$t("delivery")),1),e("option",de,l(t.$t("all")),1)],512),[[P,o.form.transport_type]]),(i(!0),n(v,null,h(o.errors.transport_type,(a,r)=>(i(),n("span",{key:r,class:"text-danger"},l(a),1))),128))])]),e("div",me,[e("div",pe,[e("label",_e,[_(l(t.$t("icon_type"))+" ",1),s[15]||(s[15]=e("span",{class:"text-danger"},"*",-1))]),y(e("select",{id:"select_icon_types_for",class:"form-select","onUpdate:modelValue":s[1]||(s[1]=a=>o.form.icon_types_for=a)},[e("option",ue,l(t.$t("choose_icon_type")),1),e("option",he,l(t.$t("car")),1),e("option",ve,l(t.$t("bike")),1),e("option",ye,l(t.$t("auto")),1),e("option",ge,l(t.$t("truck")),1),e("option",fe,l(t.$t("ehcv")),1),e("option",be,l(t.$t("hatchback")),1),e("option",Te,l(t.$t("hcv")),1),e("option",ke,l(t.$t("lcv")),1),e("option",Me,l(t.$t("mcv")),1),e("option",we,l(t.$t("luxury")),1),e("option",Ce,l(t.$t("premium")),1),e("option",Ve,l(t.$t("suv")),1)],512),[[P,o.form.icon_types_for]]),(i(!0),n(v,null,h(o.errors.icon_types_for,(a,r)=>(i(),n("span",{key:r,class:"text-danger"},l(a),1))),128))])]),e("div",Se,[e("div",xe,[e("div",Be,[e("div",Ie,[e("label",Ue,[_(l(t.$t("vehicle_image"))+" ",1),s[16]||(s[16]=e("span",null,[e("h5",{class:"text-muted mt-1 mb-0 fs-13"},"(512px x 512px)")],-1)),s[17]||(s[17]=e("span",{class:"text-danger"},"*",-1))]),p(S,{imageType:"types",initialImageUrl:o.form.icon,flexStyle:"0 0 calc(50% - 20px)",aspectRatio:"5 / 5",onImageSelected:s[2]||(s[2]=a=>o.handleImageSelected(a,"icon")),onImageRemoved:s[3]||(s[3]=()=>o.handleImageRemoved("icon")),onChange:t.onFileChange},null,8,["initialImageUrl","onChange"]),(i(!0),n(v,null,h(o.errors.icon,(a,r)=>(i(),n("span",{key:r,class:"text-danger"},l(a),1))),128))])]),e("div",Le,[p(M,null,{default:f(()=>[s[18]||(s[18]=e("img",{src:"/assets/images/icon-types/map-view.jpg",class:"img-fluid map-view-image",alt:"Map View Image"},null,-1)),k.imagePath?(i(),n("div",Fe,[e("img",{src:k.imagePath,alt:"Selected Icon",class:"img-fluid icon-image"},null,8,ze)])):T("",!0)]),_:1,__:[18]})])])]),e("div",Re,[e("div",qe,[e("label",He,[_(l(t.$t("name"))+" ",1),s[19]||(s[19]=e("span",{class:"text-danger"},"*",-1))]),y(e("input",{type:"text",class:"form-control",placeholder:"Enter Name",id:"name","onUpdate:modelValue":s[4]||(s[4]=a=>o.form.name=a),required:""},null,512),[[C,o.form.name]]),(i(!0),n(v,null,h(o.errors.name,(a,r)=>(i(),n("span",{key:r,class:"text-danger"},l(a),1))),128))])]),o.showMaxWeightField?(i(),n("div",Pe,[e("div",We,[e("label",{for:o.maxWeightLabel,class:"form-label"},[_(l(o.maxWeightLabel)+" ",1),s[20]||(s[20]=e("span",{class:"text-danger"},"*",-1))],8,Ne),y(e("input",{type:"number",class:"form-control",placeholder:"Enter "+o.maxWeightLabel+" in kg,lb..etc",id:"capacity","onUpdate:modelValue":s[5]||(s[5]=a=>o.form.capacity=a)},null,8,Ae),[[C,o.form.capacity]]),(i(!0),n(v,null,h(o.errors.capacity,(a,r)=>(i(),n("span",{key:r,class:"text-danger"},l(a),1))),128))])])):T("",!0),o.showSizeField?(i(),n("div",De,[e("div",je,[e("label",Ee,[_(l(t.$t("size"))+" ",1),s[21]||(s[21]=e("span",{class:"text-danger"},"*",-1))]),y(e("input",{type:"text",class:"form-control",placeholder:t.$t("enter_size")+" 7ft (L) x 4ft (W) x 4ft (H)",id:"size","onUpdate:modelValue":s[6]||(s[6]=a=>o.form.size=a)},null,8,Oe),[[C,o.form.size]]),(i(!0),n(v,null,h(o.errors.size,(a,r)=>(i(),n("span",{key:r,class:"text-danger"},l(a),1))),128))])])):T("",!0),e("div",Ge,[e("div",Je,[e("label",Ke,[_(l(t.$t("short_description"))+" ",1),s[22]||(s[22]=e("span",{class:"text-danger"},"*",-1))]),y(e("input",{type:"text",class:"form-control",placeholder:t.$t("enter_short_description"),id:"short_description","onUpdate:modelValue":s[7]||(s[7]=a=>o.form.short_description=a)},null,8,Ze),[[C,o.form.short_description]]),(i(!0),n(v,null,h(o.errors.short_description,(a,r)=>(i(),n("span",{key:r,class:"text-danger"},l(a),1))),128))])]),e("div",Qe,[e("div",Xe,[e("label",Ye,[_(l(t.$t("description"))+" ",1),s[23]||(s[23]=e("span",{class:"text-danger"},"*",-1))]),y(e("textarea",{class:"form-control",id:"description",rows:"3",placeholder:t.$t("enter_description"),"onUpdate:modelValue":s[8]||(s[8]=a=>o.form.description=a)},null,8,$e),[[C,o.form.description]]),(i(!0),n(v,null,h(o.errors.description,(a,r)=>(i(),n("span",{key:r,class:"text-danger"},l(a),1))),128))])]),e("div",et,[e("div",tt,[e("label",st,[_(l(t.$t("trip_dispatch_type"))+" ",1),s[24]||(s[24]=e("span",{class:"text-danger"},"*",-1))]),y(e("select",{id:"trip_dispatch_type",class:"form-select","onUpdate:modelValue":s[9]||(s[9]=a=>o.form.trip_dispatch_type=a)},[e("option",ot,l(t.$t("choose_trip_dispatch_type")),1),e("option",at,l(t.$t("normal")),1),e("option",lt,l(t.$t("bidding")),1),e("option",it,l(t.$t("all")),1)],512),[[P,o.form.trip_dispatch_type]]),(i(!0),n(v,null,h(o.errors.trip_dispatch_type,(a,r)=>(i(),n("span",{key:r,class:"text-danger"},l(a),1))),128))])]),V.enabled_sub_vehicle_modules==1?(i(),n("div",nt,[e("div",rt,[e("label",ct,l(t.$t("supported_other_vehilce_types")),1),p(w,{mode:"tags",id:"select_vehicle_type",modelValue:o.form.supported_vehicles,"onUpdate:modelValue":s[10]||(s[10]=a=>o.form.supported_vehicles=a),options:k.filteredVehicleTypes,multiple:"","close-on-select":!1,searchable:!0,"create-option":!1,placeholder:t.$t("select_vehicle_type")},null,8,["modelValue","options","placeholder"]),(i(!0),n(v,null,h(o.errors.supported_vehicles,(a,r)=>(i(),n("span",{key:r,class:"text-danger"},l(a),1))),128))])])):T("",!0),e("div",dt,[e("div",mt,[e("button",pt,l(o.vehicleType?t.$t("update"):t.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[o.successMessage?(i(),n("div",_t,[e("div",ut,[s[25]||(s[25]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[26]||(s[26]=e("strong",null,"Success",-1)),_(" - "+l(o.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:s[12]||(s[12]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):T("",!0),o.alertMessage?(i(),n("div",ht,[e("div",vt,[s[27]||(s[27]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[28]||(s[28]=e("strong",null,"Alert",-1)),_(" - "+l(o.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[13]||(s[13]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):T("",!0)])]),_:1})}const Vt=D(se,[["render",yt]]);export{Vt as default};
