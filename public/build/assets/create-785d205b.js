import{_ as q,Z as U,O as N,C as P,T as R,r as c,g as m,o as a,x as T,w as v,a as x,N as A,k as _,l as e,y as u,J as r,q as y,K as F,i as n,L as f,F as b,M,n as j,B as H}from"./vendor-ddfbd976.js";import{L as D}from"./main-306a5ea6.js";import{P as Z}from"./page-header-2dc95532.js";import{P as z}from"./Pagination-f095ae3c.js";import{i as E}from"./imageUpload-4f5efd67.js";import{L as I}from"./lottie-c31b5f00.js";import{F as J}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";/* empty css                                                    */const K={components:{Layout:D,PageHeader:Z,Head:U,Pagination:z,Multiselect:N,FormValidation:J,imageUpload:E,lottie:I},props:{successMessage:String,alertMessage:String,countries:Array,timeZones:Array,owners:Array,types:Object,fleet:Object,validate:Function,selectedOwner:Object},setup(s){const{t}=P(),p=R({owner_id:s.selectedOwner&&s.selectedOwner.id||"",custom_make:s.fleet&&s.fleet.car_make_name||"",custom_model:s.fleet&&s.fleet.car_model_name||"",vehicle_type:s.fleet&&s.fleet.vehicle_type||"",license_number:s.fleet&&s.fleet.license_number||"",car_color:s.fleet&&s.fleet.car_color||""}),l={owner_id:{required:!0},custom_make:{required:!0},custom_model:{required:!0},vehicle_type:{required:!0},license_number:{required:!0},car_color:{required:!0}},h=c(null),k=c({}),w=c(s.successMessage||""),g=c(s.alertMessage||""),B=()=>{w.value="",g.value=""},C=c(s.owners||[]),V=c(s.types||[]),S=c(s.fleet);return{form:p,successMessage:w,alertMessage:g,handleSubmit:async()=>{if(k.value=h.value.validate(),!(Object.keys(k.value).length>0))try{let i;s.fleet&&s.fleet.id?i=await x.post(`/manage-fleet/update/${s.fleet.id}`,p.data()):i=await x.post("/manage-fleet/store",p.data()),i.status===201?(w.value=t("fleet_created_successfully"),p.reset(),A.get("/manage-fleet")):g.value=t("failed_to_create_fleet")}catch(i){i.response&&i.response.status===422?k.value=i.response.data.errors:(console.error(t("error_creating_fleet"),i),g.value=t("failed_to_create_fleet_catch"))}},dismissMessage:B,selectedCountry:c(null),selectedTimezone:c(null),validationRules:l,validationRef:h,errors:k,types:V,owners:C,fleet:S}}},G={class:"row"},Q={class:"col-sm-6"},W={class:"mb-3"},X={for:"owner_id",class:"form-label"},Y={value:"",disabled:""},$=["value"],ee={class:"col-sm-6"},te={class:"mb-3"},se={for:"select_type",class:"form-label"},le=["value"],oe={class:"col-sm-6"},ae={class:"mb-3"},re={for:"car_brand",class:"form-label"},ne=["placeholder"],de={class:"col-sm-6"},ie={class:"mb-3"},ce={for:"car_model",class:"form-label"},me=["placeholder"],_e={class:"col-sm-6"},ue={class:"mb-3"},fe={for:"license_plate_number",class:"form-label"},be=["placeholder"],ge={class:"col-sm-6"},ve={class:"mb-3"},ye={for:"car_color",class:"form-label"},pe=["placeholder"],ke={class:"col-lg-12"},we={class:"text-end"},Me={type:"submit",class:"btn btn-primary"},he={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},Be={class:"alert-content"},Ce={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},Ve={class:"alert-content"};function Se(s,t,p,l,h,k){const w=m("Head"),g=m("PageHeader"),B=m("BCardHeader"),C=m("FormValidation"),V=m("BCardBody"),S=m("BCard"),L=m("BCol"),i=m("BRow"),O=m("Layout");return a(),T(O,null,{default:v(()=>[_(w,{title:"Manage Fleet"}),_(g,{title:l.fleet?s.$t("edit"):s.$t("create"),pageTitle:s.$t("manage_fleet"),pageLink:"/manage-fleet"},null,8,["title","pageTitle"]),_(i,null,{default:v(()=>[_(L,{lg:"12"},{default:v(()=>[_(S,{"no-body":"",id:"tasksList"},{default:v(()=>[_(B,{class:"border-0"}),_(V,{class:"border border-dashed border-end-0 border-start-0 form-steps"},{default:v(()=>[e("form",{onSubmit:t[6]||(t[6]=j((...o)=>l.handleSubmit&&l.handleSubmit(...o),["prevent"])),class:"form-steps"},[_(C,{form:l.form,rules:l.validationRules,ref:"validationRef"},{default:v(()=>[e("div",G,[e("div",Q,[e("div",W,[e("label",X,[u(r(s.$t("owner"))+" ",1),t[9]||(t[9]=e("span",{class:"text-danger"},"*",-1))]),y(e("select",{id:"owner_id",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=o=>l.form.owner_id=o)},[e("option",Y,r(s.$t("select_an_owner")),1),(a(!0),n(b,null,f(l.owners,o=>(a(),n("option",{key:o.user_id,value:o.user_id},r(o.company_name),9,$))),128))],512),[[F,l.form.owner_id]]),(a(!0),n(b,null,f(l.errors.owner_id,(o,d)=>(a(),n("span",{key:d,class:"text-danger"},r(o),1))),128))])]),e("div",ee,[e("div",te,[e("label",se,[u(r(s.$t("select_type"))+" ",1),t[10]||(t[10]=e("span",{class:"text-danger"},"*",-1))]),y(e("select",{id:"select_type",class:"form-select","onUpdate:modelValue":t[1]||(t[1]=o=>l.form.vehicle_type=o)},[(a(!0),n(b,null,f(l.types,(o,d)=>(a(),n("option",{key:d,value:o.id},r(o.name),9,le))),128))],512),[[F,l.form.vehicle_type]]),(a(!0),n(b,null,f(l.errors.vehicle_type,(o,d)=>(a(),n("span",{key:d,class:"text-danger"},r(o),1))),128))])]),e("div",oe,[e("div",ae,[e("label",re,[u(r(s.$t("car_brand"))+" ",1),t[11]||(t[11]=e("span",{class:"text-danger"},"*",-1))]),y(e("input",{id:"car_brand",class:"form-control",placeholder:s.$t("enter_car_make"),"onUpdate:modelValue":t[2]||(t[2]=o=>l.form.custom_make=o)},null,8,ne),[[M,l.form.custom_make]]),(a(!0),n(b,null,f(l.errors.custom_make,(o,d)=>(a(),n("span",{key:d,class:"text-danger"},r(o),1))),128))])]),e("div",de,[e("div",ie,[e("label",ce,[u(r(s.$t("car_model"))+" ",1),t[12]||(t[12]=e("span",{class:"text-danger"},"*",-1))]),y(e("input",{id:"car_model",class:"form-control",placeholder:s.$t("enter_car_model"),"onUpdate:modelValue":t[3]||(t[3]=o=>l.form.custom_model=o)},null,8,me),[[M,l.form.custom_model]]),(a(!0),n(b,null,f(l.errors.custom_model,(o,d)=>(a(),n("span",{key:d,class:"text-danger"},r(o),1))),128))])]),e("div",_e,[e("div",ue,[e("label",fe,[u(r(s.$t("license_plate_number"))+" ",1),t[13]||(t[13]=e("span",{class:"text-danger"},"*",-1))]),y(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_license_plate_number"),id:"license_plate_number","onUpdate:modelValue":t[4]||(t[4]=o=>l.form.license_number=o)},null,8,be),[[M,l.form.license_number]]),(a(!0),n(b,null,f(l.errors.license_number,(o,d)=>(a(),n("span",{key:d,class:"text-danger"},r(o),1))),128))])]),e("div",ge,[e("div",ve,[e("label",ye,[u(r(s.$t("car_color"))+" ",1),t[14]||(t[14]=e("span",{class:"text-danger"},"*",-1))]),y(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_car_color"),id:"car_color","onUpdate:modelValue":t[5]||(t[5]=o=>l.form.car_color=o)},null,8,pe),[[M,l.form.car_color]]),(a(!0),n(b,null,f(l.errors.car_color,(o,d)=>(a(),n("span",{key:d,class:"text-danger"},r(o),1))),128))])]),e("div",ke,[e("div",we,[e("button",Me,r(l.fleet?s.$t("update"):s.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[l.successMessage?(a(),n("div",he,[e("div",Be,[t[15]||(t[15]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[16]||(t[16]=e("strong",null,"Success",-1)),u(" - "+r(l.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[7]||(t[7]=(...o)=>l.dismissMessage&&l.dismissMessage(...o)),"aria-label":"Close Success Message"})])])):H("",!0),l.alertMessage?(a(),n("div",Ce,[e("div",Ve,[t[17]||(t[17]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[18]||(t[18]=e("strong",null,"Alert",-1)),u(" - "+r(l.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[8]||(t[8]=(...o)=>l.dismissMessage&&l.dismissMessage(...o)),"aria-label":"Close Alert Message"})])])):H("",!0)])]),_:1})}const Te=q(K,[["render",Se]]);export{Te as default};
