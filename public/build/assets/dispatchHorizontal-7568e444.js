import{a6 as C,z as g,R as A,r as F,D as x,g as _,o as u,i as k,l as e,k as d,w as n,u as p,x as v,J as c,p as w,B as f,F as D,L as M,n as q,y as I,U as T,N as z,_ as N,a9 as P}from"./vendor-ddfbd976.js";import{a as R,u as V,F as j}from"./footer-e648049d.js";import{a as b,s as O,l as U}from"./app-042fb454.js";const H={id:"page-topbar"},W={class:"layout-width"},G={class:"d-flex align-items-center navbar-header"},J={class:"navbar-brand-box horizontal-logo"},K={class:"logo-sm"},Y=["src"],Q={class:"logo-lg"},X=["src"],Z={class:"logo-sm"},ee=["src"],te={class:"logo-lg"},se=["src"],oe={class:"d-flex align-items-center ms-auto me-2"},ae={class:"navbar navbar-expand"},ne={class:"top-navbar"},le={class:"navbar-nav nav"},ie={class:"navbar-nav"},re={class:"nav-item dropdown"},de={class:"ms-2"},ce={class:"nav-item dropdown"},ue={class:"ms-2"},me={class:"nav-item dropdown"},ge={class:"ms-2"},pe={class:"nav-item dropdown"},he={class:"ms-2"},be={class:"d-flex align-items-center"},fe=["src"],_e={class:"align-middle"},ve={key:0,class:"bx bx-check text-success float-end fs-22"},we={class:"ms-1 header-item d-none d-sm-flex"},ke={class:"ms-1 header-item d-none d-sm-flex"},ye={class:"d-flex align-items-center"},Ee=["src","alt"],Le={class:"text-start ms-xl-2"},Se={class:"d-none d-xl-inline-block ms-1 fw-medium user-name-text"},$e={class:"dropdown-header"},Be={class:"align-middle"},Ce={data(){return{lan:b.global.locale,text:null,flag:null,value:null,myVar:1,profilePhotoUrl:this.$page.props.auth.user.profile_picture,logo:window.logo,favicon:window.favicon}},components:{simplebar:C,Link:g},methods:{...R,toggleHamburgerMenu(){const s=document.documentElement.clientWidth,a=document.documentElement.getAttribute("data-layout");document.documentElement.setAttribute("data-sidebar-visibility","show");const l=document.documentElement.getAttribute("data-sidebar-visibility");s>767&&document.querySelector(".hamburger-icon").classList.toggle("open"),a==="horizontal"&&document.body.classList.toggle("menu"),l==="show"&&(a==="vertical"||a==="semibox")&&(s<1025&&s>767?(document.body.classList.remove("vertical-sidebar-enable"),document.documentElement.setAttribute("data-sidebar-size",document.documentElement.getAttribute("data-sidebar-size")==="sm"?"":"sm")):s>1025?(document.body.classList.remove("vertical-sidebar-enable"),document.documentElement.setAttribute("data-sidebar-size",document.documentElement.getAttribute("data-sidebar-size")==="lg"?"sm":"lg")):s<=767&&(document.body.classList.add("vertical-sidebar-enable"),document.documentElement.setAttribute("data-sidebar-size","lg"))),a==="twocolumn"&&document.body.classList.toggle("twocolumn-panel")},toggleMenu(){this.$parent.toggleMenu()},toggleRightSidebar(){this.$parent.toggleRightSidebar()},initFullScreen(){document.body.classList.toggle("fullscreen-enable"),!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()},toggleDarkMode(){const s=document.documentElement.getAttribute("data-bs-theme")==="dark"?"light":"dark",a=document.documentElement.getAttribute("data-sidebar")==="dark"?"light":"dark";document.documentElement.setAttribute("data-bs-theme",s),document.documentElement.setAttribute("data-sidebar",a),localStorage.setItem("toggleDarkMode",s==="dark"),this.changeMode({mode:s}),this.changeSidebarColor({sidebarColor:a})},savedToggleTheme(){const s=localStorage.getItem("toggleDarkMode")==="true",a=s?"dark":"light",l=s?"dark":"light";document.documentElement.setAttribute("data-bs-theme",a),document.documentElement.setAttribute("data-sidebar",l),this.changeMode({mode:a}),this.changeSidebarColor({sidebarColor:l})},removeItem(s){this.cartItems=this.cartItems.filter(a=>a.id!==s.id),this.$emit("cart-item-price",this.cartItems.length)}},computed:{...A(["permissions"]),calculateTotalPrice(){return this.cartItems.reduce((s,a)=>s+parseFloat(a.itemPrice),0).toFixed(2)}},mounted(){this.savedToggleTheme(),this.flag=this.$i18n.locale,document.addEventListener("scroll",function(){const s=document.getElementById("page-topbar");s&&(document.body.scrollTop>=50||document.documentElement.scrollTop>=50?s.classList.add("topbar-shadow"):s.classList.remove("topbar-shadow"))}),document.getElementById("topnav-hamburger-icon")&&document.getElementById("topnav-hamburger-icon").addEventListener("click",this.toggleHamburgerMenu)}},Ae=Object.assign(Ce,{__name:"dispatch-nav-bar",setup(s){const a=F(b.global.locale),{languages:l,fetchData:r,fetchLocations:S,fetchFirebaseSettings:$}=V();x(async()=>{O.dispatch("fetchPermissions"),await r(),await S(),await $();const t=localStorage.getItem("locale")||defaultLocale;a.value=t;const o=l.value.find(m=>m.code===t);if(o){const m=o.direction,i=document.body;m==="rtl"?(localStorage.setItem("toggleDirection",!0),i.classList.add("rtl"),i.classList.remove("ltr")):(localStorage.setItem("toggleDirection",!1),i.classList.add("ltr"),i.classList.remove("rtl"))}});const y=async t=>{await U(t),b.global.locale=t,a.value=t,localStorage.setItem("locale",t);const o=l.value.find(m=>m.code===t);if(o){const m=o.direction,i=document.body;m==="rtl"?(window.location.reload(),localStorage.setItem("toggleDirection",!0),i.classList.add("rtl"),i.classList.remove("ltr")):(window.location.reload(),localStorage.setItem("toggleDirection",!1),i.classList.add("ltr"),i.classList.remove("rtl"))}},E=()=>{T.fire({title:b.global.t("are_you_sure"),text:b.global.t("you_want_to_be_logout"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:b.global.t("yes"),cancelButtonText:b.global.t("cancel")}).then(t=>{t.isConfirmed&&z.post(route("logout"))})};return(t,o)=>{const m=_("BLink"),i=_("BDropdown"),L=_("BButton");return u(),k("header",H,[e("div",W,[e("div",G,[e("div",J,[d(p(g),{href:"/dashboard",class:"logo logo-dark"},{default:n(()=>[e("span",K,[e("img",{src:t.favicon,alt:"",height:"50"},null,8,Y)]),e("span",Q,[e("img",{src:t.logo,alt:"",height:"25"},null,8,X)])]),_:1}),d(p(g),{href:"/dashboard",class:"logo logo-light"},{default:n(()=>[e("span",Z,[e("img",{src:t.favicon,alt:"",height:"50"},null,8,ee)]),e("span",te,[e("img",{src:t.logo,alt:"logo",height:"30"},null,8,se)])]),_:1})]),e("div",oe,[e("nav",ae,[e("div",ne,[e("div",le,[e("ul",ie,[e("li",re,[t.permissions.includes("dispatcher-ride")?(u(),v(p(g),{key:0,class:w(["nav-link nav-menu",{active:t.$page.url=="/dispatcher/bookride"}]),href:"/dispatcher/bookride",role:"button"},{default:n(()=>[o[0]||(o[0]=e("i",{class:"ri-settings-5-fill"},null,-1)),e("span",de,c(t.$t("dispatch-ride")),1)]),_:1,__:[0]},8,["class"])):f("",!0)]),e("li",ce,[t.permissions.includes("dispatcher-drivers")?(u(),v(p(g),{key:0,class:w(["nav-link nav-menu",{active:t.$page.url=="/dispatcher/godeye"}]),href:"/dispatcher/godeye",role:"button"},{default:n(()=>[o[1]||(o[1]=e("i",{class:"ri-user-3-line"},null,-1)),e("span",ue,c(t.$t("drivers")),1)]),_:1,__:[1]},8,["class"])):f("",!0)]),e("li",me,[t.permissions.includes("dispatcher-ride-request")?(u(),v(p(g),{key:0,class:w(["nav-link nav-menu",{active:t.$page.url=="/dispatcher/rides_request"}]),href:"/dispatcher/rides_request",role:"button"},{default:n(()=>[o[2]||(o[2]=e("i",{class:"ri-taxi-fill"},null,-1)),e("span",ge,c(t.$t("trip-requests")),1)]),_:1,__:[2]},8,["class"])):f("",!0)]),e("li",pe,[t.permissions.includes("dispatcher-ongoing-request")?(u(),v(p(g),{key:0,class:w(["nav-link nav-menu",{active:t.$page.url=="/dispatcher/ongoing_request"}]),href:"/dispatcher/ongoing_request",role:"button"},{default:n(()=>[o[3]||(o[3]=e("i",{class:"mdi mdi-car-hatchback"},null,-1)),e("span",he,c(t.$t("ongoing-rides")),1)]),_:1,__:[3]},8,["class"])):f("",!0)])])])])])]),e("div",be,[d(i,{class:"dropdown",variant:"ghost-secondary",dropstart:"",offset:{alignmentAxis:55,crossAxis:15,mainAxis:-50},"toggle-class":"btn btn-icon btn-topbar btn-ghost-secondary rounded-circle arrow-none","menu-class":"dropdown-menu-end"},{"button-content":n(()=>o[4]||(o[4]=[e("div",{class:"bg-success-subtle",style:{height:"38px",width:"38px","border-radius":"45px"}},[e("i",{class:"ri-translate fs-22 text-success"})],-1)])),default:n(()=>[(u(!0),k(D,null,M(p(l),(h,B)=>(u(),v(m,{href:"javascript:void(0);",class:w(["dropdown-item notify-item language py-2",{"bg-success-subtle":a.value===h.code}]),"data-lang":h.language,title:h.label,onClick:Ie=>y(h.code),key:B},{default:n(()=>[e("img",{src:h.flag,alt:"",class:"me-2 rounded",height:"18"},null,8,fe),e("span",_e,c(h.label),1),a.value===h.code?(u(),k("i",ve)):f("",!0)]),_:2},1032,["data-lang","title","onClick","class"]))),128))]),_:1}),e("div",we,[d(L,{type:"button",variant:"ghost-secondary",class:"btn-icon btn-topbar rounded-circle","data-toggle":"fullscreen",onClick:t.initFullScreen},{default:n(()=>o[5]||(o[5]=[e("i",{class:"bx bx-fullscreen fs-22"},null,-1)])),_:1,__:[5]},8,["onClick"])]),e("div",ke,[d(L,{type:"button",variant:"ghost-secondary",class:"btn-icon btn-topbar rounded-circle light-dark-mode",onClick:t.toggleDarkMode},{default:n(()=>o[6]||(o[6]=[e("i",{class:"bx bx-moon fs-22"},null,-1)])),_:1,__:[6]},8,["onClick"])]),d(i,{variant:"link",class:"ms-sm-3 header-item topbar-user","toggle-class":"rounded-circle arrow-none","menu-class":"dropdown-menu-end",offset:{alignmentAxis:-14,crossAxis:0,mainAxis:0}},{"button-content":n(()=>[e("span",ye,[t.$page.props.jetstream.managesProfilePhotos?(u(),k("img",{key:0,class:"rounded-circle header-profile-user",src:t.profilePhotoUrl||"/default-profile.jpeg",alt:t.$page.props.auth.user.name},null,8,Ee)):f("",!0),e("span",Le,[e("span",Se,c(t.$page.props.auth.user.name),1)])])]),default:n(()=>[e("h6",$e,c(t.$t("welcome"))+" "+c(t.$page.props.auth.user.name)+"!",1),d(p(g),{class:"dropdown-item",href:"/profile-edit"},{default:n(()=>[o[7]||(o[7]=e("i",{class:"mdi mdi-account-circle text-muted fs-16 align-middle me-1"},null,-1)),e("span",Be,c(t.$t("profile")),1)]),_:1,__:[7]}),e("form",{method:"POST",onSubmit:q(E,["prevent"]),class:"dropdown-item"},[d(L,{variant:"none",type:"submit",class:"btn p-0"},{default:n(()=>[o[8]||(o[8]=e("i",{class:"mdi mdi-logout text-muted fs-16 align-middle me-1"},null,-1)),I(" "+c(t.$t("logout")),1)]),_:1,__:[8]})],32)]),_:1})])])])])}}}),Fe={mounted(){this.initActiveMenu()},methods:{initActiveMenu(s){setTimeout(()=>{var a=window.location.pathname;if(document.querySelector("#navbar-nav")){let l=document.querySelector("#navbar-nav").querySelector('[href="'+a+'"]');if(l){l.classList.add("active");let r=l.closest(".collapse.menu-dropdown");r&&(r.classList.add("show"),r.parentElement.children[0].classList.add("active"),r.parentElement.children[0].setAttribute("aria-expanded","true"),r.parentElement.closest(".collapse.menu-dropdown")&&(r.parentElement.closest(".collapse").classList.add("show"),r.parentElement.closest(".collapse").previousElementSibling&&r.parentElement.closest(".collapse").previousElementSibling.classList.add("active")))}}},1e3)}},components:{NavBar:Ae,Footer:j,Link:g}},xe={id:"layout-wrapper"},De={class:"main-content"},Me={class:"page-content"};function qe(s,a,l,r,S,$){const y=_("NavBar"),E=_("BContainer"),t=_("Footer");return u(),k("div",null,[e("div",xe,[d(y),e("div",De,[e("div",Me,[d(E,{fluid:""},{default:n(()=>[P(s.$slots,"default")]),_:3})]),d(t)])])])}const Pe=N(Fe,[["render",qe]]);export{Pe as D};
