import{_ as W,Z as $,O as j,P as q,z as Y,r as _,C as J,T as Q,Q as Z,a2 as X,a as U,R as ee,g as m,o as d,x as D,w as i,U as B,N as te,k as l,l as e,y as p,J as n,B as M,q as N,K as E,i as b,L as z,F as G,n as se}from"./vendor-ddfbd976.js";import{L as ae}from"./main-306a5ea6.js";import{P as oe}from"./page-header-2dc95532.js";import{P as le}from"./Pagination-f095ae3c.js";import{s as ne}from"./search-2c17aadd.js";import{s as ie}from"./searchbar-3acbc236.js";import{l as re}from"./footer-e648049d.js";import{_ as de}from"./search-file-ab3e1046.js";import"./app-042fb454.js";const ce={data(){return{rightOffcanvas:!1}},components:{Layout:ae,PageHeader:oe,Head:$,Pagination:le,Multiselect:j,flatPickr:q,Link:Y,search:ne,searchbar:ie},props:{successMessage:String,alertMessage:String,app_for:String,activeMessage:String,onboarding_screen:{type:Object,required:!0}},setup(s){const t=_(""),{t:r}=J(),o=Q({all:"",locked:"",limit:10}),v=_([]),C=_({}),w=_(!1),k=_(!1),P=_(null),x=_({}),f=_(s.successMessage||""),y=_(s.alertMessage||""),S=_(s.activeMessage||""),A=()=>{f.value="",y.value=""},F=()=>{k.value=!0},L=()=>{o.reset(),h(),k.value=!1},O=()=>{w.value=!1},V=async c=>{try{await U.delete(`/onboarding-screen/delete/${c}`);const u=v.value.findIndex(g=>g.id===c);u!==-1&&v.value.splice(u,1),w.value=!1,B.fire(r("success"),r("onboarding_screen_deleted_successfully"),"success")}catch{B.fire(r("error"),r("failed_to_delete_onboarding_screen"),"error")}},H=async c=>{B.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async u=>{if(u.isConfirmed)try{await V(c)}catch(g){console.error(r("error_deleting_data"),g),B.fire(r("error"),r("failed_to_delete_the_data"),"error")}})};Z(t,X.debounce(function(c){h(t.value)},300));const h=async(c=1)=>{try{const u=o.data();u.search=t.value,u.page=c;const g=await U.get("/onboarding-screen/list",{params:u});v.value=g.data.results,C.value=g.data.paginator,R(C.value.total),k.value=!1}catch(u){console.error(r("error_fetching_onboarding_screen"),u)}},T=async c=>{localStorage.setItem("/onboarding-screen/list",c),h(c)},a=async c=>{te.get(`/onboarding-screen/edit/${c.id}`)},I=async(c,u)=>{if(s.app_for=="demo"){B.fire(r("error"),r("you_are_not_authorised"),"error");return}try{await U.post("/onboarding-screen/update-status",{id:c,status:u});const g=v.value.findIndex(K=>K.id===c);g!==-1&&(v.value[g].active===1?(f.value=r("onboarding_inactive_successfully"),v.value[g].active=u):(f.value=r("onboarding_active_successfully"),v.value[g].active=u),setTimeout(()=>{f.value=""},5e3))}catch(g){console.error(r("error_updating_status"),g)}},R=()=>{x.value=[10,25,50,100,200,500]};return{results:v,modalShow:w,deleteItemId:P,successMessage:f,alertMessage:y,filterData:F,deleteModal:H,closeModal:O,deleteData:V,dismissMessage:A,searchTerm:t,paginator:C,modalFilter:k,clearFilter:L,fetchDatas:h,filter:o,handlePageChanged:T,editData:a,toggleActiveStatus:I,activeMessage:S,paginatorOption:x,changeEntriesPerPage:()=>{h()}}},computed:{...re,...ee(["permissions"])},methods:{stripHtmlTags(s){return new DOMParser().parseFromString(s,"text/html").body.textContent||""}},mounted(){this.fetchDatas();const s=localStorage.getItem("/onboarding-screen/list");s?this.handlePageChanged(Number(s)):this.handlePageChanged(1)}},ue={class:"alert bg-warning border-warning fs-18",role:"alert"},me={class:"d-flex align-items-center mt-3"},fe={class:"me-2 text-muted"},ge=["value"],pe={class:"ms-2 text-muted"},be={class:"table-responsive"},ve={class:"table align-middle position-relative table-nowrap"},_e={class:"table-active"},he={scope:"col"},ke={scope:"col"},ye={scope:"col"},Ce={scope:"col"},we={scope:"col"},xe={scope:"col"},Be={key:0},Me={class:"dropdown"},Pe={class:"dropdown-menu dropdown-menu-end"},Se=["onClick"],Oe={key:1},Ve=["onClick"],Re=["onClick"],De={key:1},Ae={colspan:"7",class:"text-center"},Fe={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Le={class:"alert-content"},He={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Te={class:"alert-content"},Ie={class:"offcanvas-body"},Ue={class:"mb-4"},Ne={class:"mb-4"},Ee={class:"mb-4"},ze={class:"mb-4"},Ge={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function Ke(s,t,r,o,v,C){const w=m("Head"),k=m("PageHeader"),P=m("BCardHeader"),x=m("BCard"),f=m("BCol"),y=m("BRow"),S=m("BBadge"),A=m("BCardBody"),F=m("flat-pickr"),L=m("Multiselect"),O=m("BButton"),V=m("BFrom"),H=m("BOffcanvas"),h=m("Pagination"),T=m("Layout");return d(),D(T,null,{default:i(()=>[l(w,{title:"Onboarding Screen"}),l(k,{title:s.$t("onboarding_screen"),pageTitle:s.$t("onboarding_screen")},null,8,["title","pageTitle"]),l(y,null,{default:i(()=>[r.app_for==="demo"?(d(),D(x,{key:0,"no-body":"",id:"tasksList"},{default:i(()=>[l(P,{class:"border-0"},{default:i(()=>[e("div",ue,[e("strong",null,[p(n(s.$t("note"))+" : ",1),e("em",null,n(s.$t("actions_restricted_due_to_demo_mode")),1)])])]),_:1})]),_:1})):M("",!0),l(f,{lg:"12"},{default:i(()=>[l(x,{"no-body":"",id:"tasksList"},{default:i(()=>[l(P,{class:"border-0"},{default:i(()=>[l(y,{class:"g-2"},{default:i(()=>[l(f,{md:"3"},{default:i(()=>[e("div",me,[e("label",fe,n(s.$t("show")),1),N(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>o.filter.limit=a),onChange:t[1]||(t[1]=(...a)=>o.changeEntriesPerPage&&o.changeEntriesPerPage(...a)),class:"form-select form-select-sm w-auto"},[(d(!0),b(G,null,z(o.paginatorOption,a=>(d(),b("option",{key:a,value:a},n(a),9,ge))),128))],544),[[E,o.filter.limit]]),e("label",pe,n(s.$t("entries")),1)])]),_:1}),l(f,{md:"3"})]),_:1})]),_:1}),l(A,{class:"border border-dashed border-end-0 border-start-0"},{default:i(()=>[e("div",be,[e("table",ve,[e("thead",_e,[e("tr",null,[e("th",he,n(s.$t("screen")),1),e("th",ke,n(s.$t("screen_order")),1),e("th",ye,n(s.$t("onboarding_title")),1),e("th",Ce,n(s.$t("description")),1),e("th",we,n(s.$t("status")),1),e("th",xe,n(s.$t("action")),1)])]),o.results.length>0?(d(),b("tbody",Be,[(d(!0),b(G,null,z(o.results,(a,I)=>(d(),b("tr",{key:I},[e("td",null,n(a.screen),1),e("td",null,n(a.order),1),e("td",null,n(a.title),1),e("td",null,n(C.stripHtmlTags(a.description)),1),e("td",null,[a.active==1?(d(),D(S,{key:0,variant:"success",class:"text-uppercase"},{default:i(()=>[p(n(s.$t("active")),1)]),_:1})):(d(),D(S,{key:1,variant:"danger",class:"text-uppercase"},{default:i(()=>[p(n(s.$t("inactive")),1)]),_:1}))]),e("td",null,[e("div",Me,[t[11]||(t[11]=e("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("span",{class:"text-muted fs-18"},[e("i",{class:"mdi mdi-dots-vertical"})])],-1)),e("div",Pe,[s.permissions.includes("edit_onboarding")?(d(),b("a",{key:0,class:"dropdown-item",href:"#",onClick:se(R=>o.editData(a),["prevent"])},[t[8]||(t[8]=e("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),p(n(s.$t("edit")),1)],8,Se)):M("",!0),s.permissions.includes("toggle_onboarding")?(d(),b("div",Oe,[a.active===1?(d(),b("a",{key:0,class:"dropdown-item",href:"#",onClick:R=>o.toggleActiveStatus(a.id,0)},[t[9]||(t[9]=e("i",{class:"bx bxs-low-vision align-center text-muted me-2"},null,-1)),p(" "+n(s.$t("inactive")),1)],8,Ve)):(d(),b("a",{key:1,class:"dropdown-item",href:"#",onClick:R=>o.toggleActiveStatus(a.id,1)},[t[10]||(t[10]=e("i",{class:"bx bx-show-alt align-center text-muted me-2"},null,-1)),p(" "+n(s.$t("active")),1)],8,Re))])):M("",!0)])])])]))),128))])):(d(),b("tbody",De,[e("tr",null,[e("td",Ae,[t[12]||(t[12]=e("img",{src:de,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,n(s.$t("no_data_found")),1)])])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[o.successMessage?(d(),b("div",Fe,[e("div",Le,[t[13]||(t[13]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[14]||(t[14]=p()),t[15]||(t[15]=e("strong",null,"Success",-1)),p(" - "+n(o.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[2]||(t[2]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):M("",!0),o.alertMessage?(d(),b("div",He,[e("div",Te,[t[16]||(t[16]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[17]||(t[17]=p()),t[18]||(t[18]=e("strong",null,"Alert",-1)),p(" - "+n(o.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[3]||(t[3]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):M("",!0)]),l(H,{modelValue:v.rightOffcanvas,"onUpdate:modelValue":t[7]||(t[7]=a=>v.rightOffcanvas=a),placement:"end",title:"Leads Filters","header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:i(()=>[l(V,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:i(()=>[e("div",Ie,[e("div",Ue,[t[20]||(t[20]=e("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Process",-1)),N(e("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":t[4]||(t[4]=a=>s.status=a)},t[19]||(t[19]=[e("option",{value:"All Tasks"},"All",-1),e("option",{value:"Completed"},"Completed",-1),e("option",{value:"Inprogress"},"Inprogress",-1),e("option",{value:"Pending"},"Pending",-1),e("option",{value:"Pending"},"Cancelled",-1)]),512),[[E,s.status]])]),t[28]||(t[28]=e("div",{class:"mb-4"},[e("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Payment"),e("div",null,[e("div",{class:"form-check form-check-inline"},[e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio1",value:"option1"}),e("label",{class:"form-check-label",for:"inlineRadio1"},"Online")]),e("div",{class:"form-check form-check-inline"},[e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio2",value:"option2"}),e("label",{class:"form-check-label",for:"inlineRadio1"},"Card")]),e("div",{class:"form-check form-check-inline"},[e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio3",value:"option3"}),e("label",{class:"form-check-label",for:"inlineRadio1"},"Cash")])])],-1)),e("div",Ne,[t[21]||(t[21]=e("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Date",-1)),l(F,{placeholder:"Select date",modelValue:s.date,"onUpdate:modelValue":t[5]||(t[5]=a=>s.date=a),config:s.rangeDateconfig,class:"form-control flatpickr-input",id:"demo-datepicker"},null,8,["modelValue","config"])]),e("div",Ee,[t[22]||(t[22]=e("label",{for:"country-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Country",-1)),l(L,{class:"form-control",modelValue:s.value,"onUpdate:modelValue":t[6]||(t[6]=a=>s.value=a),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Select country"},{value:"Argentina",label:"Argentina"},{value:"Belgium",label:"Belgium"},{value:"Brazil",label:"Brazil"},{value:"Colombia",label:"Colombia"},{value:"Denmark",label:"Denmark"},{value:"France",label:"France"},{value:"Germany",label:"Germany"},{value:"Mexico",label:"Mexico"},{value:"Russia",label:"Russia"},{value:"Spain",label:"Spain"},{value:"Syria",label:"Syria"},{value:"United Kingdom",label:"United Kingdom"}]},null,8,["modelValue"])]),e("div",ze,[t[27]||(t[27]=e("label",{for:"status-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Status",-1)),l(y,{class:"g-2"},{default:i(()=>[l(f,{lg:"6"},{default:i(()=>t[23]||(t[23]=[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox1",value:"option1"}),e("label",{class:"form-check-label",for:"inlineCheckbox1"},"Active")],-1)])),_:1,__:[23]}),l(f,{lg:"6"},{default:i(()=>t[24]||(t[24]=[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox2",value:"option2"}),e("label",{class:"form-check-label",for:"inlineCheckbox2"},"Inactive")],-1)])),_:1,__:[24]}),l(f,{lg:"6"},{default:i(()=>t[25]||(t[25]=[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox3",value:"option3"}),e("label",{class:"form-check-label",for:"inlineCheckbox3"},"Cash")],-1)])),_:1,__:[25]}),l(f,{lg:"6"},{default:i(()=>t[26]||(t[26]=[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox4",value:"option4"}),e("label",{class:"form-check-label",for:"inlineCheckbox4"},"Card")],-1)])),_:1,__:[26]})]),_:1})]),t[29]||(t[29]=e("div",null,null,-1))]),e("div",Ge,[l(O,{variant:"light",class:"w-100"},{default:i(()=>t[30]||(t[30]=[p("Clear Filter")])),_:1,__:[30]}),l(O,{type:"submit",variant:"success",class:"w-100"},{default:i(()=>t[31]||(t[31]=[p(" Apply ")])),_:1,__:[31]})])]),_:1})]),_:1},8,["modelValue"]),l(h,{paginator:o.paginator,onPageChanged:o.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const tt=W(ce,[["render",Ke]]);export{tt as default};
