import{_ as L,Z as N,O as R,C as q,r as w,T,g as n,o as _,x as D,w as i,a as C,N as P,k as d,i as g,l as o,y as p,J as c,B as b,q as k,M as S,n as U}from"./vendor-ddfbd976.js";import{L as A}from"./main-306a5ea6.js";import{P as I}from"./page-header-2dc95532.js";import{i as O}from"./vehicletypeIcon-aaf23b0d.js";import{I as j}from"./ImageUpload-6f09ff26.js";import{F as x}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";const E={components:{Layout:A,PageHeader:I,Head:N,Multiselect:R,imageUpload:O,ImageUpload:j,FormValidation:x},props:{owner:Object,successMessage:String,alertMessage:String,app_for:String},setup(e){const{t:s}=q(),u=w({}),r=w(null),m=T({password:e.owner&&e.owner.password||"",confirm_password:e.owner&&e.owner.password||""}),v=w(e.successMessage||""),y=w(e.alertMessage||""),f={password:{required:!0},confirm_password:{required:!0,sameAs:"password"}},M=()=>{const t={};for(const a in f)f[a].required&&!m[a]&&(t[a]=s("this_field_is_required"));return t};return{form:m,successMessage:v,alertMessage:y,errors:u,handleSubmit:async()=>{if(u.value=M(),Object.keys(u.value).length===0)try{const t=new FormData;t.append("password",m.password),t.append("confirm_password",m.confirm_password);let a;e.owner?a=await C.post(`/manage-owners/password/update/${e.owner.id}`,t):a=await C.post("store",t),a.status===200||a.status===201?(v.value=a.data.successMessage,m.reset(),P.get("/manage-owners")):console.error(s("unexpected_response_status"),a.status)}catch(t){console.error(s("error_handling_form_submission"),t),t.response&&t.response.status===422?u.value=t.response.data.errors:console.error(s("an_unexpected_error_occurred"),t)}},validationRef:r,validationRules:f}}},J={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Z={class:"alert-content"},z={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},G={class:"alert-content"},K={class:"row"},Q={class:"col-sm-6"},W={class:"mb-3"},X={for:"password",class:"form-label"},Y=["placeholder"],$={key:0,class:"text-danger"},ss={class:"col-sm-6"},es={class:"mb-3"},os={for:"confirm_password",class:"form-label"},rs=["placeholder"],ts={key:0,class:"text-danger"},as={class:"col-sm-12 text-end"},ns={type:"submit",class:"btn btn-primary"};function ls(e,s,u,r,m,v){const y=n("Head"),f=n("PageHeader"),M=n("tab"),B=n("BCardHeader"),t=n("FormValidation"),a=n("BCardBody"),h=n("BCard"),V=n("BCol"),H=n("BRow"),F=n("Layout");return _(),D(F,null,{default:i(()=>[d(y,{title:"manage-owners"}),d(f,{title:e.manage-e.owners?e.$t("edit"):e.$t("create"),pageTitle:e.$t("owner"),pageLink:"/manage-owners"},null,8,["title","pageTitle"]),d(H,null,{default:i(()=>[d(V,{lg:"12"},{default:i(()=>[d(h,{"no-body":"",id:"tasksList"},{default:i(()=>[d(B,{class:"border-0"},{default:i(()=>[d(M),r.successMessage?(_(),g("div",J,[o("div",Z,[s[5]||(s[5]=o("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[6]||(s[6]=p()),s[7]||(s[7]=o("strong",null,"Success",-1)),p(" - "+c(r.successMessage)+" ",1),o("button",{type:"button",class:"btn-close btn-close-success",onClick:s[0]||(s[0]=(...l)=>e.dismissMessage&&e.dismissMessage(...l)),"aria-label":"Close Success Message"})])])):b("",!0),r.alertMessage?(_(),g("div",z,[o("div",G,[s[8]||(s[8]=o("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[9]||(s[9]=p()),s[10]||(s[10]=o("strong",null,"Alert",-1)),p(" - "+c(r.alertMessage)+" ",1),o("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[1]||(s[1]=(...l)=>e.dismissMessage&&e.dismissMessage(...l)),"aria-label":"Close Alert Message"})])])):b("",!0)]),_:1}),d(a,{class:"border border-dashed border-end-0 border-start-0"},{default:i(()=>[o("form",{onSubmit:s[4]||(s[4]=U((...l)=>r.handleSubmit&&r.handleSubmit(...l),["prevent"])),enctype:"multipart/form-data"},[d(t,{form:r.form,rules:r.validationRules,ref:"validationRef"},{default:i(()=>[o("div",K,[o("div",Q,[o("div",W,[o("label",X,[p(c(e.$t("password"))+" ",1),s[11]||(s[11]=o("span",{class:"text-danger"},"*",-1))]),k(o("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":s[2]||(s[2]=l=>r.form.password=l),placeholder:e.$t("enter_password")},null,8,Y),[[S,r.form.password]]),r.errors.password?(_(),g("span",$,c(r.errors.password),1)):b("",!0)])]),o("div",ss,[o("div",es,[o("label",os,[p(c(e.$t("confirm_password"))+" ",1),s[12]||(s[12]=o("span",{class:"text-danger"},"*",-1))]),k(o("input",{type:"password",class:"form-control",id:"confirm_password","onUpdate:modelValue":s[3]||(s[3]=l=>r.form.confirm_password=l),placeholder:e.$t("confirm_password")},null,8,rs),[[S,r.form.confirm_password]]),r.errors.confirm_password?(_(),g("span",ts,c(r.errors.confirm_password),1)):b("",!0)])]),o("div",as,[o("button",ns,c(e.$t("submit")),1)])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ws=L(E,[["render",ls]]);export{ws as default};
