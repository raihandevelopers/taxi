import{_ as Us,Z as Ns,O as Fs,P as As,z as Os,r,C as Rs,T as fs,D as Ts,X as N,g as v,S as Es,o as d,x as es,w as u,a as F,k as _,l as s,J as t,y as b,q as ts,K as Is,i as c,L as A,F as P,p as as,B as h}from"./vendor-ddfbd976.js";import{L as Vs}from"./main-306a5ea6.js";import{P as js}from"./page-header-2dc95532.js";import{P as Hs}from"./Pagination-f095ae3c.js";import{s as qs}from"./search-2c17aadd.js";import{s as Ws}from"./searchbar-3acbc236.js";import{g as ls}from"./getChartColorsArray-cf54c295.js";import{_ as Zs}from"./search-file-ab3e1046.js";import{_ as Ks}from"./avatar-3-6e0817a3.js";import"./footer-e648049d.js";import"./app-042fb454.js";const Xs={components:{Layout:Vs,PageHeader:js,Head:Ns,Pagination:Hs,Multiselect:Fs,flatPickr:As,Link:Os,search:qs,searchbar:Ws,getChartColorsArray:ls},props:{successMessage:String,alertMessage:String,driver:Object,currency:Array,driver_date:String,completed_ride_count:Number,default_lat:String,default_lng:String,canceled_ride_count:Number,app_for:String,acceptance_rate:Number,cancellation_rate:Number,earnings_data:Object,trip_data:Object,firebaseSettings:Object,earningsChartData:Object,disable_options:String,tripsChartData:{type:Object,default:()=>({months:[],completed:[],cancelled:[]})}},setup(a){const e=r(null),{t:i}=Rs(),o=r([]),os=r([]),M=r(null),S=r(parseFloat(a.default_lat)),L=r(parseFloat(a.default_lng)),I=Math.max(...a.earningsChartData.values||[]),x=r([a.disable_options]),O=(I*1.2).toFixed(2),B=r([{name:i("earnings"),data:a.earningsChartData.values||[]}]),R=r({chart:{height:100,type:"area",toolbar:"false"},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},xaxis:{categories:a.earningsChartData.months||[]},yaxis:{labels:{formatter:function(n){return n.toFixed(2)}},tickAmount:5,min:0,max:Number(O)},colors:ls('[ "--vz-success"]'),fill:{opacity:.5,colors:["#0AB39C","#F06548"],type:"solid"}}),V=n=>a.app_for&&a.app_for=="demo"?"***********":n.mobile_number,T=n=>a.app_for&&a.app_for=="demo"?"***********":n.email,j=r([{name:i("completed"),type:"bar",data:a.tripsChartData.completed||[]},{name:i("cancelled"),type:"bar",data:a.tripsChartData.cancelled||[]}]),E=r({chart:{height:374,type:"line",toolbar:{show:!1}},stroke:{curve:"smooth",dashArray:[0,3,0],width:[0,1,0]},fill:{opacity:[1,1,1]},markers:{size:[0,4,0],strokeWidth:2,hover:{size:4}},xaxis:{categories:a.tripsChartData.months||[],axisTicks:{show:!1},axisBorder:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:0,right:-2,bottom:15,left:10}},legend:{show:!0,horizontalAlign:"center",offsetX:0,offsetY:-5,markers:{width:9,height:9,radius:6},itemMargin:{horizontal:10,vertical:0}},plotOptions:{bar:{columnWidth:"30%",barHeight:"70%"}},colors:ls('["--vz-success", "--vz-danger"]')}),H=async()=>{e.value&&(e.value.remove(),e.value=null),e.value=N.map("map",{dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1}).setView([S.value,L.value],12),N.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(e.value)},q=r(""),z=r("");fs({all:"",locked:""});const l=fs({all:"",locked:"",limit:10}),f=r({}),D=a.completed_ride_count,ps=a.canceled_ride_count,xs=r({amount:"",operation:"add"}),ys=r(""),is=(n,m)=>{n.setLatLng(m).update()},ks=n=>{const m="0123456789bcdefghjkmnpqrstuvwxyz",g=[16,8,4,2,1];let y=!0,p=-90,k=90,w=-180,C=180,vs,gs;if(n){for(let Q=0;Q<n.length;Q++){let zs=n.charAt(Q),bs=m.indexOf(zs);for(let ss=0;ss<5;ss++){let hs=g[ss];if(y){let U=(w+C)/2;bs&hs?w=U:C=U}else{let U=(p+k)/2;bs&hs?p=U:k=U}y=!y}}return vs=(p+k)/2,gs=(w+C)/2,{lat:vs,lon:gs}}return null};Ts(async()=>{await H();var n={apiKey:a.firebaseSettings.firebase_api_key,authDomain:a.firebaseSettings.firebase_auth_domain,databaseURL:a.firebaseSettings.firebase_database_url,projectId:a.firebaseSettings.firebase_project_id,storageBucket:a.firebaseSettings.firebase_storage_bucket,messagingSenderId:a.firebaseSettings.firebase_messaging_sender_id,appId:a.firebaseSettings.firebase_app_id};firebase.apps.length==0&&firebase.initializeApp(n),firebase.database().ref("drivers/driver_"+a.driver.id).on("value",g=>{const y=g.val(),p=ks(y.g);if(p){const k=[p.lat,p.lon];S.value=p.lat,L.value=p.lon;let w=y.vehicle_type_icon?`/image/map/${y.vehicle_type_icon}.png`:"";if(w.length>0)if(M.value)is(M.value,k),M.value.setIcon(N.icon({iconUrl:w,iconSize:[30,30]}));else{const C=N.marker(k,{icon:N.icon({iconUrl:w,iconSize:[30,30]})}).addTo(e.value);e.value.setView([S.value,L.value],15),C.value=C,is(C,k)}else e.value.removeLayer(M),M.value=null}})});const ws=r([]),W=r({}),ns=r([]),ds=r([]),rs=r({}),cs=r([]),Z=r(a.successMessage||""),K=r(a.alertMessage||""),X=async(n=1)=>{const m=l.data();m.search=z.value,m.page=n;const g=await F.get(`/approved-drivers/request/list/${a.driver.id}`,{params:m});ns.value=g.data.requests,W.value=g.data.paginator,Ls(W.value.total)},_s=async(n=1)=>{try{const m={page:n},g=await F.get(`/drivers-rating/request-list/${a.driver.id}`,{params:m});ds.value=g.data.results,rs.value=g.data.paginator}catch(m){console.error(i("error_fetching_drivers_rating"),m)}},Y=async(n=1)=>{try{const m={page:n},g=await F.get(`/fleet-drivers/document/list/${a.driver.id}`,{params:m});cs.value=g.data.results}catch(m){console.error(i("error_fetching_drivers_rating"),m)}},Cs=async n=>{await F.get(`/fleet-drivers/document-toggle/${n}/${a.driver.id}/1`),Z.value=i("document_approved"),setTimeout(()=>{Z.value=""},5e3),Y()},ms=r(null),us=r(null),G=r(!1),J=r(null),$=r(null),Ms=()=>{G.value=!1,J.value=null,$.value=null},Bs=n=>{J.value=n.image,$.value=n.back_image,G.value=!0,ms.value=n.document_name_front??i("document"),us.value=n.document_name_back??i("document")},Ds=async n=>{await F.get(`/approved-drivers/document-toggle/${n}/${a.driver.id}/5`),K.value=i("document_declined"),setTimeout(()=>{K.value=""},5e3),Y()},Ps=async n=>{X(n)},Ss=async n=>{_s(n)},Ls=()=>{f.value=[10,25,50,100,200,500]};return{form:xs,validationMessage:ys,searchTerm1:q,searchTerm2:z,mobileFromUser:V,emailFromUser:T,results2:ws,paginator2:W,ratingResults:ds,ratingPaginator:rs,documentResults:cs,handlePageChanged2:Ps,handleRatingPageChanged:Ss,ride_count:D,cancel_ride_count:ps,map:e,selectedServiceLocations:o,selectedVehicleTypes:os,fetchRequestDatas:X,requests:ns,earning:B,earningOptions:R,series:j,tripOptions:E,disable_options:x,fetchRatingDatas:_s,fetchDocumentDatas:Y,successMessage:Z,alertMessage:K,approveDocument:Cs,declineDocument:Ds,viewDocument:Bs,closeModal:Ms,showModal:G,imageUrl:J,backImageUrl:$,documentNameFront:ms,documentNameBack:us,paginatorOption:f,changeEntriesPerPage:()=>{X()},filter2:l}},mounted(){this.fetchRequestDatas(),this.fetchRatingDatas(),this.fetchDocumentDatas()}},Ys={class:"row"},Gs={class:"col-sm-4 mt-3 profile-border"},Js={class:"d-flex align-items-center"},$s=["src"],Qs={class:"ms-4"},se={class:"col-sm-4 mt-4 profile-border"},ee={class:"d-flex align-items-center"},te={class:"d-flex align-items-center"},ae={class:"d-flex align-items-center"},le={class:"col-sm-4 mt-3"},oe={class:"d-flex align-items-center"},ie=["src"],ne={class:"ms-4"},de={class:"nav nav-tabs mt-4",role:"tablist"},re={class:"nav-item"},ce={class:"nav-link active","data-bs-toggle":"tab",href:"#driver-profile",role:"tab","aria-selected":"false"},_e={class:"nav-item"},me={class:"nav-link","data-bs-toggle":"tab",href:"#request-list",role:"tab","aria-selected":"false"},ue={class:"nav-item"},ve={class:"nav-link","data-bs-toggle":"tab",href:"#rating-history",role:"tab","aria-selected":"false"},ge={class:"nav-item"},be={class:"nav-link","data-bs-toggle":"tab",href:"#documents",role:"tab","aria-selected":"false"},he={class:"tab-content text-muted"},fe={class:"tab-pane active p-3",id:"driver-profile",role:"tabpanel"},pe={class:"mb-4 mt-4"},xe={class:"row"},ye={class:"col-12"},ke={class:"row row-cols-lg-4 row-cols-1"},we={class:"col"},Ce={class:"card card-body border card-hover"},Me={class:"mb-1"},Be={class:"card-text text-muted"},De={class:"col"},Pe={class:"card card-body border card-hover"},Se={class:"mb-1"},Le={class:"card-text text-muted"},ze={class:"col"},Ue={class:"card card-body border card-hover"},Ne={class:"mb-1"},Fe={class:"card-text text-muted"},Ae={class:"col"},Oe={class:"card card-body border card-hover"},Re={class:"mb-1"},Te={class:"card-text text-muted"},Ee={class:"col"},Ie={class:"card card-body border card-hover"},Ve={class:"mb-1"},je={class:"card-text text-muted"},He={class:"mb-4 mt-4"},qe={class:"col-12 col-lg-12"},We={class:"mb-3 text-center m-auto"},Ze={id:"map",style:{height:"500px"}},Ke={class:"mb-4 mt-4"},Xe={class:"row"},Ye={class:"col-sm-6 col-md-12 col-lg-12 col-xl-6"},Ge={class:"col-sm-12 col-md-12 col-lg-12 col-xl-6"},Je={class:"row row-cols-lg-3 row-cols-1"},$e={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},Qe={class:"card card-body border card-hover"},st={class:"d-flex"},et={class:"mb-1"},tt={class:"card-text text-muted"},at={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},lt={class:"card card-body border card-hover"},ot={class:"d-flex"},it={class:"mb-1"},nt={class:"card-text text-muted"},dt={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},rt={class:"card card-body border card-hover"},ct={class:"d-flex"},_t={class:"mb-1"},mt={class:"card-text text-muted"},ut={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},vt={class:"card card-body border card-hover"},gt={class:"d-flex"},bt={class:"mb-1"},ht={class:"card-text text-muted"},ft={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},pt={class:"card card-body border card-hover"},xt={class:"d-flex"},yt={class:"mb-1"},kt={class:"card-text text-muted"},wt={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},Ct={class:"card card-body border card-hover"},Mt={class:"d-flex mb-4 align-items-center"},Bt={class:"border p-1 rounded ms-3"},Dt={class:"card-text text-muted"},Pt={class:"mb-4 mt-4"},St={class:"row"},Lt={class:"col-sm-6 col-md-12 col-xl-6 col-lg-6"},zt={class:"col-sm-12 col-md-12 col-lg-6 col-xl-6"},Ut={class:"row row-cols-lg-2 row-cols-1"},Nt={class:"col"},Ft={class:"card card-body border card-hover"},At={class:"d-flex"},Ot={class:"mb-1"},Rt={class:"card-text text-muted"},Tt={class:"col"},Et={class:"card card-body border card-hover"},It={class:"d-flex"},Vt={class:"mb-1"},jt={class:"card-text text-muted"},Ht={class:"tab-pane p-3",id:"request-list",role:"tabpanel"},qt={class:"row row-cols-lg-2 row-cols-1"},Wt={class:"col-lg-3 col-md-6 col-sm-12"},Zt={class:"card card-body border card-hover"},Kt={class:"d-flex"},Xt={class:"mb-1"},Yt={class:"card-text text-muted"},Gt={class:"col-lg-3 col-md-6 col-sm-12"},Jt={class:"card card-body border card-hover"},$t={class:"d-flex"},Qt={class:"mb-1"},sa={class:"card-text text-muted"},ea={class:"col-lg-3 col-md-6 col-sm-12"},ta={class:"card card-body border card-hover"},aa={class:"d-flex"},la={class:"mb-1"},oa={class:"card-text text-muted"},ia={class:"col-lg-3 col-md-6 col-sm-12"},na={class:"card card-body border card-hover"},da={class:"d-flex"},ra={class:"mb-1"},ca={class:"card-text text-muted"},_a={class:"d-flex align-items-center mt-3"},ma={class:"me-2 text-muted"},ua=["value"],va={class:"ms-2 text-muted"},ga={class:"table-responsive"},ba={class:"table align-middle position-relative table-nowrap"},ha={class:"table-active"},fa={scope:"col"},pa={scope:"col"},xa={scope:"col"},ya={scope:"col"},ka={scope:"col"},wa={scope:"col"},Ca={scope:"col"},Ma={key:0},Ba={key:1},Da={colspan:"7",class:"text-center"},Pa={class:"tab-pane p-3",id:"rating-history",role:"tabpanel"},Sa={class:"row timeline-right"},La={class:"col-12"},za={class:"timeline-date"},Ua={class:"col-12"},Na={class:"timeline-box"},Fa={class:"timeline-text"},Aa={class:"d-flex"},Oa=["src"],Ra={key:1,class:"rounded-circle avatar-sm",alt:"User Avatar",src:Ks},Ta={class:"flex-grow-1 ms-3"},Ea={class:"mb-1"},Ia={class:"text-muted mb-0"},Va={class:"tab-pane p-3",id:"documents",role:"tabpanel"},ja={class:"table-responsive"},Ha={class:"table align-middle position-relative table-nowrap"},qa={class:"table-active"},Wa={scope:"col"},Za={scope:"col"},Ka={scope:"col"},Xa={scope:"col"},Ya={scope:"col"},Ga={scope:"col"},Ja={scope:"col"},$a=["onClick"],Qa=["onClick"],sl=["onClick"],el=["onClick"],tl={key:0,class:"modal fade show",tabindex:"-1",role:"dialog",style:{display:"block"}},al={class:"modal-dialog",role:"document"},ll={class:"modal-content"},ol={class:"modal-header d-flex align-items-center justify-content-between"},il={class:"modal-title"},nl={class:"modal-body"},dl={id:"carouselExampleFade",class:"carousel slide carousel-fade py-5","data-ride":"carousel"},rl={class:"carousel-inner"},cl={class:"carousel-item active"},_l={key:0,class:"car-img"},ml=["src","alt"],ul={class:"text-center"},vl={key:1,class:"d-grid"},gl={class:"text-center m-auto"},bl={class:"carousel-item"},hl={key:0,class:"car-img"},fl=["src","alt"],pl={class:"text-center"},xl={key:1,class:"d-grid"},yl={class:"text-center m-auto"},kl={class:"modal-footer"},wl=["href"],Cl=["href"],Ml={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Bl={class:"alert-content"},Dl={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Pl={class:"alert-content"};function Sl(a,e,i,o,os,M){const S=v("Head"),L=v("PageHeader"),I=v("BCardHeader"),x=v("BCard"),O=v("apexchart"),B=v("BCardBody"),R=v("BCol"),V=v("BBadge"),T=v("Pagination"),j=v("Link"),E=v("BButton"),H=v("BRow"),q=v("Layout"),z=Es("b-tooltip");return d(),es(q,null,{default:u(()=>[_(S,{title:"Driver Profile"}),_(L,{title:a.$t("driver_profile"),pageTitle:a.$t("driver_profile"),pageLink:"/fleet-drivers"},null,8,["title","pageTitle"]),_(H,null,{default:u(()=>[_(R,{lg:"12"},{default:u(()=>[_(x,{"no-body":"",id:"tasksList"},{default:u(()=>[_(I,{class:"border-0"},{default:u(()=>[s("div",Ys,[s("div",Gs,[s("div",Js,[s("div",null,[s("img",{class:"rounded-circle avatar-xl",alt:"200x200",src:i.driver.profile_picture},null,8,$s)]),s("div",Qs,[s("h5",null,t(i.driver.name),1),s("p",null,t(i.driver.service_location_name),1)])])]),s("div",se,[s("div",ee,[e[6]||(e[6]=s("i",{class:"ri-phone-line",style:{"font-size":"20px"}},null,-1)),e[7]||(e[7]=b("    ")),s("span",null,t(o.mobileFromUser(i.driver)),1)]),s("div",te,[e[8]||(e[8]=s("i",{class:"ri-mail-line",style:{"font-size":"20px"}},null,-1)),e[9]||(e[9]=b("    ")),s("span",null,t(o.emailFromUser(i.driver)),1)]),s("div",ae,[e[10]||(e[10]=s("i",{class:"ri-logout-box-r-line",style:{"font-size":"20px"}},null,-1)),e[11]||(e[11]=b("    ")),s("span",null,t(i.driver_date),1)])]),s("div",le,[s("div",oe,[s("div",null,[s("img",{class:"rounded-circle avatar-xl",alt:"200x200",src:i.driver.vehicle_type_image},null,8,ie)]),s("div",ne,[s("h5",null,t(i.driver.vehicle_type_name),1),s("p",null,t(i.driver.car_make_name),1),s("p",null,t(i.driver.car_model_name),1),s("p",null,t(i.driver.car_number),1)])])])]),e[12]||(e[12]=s("div",{class:"border-bottom mt-4"},null,-1)),s("div",null,[s("ul",de,[s("li",re,[s("a",ce,t(a.$t("driver_profile")),1)]),s("li",_e,[s("a",me,t(a.$t("request_list")),1)]),s("li",ue,[s("a",ve,t(a.$t("review_history")),1)]),s("li",ge,[s("a",be,t(a.$t("documents")),1)])])])]),_:1,__:[12]})]),_:1}),s("div",he,[s("div",fe,[_(x,null,{default:u(()=>[_(B,null,{default:u(()=>[s("h5",pe,t(a.$t("general_report")),1),s("div",xe,[s("div",ye,[s("div",ke,[s("div",we,[s("div",Ce,[e[13]||(e[13]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-success icon-lg"})])])])],-1)),s("h1",Me,t(i.trip_data.completed_today),1),s("h5",Be,t(a.$t("today_trips")),1)])]),s("div",De,[s("div",Pe,[e[14]||(e[14]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-success icon-lg"})])])])],-1)),s("h1",Se,t(i.earnings_data.today_total),1),s("h5",Le,t(a.$t("today_earnings")),1)])]),s("div",ze,[s("div",Ue,[e[15]||(e[15]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-primary icon-lg"})])])])],-1)),s("h1",Ne,t(i.trip_data.completed),1),s("h5",Fe,t(a.$t("total_trips")),1)])]),s("div",Ae,[s("div",Oe,[e[16]||(e[16]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-primary icon-lg"})])])])],-1)),s("h1",Re,t(i.earnings_data.overall_total),1),s("h5",Te,t(a.$t("total_earnings")),1)])]),s("div",Ee,[s("div",Ie,[e[17]||(e[17]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-danger icon-lg"})])])])],-1)),s("h1",Ve,t(i.trip_data.cancelled_today),1),s("h5",je,t(a.$t("today_cancelled")),1)])])])])]),s("h5",He,t(a.$t("driver_location")),1),s("div",qe,[s("div",We,[s("div",Ze,t(a.$t("map_loading")),1)])]),s("h5",Ke,t(a.$t("earnings")),1),s("div",Xe,[s("div",Ye,[_(O,{class:"apex-charts",height:"350",dir:"ltr",series:o.earning,options:o.earningOptions},null,8,["series","options"])]),s("div",Ge,[s("div",Je,[s("div",$e,[s("div",Qe,[e[18]||(e[18]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-success icon-lg"})])])])],-1)),s("div",st,[s("h3",et,t(i.currency[0])+" "+t(i.earnings_data.today_total),1)]),s("h5",tt,t(a.$t("today_earnings")),1)])]),s("div",at,[s("div",lt,[e[19]||(e[19]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-primary icon-lg"})])])])],-1)),s("div",ot,[s("h3",it,t(i.currency[0])+" "+t(i.earnings_data.admin_commission),1)]),s("h5",nt,t(a.$t("admin_commission")),1)])]),s("div",dt,[s("div",rt,[e[20]||(e[20]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-warning-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-warning icon-lg"})])])])],-1)),s("div",ct,[s("h3",_t,t(i.currency[0])+" "+t(i.earnings_data.driver_commission),1)]),s("h5",mt,t(a.$t("drivers_earnings")),1)])]),s("div",ut,[s("div",vt,[e[21]||(e[21]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-success icon-lg"})])])])],-1)),s("div",gt,[s("h3",bt,t(i.earnings_data.overall_cash),1)]),s("h5",ht,t(a.$t("by_cash")),1)])]),s("div",ft,[s("div",pt,[e[22]||(e[22]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-primary icon-lg"})])])])],-1)),s("div",xt,[s("h3",yt,t(i.earnings_data.overall_wallet),1)]),s("h5",kt,t(a.$t("by_wallet")),1)])]),s("div",wt,[s("div",Ct,[s("div",Mt,[e[23]||(e[23]=s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-warning-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-credit-card text-warning icon-lg"})])])],-1)),s("div",Bt,t(i.earnings_data.overall_card),1)]),s("h5",Dt,t(a.$t("by_card")),1)])])])])]),s("h5",Pt,t(a.$t("trips")),1),s("div",St,[s("div",Lt,[_(O,{class:"apex-charts",height:"350",dir:"ltr",series:o.series,options:o.tripOptions},null,8,["series","options"])]),s("div",zt,[s("div",Ut,[s("div",Nt,[s("div",Ft,[e[24]||(e[24]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-success icon-lg"})])])])],-1)),s("div",At,[s("h3",Ot,t(o.ride_count),1)]),s("h5",Rt,t(a.$t("completed_trips")),1)])]),s("div",Tt,[s("div",Et,[e[25]||(e[25]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-danger icon-lg"})])])])],-1)),s("div",It,[s("h3",Vt,t(o.cancel_ride_count),1)]),s("h5",jt,t(a.$t("cancelled_trips")),1)])])])])])]),_:1})]),_:1})]),s("div",Ht,[_(x,null,{default:u(()=>[_(B,null,{default:u(()=>[s("div",qt,[s("div",Wt,[s("div",Zt,[e[26]||(e[26]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-success icon-lg"})])])])],-1)),s("div",Kt,[s("h3",Xt,t(o.ride_count),1)]),s("h5",Yt,t(a.$t("completed_rides")),1),e[27]||(e[27]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])]),s("div",Gt,[s("div",Jt,[e[28]||(e[28]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-check-circle text-success icon-lg"})])])])],-1)),s("div",$t,[s("h3",Qt,t(i.acceptance_rate)+" %",1)]),s("h5",sa,t(a.$t("acceptance_rate")),1),e[29]||(e[29]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])]),s("div",ea,[s("div",ta,[e[30]||(e[30]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-x-circle text-danger icon-lg"})])])])],-1)),s("div",aa,[s("h3",la,t(i.cancellation_rate)+" %",1)]),s("h5",oa,t(a.$t("cancellation_rate")),1),e[31]||(e[31]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])]),s("div",ia,[s("div",na,[e[32]||(e[32]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-danger icon-lg"})])])])],-1)),s("div",da,[s("h3",ra,t(o.cancel_ride_count),1)]),s("h5",ca,t(a.$t("cancelled_rides")),1),e[33]||(e[33]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])])]),_(R,{md:"3",class:"mb-3"},{default:u(()=>[s("div",_a,[s("label",ma,t(a.$t("show")),1),ts(s("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.filter2.limit=l),onChange:e[1]||(e[1]=(...l)=>o.changeEntriesPerPage&&o.changeEntriesPerPage(...l)),class:"form-select form-select-sm w-auto"},[(d(!0),c(P,null,A(o.paginatorOption,l=>(d(),c("option",{key:l,value:l},t(l),9,ua))),128))],544),[[Is,o.filter2.limit]]),s("label",va,t(a.$t("entries")),1)])]),_:1}),s("div",ga,[s("table",ba,[s("thead",ha,[s("tr",null,[s("th",fa,t(a.$t("request_id")),1),s("th",pa,t(a.$t("date")),1),s("th",xa,t(a.$t("user_name")),1),s("th",ya,t(a.$t("driver_name")),1),s("th",ka,t(a.$t("trip_Status")),1),s("th",wa,t(a.$t("paid")),1),s("th",Ca,t(a.$t("payment_option")),1)])]),o.requests.length>0?(d(),c("tbody",Ma,[(d(!0),c(P,null,A(o.requests,(l,f)=>(d(),c("tr",{key:f},[s("td",null,t(l.request_number),1),s("td",null,t(l.converted_created_at),1),s("td",null,t(l.user_name),1),s("td",null,t(l.driver_name),1),s("td",null,t(l.trip_status),1),s("td",null,t(l.trip_payment),1),s("td",null,[_(V,{class:as({"text-uppercase":!0,"text-bg-success":l.is_paid,"text-bg-danger":!l.is_paid})},{default:u(()=>[b(t(l.payment_opt==1?"Cash":l.payment_opt==2?"Wallet":"Card"),1)]),_:2},1032,["class"])])]))),128))])):(d(),c("tbody",Ba,[s("tr",null,[s("td",Da,[e[34]||(e[34]=s("img",{src:Zs,alt:"Loading...",style:{width:"100px"}},null,-1)),s("h5",null,t(a.$t("no_data_found")),1)])])]))]),_(T,{paginator:o.paginator2,onPageChanged:o.handlePageChanged2},null,8,["paginator","onPageChanged"])])]),_:1})]),_:1})]),s("div",Pa,[_(x,null,{default:u(()=>[_(B,null,{default:u(()=>[(d(!0),c(P,null,A(o.ratingResults,l=>(d(),c("div",{class:"timeline-continue p-2",key:l.id},[s("div",Sa,[s("div",La,[s("p",za,t(l.converted_created_at),1)]),s("div",Ua,[s("div",Na,[s("div",Fa,[s("div",Aa,[l.user_profile?(d(),c("img",{key:0,class:"rounded-circle avatar-sm",alt:"User Avatar",src:l.user_profile},null,8,Oa)):(d(),c("img",Ra)),s("div",Ta,[s("h5",Ea,[_(j,{href:"#"},{default:u(()=>[b(t(l.request_number),1)]),_:2},1024),b(t(l.user_name),1)]),s("p",null,t(l.converted_trip_start_time),1),s("p",null,[b(t(a.$t("pickup_address"))+" ",1),s("span",Ia,t(l.pick_address),1)]),s("div",null,[(d(),c(P,null,A(5,f=>s("i",{key:f,class:as([{"bx bxs-star":f<=l.user_rating,"bx bx-star":f>l.user_rating},"align-center text-muted me-2"])},null,2)),64))])])])])])])])]))),128)),_(T,{paginator:o.ratingPaginator,onPageChanged:o.handleRatingPageChanged},null,8,["paginator","onPageChanged"])]),_:1})]),_:1})]),s("div",Va,[_(x,null,{default:u(()=>[_(B,null,{default:u(()=>[s("div",ja,[s("table",Ha,[s("thead",qa,[s("tr",null,[s("th",Wa,t(a.$t("document_name")),1),s("th",Za,t(a.$t("identify_number")),1),s("th",Ka,t(a.$t("expiry_date")),1),s("th",Xa,t(a.$t("status")),1),s("th",Ya,t(a.$t("comment")),1),s("th",Ga,t(a.$t("document")),1),s("th",Ja,t(a.$t("action")),1)])]),s("tbody",null,[(d(!0),c(P,null,A(o.documentResults,(l,f)=>(d(),c("tr",{key:l.id},[s("td",null,t(l.name),1),s("td",null,t(l.identify_number||"N/A"),1),s("td",null,t(l.expiry_date||"N/A"),1),s("td",null,[s("span",{class:as({badge:!0,"bg-success":l.document_status===1,"bg-secondary":l.document_status===2||l.document_status==null,"bg-warning":l.document_status===3||l.document_status===4,"bg-danger":l.document_status===5,"bg-dark":l.document_status===6})},t(l.document_status===1?"Approved":l.document_status===2||l.document_status==null?"Not Uploaded":l.document_status===3||l.document_status===4?"Waiting for Approval":l.document_status===5?"Declined":l.document_status===6?"Expired":"Unknown"),3)]),s("td",null,t(l.comment||"N/A"),1),s("td",null,[ts((d(),es(E,{class:"btn btn-soft-info btn-sm m-2",size:"sm","data-bs-toggle":"tooltip",title:"view",onClick:D=>o.viewDocument(l)},{default:u(()=>e[35]||(e[35]=[s("i",{class:"bx bx-show-alt align-center"},null,-1)])),_:2,__:[35]},1032,["onClick"])),[[z,void 0,void 0,{hover:!0}]]),ts((d(),es(E,{class:"btn btn-soft-success btn-sm m-2",size:"sm","data-bs-toggle":"tooltip",title:"upload",href:`/approved-drivers/document-upload/${l.id}/${a.driverId}`},{default:u(()=>e[36]||(e[36]=[s("i",{class:"bx bx-upload align-center"},null,-1)])),_:2,__:[36]},1032,["href"])),[[z,void 0,void 0,{hover:!0}]])]),s("td",null,[l.document_status===1?(d(),c("button",{key:0,type:"button",class:"btn btn-outline-danger waves-effect waves-light btn-sm",onClick:D=>o.declineDocument(l.id)},t(a.$t("decline")),9,$a)):h("",!0),l.document_status===5?(d(),c("button",{key:1,type:"button",class:"btn btn-outline-success waves-effect waves-light btn-sm me-1",onClick:D=>o.approveDocument(l.id)},t(a.$t("approve")),9,Qa)):h("",!0),l.document_status===2||l.document_status==null?h("",!0):(d(),c(P,{key:2},[l.document_status===3||l.document_status===4||l.document_status===6?(d(),c("button",{key:0,type:"button",class:"btn btn-outline-success waves-effect waves-light btn-sm me-1",onClick:D=>o.approveDocument(l.id)},t(a.$t("approve")),9,sl)):h("",!0),l.document_status===3||l.document_status===4||l.document_status===6?(d(),c("button",{key:1,type:"button",class:"btn btn-outline-danger waves-effect waves-light btn-sm",onClick:D=>o.declineDocument(l.id)},t(a.$t("decline")),9,el)):h("",!0)],64))])]))),128))])])]),o.showModal?(d(),c("div",tl,[s("div",al,[s("div",ll,[s("div",ol,[s("h5",il,t(a.$t("view_document")),1),s("a",{href:"#",class:"close fs-18",onClick:e[2]||(e[2]=(...l)=>o.closeModal&&o.closeModal(...l)),"aria-label":"Close"},e[37]||(e[37]=[s("span",{class:"fs-22","aria-hidden":"true"},"×",-1)]))]),s("div",nl,[s("div",dl,[e[40]||(e[40]=s("div",{class:"carousel-indicators"},[s("button",{type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide-to":"0",class:"active","aria-current":"true","aria-label":"Slide 1"}),s("button",{type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide-to":"1","aria-label":"Slide 2"})],-1)),s("div",rl,[s("div",cl,[o.imageUrl?(d(),c("div",_l,[s("img",{src:o.imageUrl,alt:o.documentNameFront,class:"img-fluid mb-2"},null,8,ml),s("h5",ul,t(o.documentNameFront),1)])):(d(),c("div",vl,[e[38]||(e[38]=s("i",{class:"ri-image-fill m-auto fs-22"},null,-1)),s("h6",gl,t(a.$t("no_front_image_available")),1)]))]),s("div",bl,[o.backImageUrl?(d(),c("div",hl,[s("img",{src:o.backImageUrl,alt:o.documentNameBack,class:"img-fluid mb-2"},null,8,fl),s("h5",pl,t(o.documentNameBack),1)])):(d(),c("div",xl,[e[39]||(e[39]=s("i",{class:"ri-image-fill m-auto fs-22"},null,-1)),s("h6",yl,t(a.$t("no_back_image_available")),1)]))])]),e[41]||(e[41]=s("a",{class:"carousel-control-prev bg-dark",style:{height:"30px"},href:"#carouselExampleFade",role:"button","data-bs-slide":"prev"},[s("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),s("span",{class:"sr-only"},"Previous")],-1)),e[42]||(e[42]=s("a",{class:"carousel-control-next bg-dark",style:{height:"30px"},href:"#carouselExampleFade",role:"button","data-bs-slide":"next"},[s("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),s("span",{class:"sr-only"},"Next")],-1))])]),s("div",kl,[s("button",{type:"button",class:"btn btn-secondary",onClick:e[3]||(e[3]=(...l)=>o.closeModal&&o.closeModal(...l))},t(a.$t("close")),1),o.imageUrl?(d(),c("a",{key:0,href:o.imageUrl,download:"",class:"btn btn-primary"},t(a.$t("download_front_image")),9,wl)):h("",!0),o.backImageUrl?(d(),c("a",{key:1,href:o.backImageUrl,download:"",class:"btn btn-primary"},t(a.$t("download_back_image")),9,Cl)):h("",!0)])])])])):h("",!0)]),_:1})]),_:1})])])]),_:1})]),_:1}),s("div",null,[o.successMessage?(d(),c("div",Ml,[s("div",Bl,[e[43]||(e[43]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[44]||(e[44]=b()),e[45]||(e[45]=s("strong",null,"Success",-1)),b(" - "+t(o.successMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-success",onClick:e[4]||(e[4]=(...l)=>a.dismissMessage&&a.dismissMessage(...l)),"aria-label":"Close Success Message"})])])):h("",!0),o.alertMessage?(d(),c("div",Dl,[s("div",Pl,[e[46]||(e[46]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[47]||(e[47]=b()),e[48]||(e[48]=s("strong",null,"Alert",-1)),b(" - "+t(o.alertMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[5]||(e[5]=(...l)=>a.dismissMessage&&a.dismissMessage(...l)),"aria-label":"Close Alert Message"})])])):h("",!0)])]),_:1})}const jl=Us(Xs,[["render",Sl]]);export{jl as default};
