import{_ as V,Z as x,C as H,r as y,T as J,g as _,o as f,x as U,w as m,U as S,a as L,N,k as b,l as s,y as d,J as n,B as v,q as c,t as M,M as F,i as u,n as D}from"./vendor-ddfbd976.js";import{L as T}from"./main-306a5ea6.js";import{P as q}from"./page-header-2dc95532.js";import"./footer-e648049d.js";import"./app-042fb454.js";const P={components:{Layout:T,PageHeader:q,Head:x},props:{successMessage:String,alertMessage:String,firebase:{type:Object,required:!0},app_for:String,firebase_json_validation:Boolean,settings:{type:Object,required:!1,default:()=>({})},existingJsonFile:{type:String,required:!1,default:null}},setup(a){const{t:e}=H(),r=y(a.successMessage||""),o=y(a.alertMessage||""),l=J({firebase_database_url:a.settings.firebase_database_url||"",firebase_api_key:a.settings.firebase_api_key||"",firebase_auth_domain:a.settings.firebase_auth_domain||"",firebase_project_id:a.settings.firebase_project_id||"",firebase_storage_bucket:a.settings.firebase_storage_bucket||"",firebase_messaging_sender_id:a.settings.firebase_messaging_sender_id||"",firebase_app_id:a.settings.firebase_app_id||"",firebase_json:null}),g=y(!1),w=y(a.existingJsonFile),B=y(a.firebase_json_validation),h=()=>{r.value="",o.value=""},k=i=>{if(a.app_for=="demo"){S.fire(e("error"),e("you_are_not_authorised"),"error");return}const p=i.target.files[0];if(p&&p.type!=="application/json"){g.value=!0,l.firebase_json=null;return}g.value=!1,l.firebase_json=p},C=async()=>{if(a.app_for=="demo"){S.fire(e("error"),e("you_are_not_authorised"),"error");return}if(l.firebase_json&&!j(l.firebase_json)){g.value=!0;return}try{let i=new FormData;l.firebase_json&&i.append("firebase_json",l.firebase_json),i.append("firebase_database_url",l.firebase_database_url),i.append("firebase_api_key",l.firebase_api_key),i.append("firebase_auth_domain",l.firebase_auth_domain),i.append("firebase_project_id",l.firebase_project_id),i.append("firebase_storage_bucket",l.firebase_storage_bucket),i.append("firebase_messaging_sender_id",l.firebase_messaging_sender_id),i.append("firebase_app_id",l.firebase_app_id),(await L.post("/firebase/update",i)).status===201?(r.value=e("firebase_updated_successfully"),l.reset(),N.get("/firebase")):o.value=e("failed_to_update_firebase")}catch(i){console.error(e("error_updating_firebase"),i),o.value=e("failed_to_update_firebase")}},j=i=>i&&i.type==="application/json";return{successMessage:r,alertMessage:o,dismissMessage:h,handleFileUpload:k,handleSubmit:C,form:l,validateJsonFile:j,jsonFileError:g,existingJsonFile:w,firebase_json_validation:B}}},E={class:"alert bg-warning border-warning fs-18",role:"alert"},A={class:"row"},O={class:"col-sm-6"},R={class:"mb-3"},I={for:"firebase_database_url",class:"form-label"},K=["readonly","type","placeholder"],Z={class:"col-sm-6"},z={class:"mb-3"},G={for:"firebase_api_key",class:"form-label"},Q=["readonly","placeholder"],W={class:"col-sm-6"},X={class:"mb-3"},Y={for:"firebase_auth_domain",class:"form-label"},$=["readonly","type","placeholder"],ee={class:"col-sm-6"},se={class:"mb-3"},ae={for:"firebase_project_id",class:"form-label"},oe=["readonly","placeholder"],te={class:"col-sm-6"},re={class:"mb-3"},ie={for:"firebase_storage_bucket",class:"form-label"},le=["readonly","placeholder"],ne={class:"col-sm-6"},de={class:"mb-3"},_e={for:"firebase_messaging_sender_id",class:"form-label"},fe=["readonly","type","placeholder"],be={class:"col-sm-6"},me={class:"mb-3"},ce={for:"firebase_app_id",class:"form-label"},pe=["readonly","type","placeholder"],ue={class:"col-sm-6"},ge={class:"mb-3"},ye={for:"firebase_json",class:"form-label"},ve=["disabled"],he={key:0,class:"text-danger"},ke={key:1,class:"mt-2"},je={key:0,class:"text-danger"},Me={key:1,class:"text-success"},we={class:"col-lg-12"},Be={class:"text-end"},Ce={type:"submit",class:"btn btn-primary"},Fe={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Ue={class:"alert-content"},Se={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Ve={class:"alert-content"};function xe(a,e,r,o,l,g){const w=_("Head"),B=_("PageHeader"),h=_("BCardHeader"),k=_("BCard"),C=_("BCardBody"),j=_("BCol"),i=_("BRow"),p=_("Layout");return f(),U(p,null,{default:m(()=>[b(w,{title:"Firebase"}),b(B,{title:a.$t("firebase"),pageTitle:a.$t("firebase")},null,8,["title","pageTitle"]),b(i,null,{default:m(()=>[r.app_for==="demo"?(f(),U(k,{key:0,"no-body":"",id:"tasksList"},{default:m(()=>[b(h,{class:"border-0"},{default:m(()=>[s("div",E,[s("strong",null,[d(n(a.$t("note"))+" : ",1),s("em",null,n(a.$t("actions_restricted_due_to_demo_mode")),1)])])]),_:1})]),_:1})):v("",!0),b(j,{lg:"12"},{default:m(()=>[b(k,{"no-body":"",id:"tasksList"},{default:m(()=>[b(h,{class:"border-0"}),b(C,{class:"border border-dashed border-end-0 border-start-0"},{default:m(()=>[s("form",{onSubmit:e[8]||(e[8]=D((...t)=>o.handleSubmit&&o.handleSubmit(...t),["prevent"])),enctype:"multipart/form-data"},[s("div",A,[s("div",O,[s("div",R,[s("label",I,[d(n(a.$t("firebase_database_url"))+" ",1),e[11]||(e[11]=s("span",{class:"text-danger"},"*",-1))]),c(s("input",{readonly:r.app_for==="demo",type:r.app_for==="demo"?"password":"text",class:"form-control",placeholder:a.$t("enter_firebase_database_url"),"onUpdate:modelValue":e[0]||(e[0]=t=>o.form.firebase_database_url=t)},null,8,K),[[M,o.form.firebase_database_url]])])]),s("div",Z,[s("div",z,[s("label",G,[d(n(a.$t("firebase_api_key"))+" ",1),e[12]||(e[12]=s("span",{class:"text-danger"},"*",-1))]),c(s("input",{readonly:r.app_for==="demo",type:"password",class:"form-control",placeholder:a.$t("enter_firebase_api_key"),"onUpdate:modelValue":e[1]||(e[1]=t=>o.form.firebase_api_key=t)},null,8,Q),[[F,o.form.firebase_api_key]])])]),s("div",W,[s("div",X,[s("label",Y,[d(n(a.$t("firebase_auth_domain"))+" ",1),e[13]||(e[13]=s("span",{class:"text-danger"},"*",-1))]),c(s("input",{readonly:r.app_for==="demo",type:r.app_for==="demo"?"password":"text",class:"form-control",placeholder:a.$t("enter_firebase_auth_domain"),"onUpdate:modelValue":e[2]||(e[2]=t=>o.form.firebase_auth_domain=t)},null,8,$),[[M,o.form.firebase_auth_domain]])])]),s("div",ee,[s("div",se,[s("label",ae,[d(n(a.$t("firebase_project_id"))+" ",1),e[14]||(e[14]=s("span",{class:"text-danger"},"*",-1))]),c(s("input",{readonly:r.app_for==="demo",type:"password",class:"form-control",placeholder:a.$t("enter_firebase_project_id"),"onUpdate:modelValue":e[3]||(e[3]=t=>o.form.firebase_project_id=t)},null,8,oe),[[F,o.form.firebase_project_id]])])]),s("div",te,[s("div",re,[s("label",ie,[d(n(a.$t("firebase_storage_bucket"))+" ",1),e[15]||(e[15]=s("span",{class:"text-danger"},"*",-1))]),c(s("input",{readonly:r.app_for==="demo",type:"password",class:"form-control",placeholder:a.$t("enter_firebase_storage_bucket"),"onUpdate:modelValue":e[4]||(e[4]=t=>o.form.firebase_storage_bucket=t)},null,8,le),[[F,o.form.firebase_storage_bucket]])])]),s("div",ne,[s("div",de,[s("label",_e,[d(n(a.$t("firebase_messaging_sender_id"))+" ",1),e[16]||(e[16]=s("span",{class:"text-danger"},"*",-1))]),c(s("input",{readonly:r.app_for==="demo",type:r.app_for==="demo"?"password":"text",class:"form-control",placeholder:a.$t("enter_firebase_messaging_sender_id"),"onUpdate:modelValue":e[5]||(e[5]=t=>o.form.firebase_messaging_sender_id=t)},null,8,fe),[[M,o.form.firebase_messaging_sender_id]])])]),s("div",be,[s("div",me,[s("label",ce,[d(n(a.$t("firebase_app_id"))+" ",1),e[17]||(e[17]=s("span",{class:"text-danger"},"*",-1))]),c(s("input",{readonly:r.app_for==="demo",type:r.app_for==="demo"?"password":"text",class:"form-control",placeholder:a.$t("enter_firebase_app_id"),"onUpdate:modelValue":e[6]||(e[6]=t=>o.form.firebase_app_id=t)},null,8,pe),[[M,o.form.firebase_app_id]])])]),s("div",ue,[s("div",ge,[s("label",ye,[d(n(a.$t("firebase_json"))+" ",1),e[18]||(e[18]=s("span",{class:"text-danger"},"*",-1))]),s("input",{disabled:r.app_for==="demo",type:"file",class:"form-control",onChange:e[7]||(e[7]=(...t)=>o.handleFileUpload&&o.handleFileUpload(...t))},null,40,ve),o.jsonFileError?(f(),u("div",he,n(a.$t("please_upload_a_json_file")),1)):v("",!0),o.existingJsonFile?(f(),u("div",ke,[s("strong",null,n(a.$t("existing_file")),1),d(" "+n(o.existingJsonFile),1)])):v("",!0)]),o.firebase_json_validation?(f(),u("span",Me," firebase.json Uploaded ")):(f(),u("span",je," Kindly Upload Correct firebase.json "))]),s("div",we,[s("div",Be,[s("button",Ce,n(r.firebase?a.$t("update"):a.$t("save")),1)])])])],32)]),_:1})]),_:1})]),_:1})]),_:1}),s("div",null,[o.successMessage?(f(),u("div",Fe,[s("div",Ue,[e[19]||(e[19]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[20]||(e[20]=d()),e[21]||(e[21]=s("strong",null,"Success",-1)),d(" - "+n(o.successMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-success",onClick:e[9]||(e[9]=(...t)=>o.dismissMessage&&o.dismissMessage(...t)),"aria-label":"Close Success Message"})])])):v("",!0),o.alertMessage?(f(),u("div",Se,[s("div",Ve,[e[22]||(e[22]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[23]||(e[23]=d()),e[24]||(e[24]=s("strong",null,"Alert",-1)),d(" - "+n(o.alertMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[10]||(e[10]=(...t)=>o.dismissMessage&&o.dismissMessage(...t)),"aria-label":"Close Alert Message"})])])):v("",!0)])]),_:1})}const Te=V(P,[["render",xe]]);export{Te as default};
