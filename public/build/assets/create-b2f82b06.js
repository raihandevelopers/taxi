import{_ as P,Z as R,O as A,C as j,r as b,T as q,D,g as d,o as r,x as V,w as _,a as H,N as L,k as i,l as e,i as u,L as w,p as O,J as n,F as S,y as M,q as N,M as x,B as F,K as U,n as E}from"./vendor-ddfbd976.js";import{L as z}from"./main-306a5ea6.js";import{P as G}from"./page-header-2dc95532.js";import{P as I}from"./Pagination-f095ae3c.js";import{u as J}from"./footer-e648049d.js";import{F as K}from"./FormValidation-a9047131.js";import"./app-042fb454.js";const Z={components:{Layout:z,PageHeader:G,Head:R,Pagination:I,Multiselect:A,FormValidation:K},props:{activeTab:String,languages:Array,successMessage:String,alertMessage:String,goodsType:Object,validate:Function},setup(a){const{t:s}=j(),{languages:f,fetchData:t}=J(),h=b("English"),v=q({languageFields:a.goodsType?a.goodsType.languageFields||{}:{},goods_types_for:a.goodsType&&a.goodsType.goods_types_for||""}),k={goods_types_for:{required:!0}},y=b(null),m=b({}),g=b(a.successMessage||""),c=b(a.alertMessage||""),T=()=>{g.value="",c.value=""},C=async()=>{if(m.value=y.value.validate(),!(Object.keys(m.value).length>0))try{let l;a.goodsType&&a.goodsType.id?l=await H.post(`/goods-type/update/${a.goodsType.id}`,v.data()):l=await H.post("store",v.data()),l.status===201?(g.value=s("goods_type_created_successfully"),v.reset(),L.get("/goods-type")):c.value=s("failed_to_create_goods_type")}catch(l){l.response&&l.response.status===422?m.value=l.response.data.errors:l.response&&l.response.status===403?(c.value=l.response.data.alertMessage,setTimeout(()=>{L.get("/goods-type")},5e3)):(console.error(s("error_creating_goods_type"),l),c.value=s("failed_to_create_goods_type"))}},B=l=>{h.value=l};return D(async()=>{Object.keys(f).length==0&&await t()}),{form:v,successMessage:g,alertMessage:c,handleSubmit:C,dismissMessage:T,validationRules:k,setActiveTab:B,activeTab:h,languages:f,validationRef:y,errors:m}}},Q={class:"row"},W={class:"nav nav-tabs nav-tabs-custom nav-success nav-justified",role:"tablist"},X={class:"nav-item",role:"presentation"},Y=["onClick"],$=["id"],ee={class:"col-sm-6 mt-3"},se={class:"mb-3"},te=["for"],oe=["placeholder","id","onUpdate:modelValue","required"],ae={class:"col-sm-6"},le={class:"mb-3"},ne={for:"goods_types_for",class:"form-label"},re={disabled:"",value:""},de={value:"truck"},ie={value:"motor_bike"},ce={value:"both"},_e={class:"col-lg-12"},ue={class:"text-end"},me={type:"submit",class:"btn btn-primary"},ge={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},fe={class:"alert-content"},ve={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},be={class:"alert-content"};function ye(a,s,f,t,h,v){const k=d("Head"),y=d("PageHeader"),m=d("BCardHeader"),g=d("BCol"),c=d("BRow"),T=d("FormValidation"),C=d("BCardBody"),B=d("BCard"),l=d("Layout");return r(),V(l,null,{default:_(()=>[i(k,{title:"Goods Type"}),i(y,{title:f.goodsType?a.$t("edit"):a.$t("create"),pageTitle:a.$t("goods_type"),pageLink:"/goods-type"},null,8,["title","pageTitle"]),i(c,null,{default:_(()=>[i(g,{lg:"12"},{default:_(()=>[i(B,{"no-body":"",id:"tasksList"},{default:_(()=>[i(m,{class:"border-0"}),i(C,{class:"border border-dashed border-end-0 border-start-0"},{default:_(()=>[e("form",{onSubmit:s[1]||(s[1]=E((...o)=>t.handleSubmit&&t.handleSubmit(...o),["prevent"]))},[i(T,{form:t.form,rules:t.validationRules,ref:"validationRef"},{default:_(()=>[e("div",Q,[e("ul",W,[(r(!0),u(S,null,w(t.languages,o=>(r(),V(c,{key:o.code},{default:_(()=>[i(g,{lg:"12"},{default:_(()=>[e("li",X,[e("a",{class:O(["nav-link",{active:t.activeTab===o.label}]),onClick:p=>t.setActiveTab(o.label),role:"tab","aria-selected":"true"},n(o.label),11,Y)])]),_:2},1024)]),_:2},1024))),128))]),(r(!0),u(S,null,w(t.languages,o=>(r(),u("div",{class:"tab-content text-muted",key:o.code},[t.activeTab===o.label?(r(),u("div",{key:0,class:"tab-pane active show",id:`${o.label}`,role:"tabpanel"},[e("div",ee,[e("div",se,[e("label",{for:`name-${o.code}`,class:"form-label"},[M(n(a.$t("name"))+" ",1),s[4]||(s[4]=e("span",{class:"text-danger"},"*",-1))],8,te),N(e("input",{type:"text",class:"form-control",placeholder:a.$t("enter_name_in",{language:`${o.label}`}),id:`name-${o.code}`,"onUpdate:modelValue":p=>t.form.languageFields[o.code]=p,required:o.code==="en"},null,8,oe),[[x,t.form.languageFields[o.code]]])])])],8,$)):F("",!0)]))),128)),e("div",ae,[e("div",le,[e("label",ne,[M(n(a.$t("goods_type_for"))+" ",1),s[5]||(s[5]=e("span",{class:"text-danger"},"*",-1))]),N(e("select",{id:"goods_types_for",class:"form-select","onUpdate:modelValue":s[0]||(s[0]=o=>t.form.goods_types_for=o)},[e("option",re,n(a.$t("select")),1),e("option",de,n(a.$t("truck")),1),e("option",ie,n(a.$t("motor_bike")),1),e("option",ce,n(a.$t("all")),1)],512),[[U,t.form.goods_types_for]]),(r(!0),u(S,null,w(t.errors.goods_types_for,(o,p)=>(r(),u("span",{key:p,class:"text-danger"},n(o),1))),128))])]),e("div",_e,[e("div",ue,[e("button",me,n(f.goodsType?a.$t("update"):a.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[t.successMessage?(r(),u("div",ge,[e("div",fe,[s[6]||(s[6]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[7]||(s[7]=e("strong",null,"Success",-1)),M(" - "+n(t.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:s[2]||(s[2]=(...o)=>t.dismissMessage&&t.dismissMessage(...o)),"aria-label":"Close Success Message"})])])):F("",!0),t.alertMessage?(r(),u("div",ve,[e("div",be,[s[8]||(s[8]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[9]||(s[9]=e("strong",null,"Alert",-1)),M(" - "+n(t.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[3]||(s[3]=(...o)=>t.dismissMessage&&t.dismissMessage(...o)),"aria-label":"Close Alert Message"})])])):F("",!0)])]),_:1})}const we=P(Z,[["render",ye]]);export{we as default};
