import{_ as m,o as n,i as d,l as a,a1 as g,J as f,B as u}from"./vendor-ddfbd976.js";const c={props:{initialImageUrl:{type:String,default:""},flexStyle:{type:String,default:"0 0 calc(57% - 10px)"},aspectRatio:{type:String,default:"1 / 1"},imageType:{type:String,default:"website"}},data(){return{imageFile:null,isModalOpen:!1,showToast:!1}},methods:{triggerFileInput(){this.$refs.fileInput.click()},handleFileChange(t){const e=t.target.files[0];if(e)if(this.validateImage(e)&&this.validateImageSize(e)){const s=new FileReader;s.onload=o=>{this.imageFile={dataURL:o.target.result,name:e.name},this.$emit("image-selected",e)},s.readAsDataURL(e)}else this.showToastMessage()},validateImage(t){return/^image\//.test(t.type)},validateImageSize(t){return!0},removeImage(){this.imageFile=null,this.$emit("image-removed")},removeInitialImage(){this.$emit("image-removed")},openModal(){this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},showToastMessage(){this.showToast=!0,setTimeout(()=>{this.showToast=!1},3e3)},getFullImageUrl(t){switch(this.imageType){case"system-admin":return`/storage/uploads/system-admin/logo/${t}`;case"types":return`${t}`;case"user-profile":return`${t}`;case"banner":return`${t}`;case"fleet":return`${t}`;case"driver":return`${t}`;case"driver-documents":return`${t}`;case"owner-documents":return`${t}`;case"drivers-levelup":return`${t}`;case"push-notification":return`/storage/uploads/push-notification/images/${t}`;default:return`/storage/uploads/website/images/${t}`}}}},p={id:"image-container"},I={class:"d-flex flex-column align-items-center"},y=["src"],v=["src"],F={key:0,id:"fullscreen-modal"},h=["src"],C={key:1,id:"toast"};function x(t,e,s,o,r,l){return n(),d("div",null,[a("div",p,[!r.imageFile&&!s.initialImageUrl?(n(),d("div",{key:0,style:g({flex:s.flexStyle,aspectRatio:s.aspectRatio}),id:"image-slot",onClick:e[1]||(e[1]=(...i)=>l.triggerFileInput&&l.triggerFileInput(...i))},[a("div",I,[a("span",null,f(t.$t("upload_image")),1),e[11]||(e[11]=a("span",null,[a("i",{class:"ri-image-add-fill fs-24"})],-1))]),a("input",{type:"file",id:"image-upload",ref:"fileInput",onChange:e[0]||(e[0]=(...i)=>l.handleFileChange&&l.handleFileChange(...i)),style:{display:"none"}},null,544)],4)):s.initialImageUrl&&!r.imageFile?(n(),d("div",{key:1,style:g({flex:s.flexStyle,aspectRatio:s.aspectRatio}),class:"image-wrapper"},[a("img",{src:l.getFullImageUrl(s.initialImageUrl),onClick:e[2]||(e[2]=(...i)=>l.openModal&&l.openModal(...i))},null,8,y),a("div",{class:"image-options bg-light border border-danger text-danger rounded fs-5",onClick:e[3]||(e[3]=(...i)=>l.removeInitialImage&&l.removeInitialImage(...i))},"X"),a("div",{class:"image-upload-icon bg-light border border-success text-success rounded fs-5",onClick:e[4]||(e[4]=(...i)=>l.triggerFileInput&&l.triggerFileInput(...i))},e[12]||(e[12]=[a("i",{class:"ri-upload-fill"},null,-1)])),a("input",{type:"file",ref:"fileInput",onChange:e[5]||(e[5]=(...i)=>l.handleFileChange&&l.handleFileChange(...i)),style:{display:"none"}},null,544)],4)):(n(),d("div",{key:2,style:g({flex:s.flexStyle,aspectRatio:s.aspectRatio}),class:"image-wrapper"},[a("img",{src:r.imageFile.dataURL,onClick:e[6]||(e[6]=(...i)=>l.openModal&&l.openModal(...i))},null,8,v),a("div",{class:"image-options bg-light border border-danger text-danger rounded fs-5",onClick:e[7]||(e[7]=(...i)=>l.removeImage&&l.removeImage(...i))},"X"),a("div",{class:"image-upload-icon bg-light border border-success text-success rounded fs-5",onClick:e[8]||(e[8]=(...i)=>l.triggerFileInput&&l.triggerFileInput(...i))},e[13]||(e[13]=[a("i",{class:"ri-upload-fill"},null,-1)])),a("input",{type:"file",ref:"fileInput",onChange:e[9]||(e[9]=(...i)=>l.handleFileChange&&l.handleFileChange(...i)),style:{display:"none"}},null,544)],4))]),r.isModalOpen?(n(),d("div",F,[a("img",{src:r.imageFile?r.imageFile.dataURL:l.getFullImageUrl(s.initialImageUrl),alt:"",id:"fullscreen-image"},null,8,h),a("button",{id:"close-modal",onClick:e[10]||(e[10]=(...i)=>l.closeModal&&l.closeModal(...i))},"X")])):u("",!0),r.showToast?(n(),d("div",C," Delete ")):u("",!0)])}const k=m(c,[["render",x],["__scopeId","data-v-326fc6f4"]]);export{k as I};
