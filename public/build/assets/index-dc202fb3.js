import{_ as U,Z as A,O as N,P as I,z as q,C as z,r as b,T as E,Q as K,a2 as W,a as T,g as n,o as f,x as L,w as a,U as P,N as j,k as l,l as e,y as u,J as o,i as k,F as G,L as Q,B as F,q as Y,K as J}from"./vendor-ddfbd976.js";import{L as Z}from"./main-306a5ea6.js";import{P as X}from"./page-header-2dc95532.js";import{P as ee}from"./Pagination-f095ae3c.js";import{s as te}from"./search-2c17aadd.js";import{s as se}from"./searchbar-3acbc236.js";import{_ as oe}from"./search-file-ab3e1046.js";import"./footer-e648049d.js";import"./app-042fb454.js";const le={data(){return{rightOffcanvas:!1}},components:{Layout:Z,PageHeader:X,Head:A,Pagination:ee,Multiselect:N,flatPickr:I,Link:q,search:te,searchbar:se},props:{successMessage:String,alertMessage:String,serviceLocations:{type:Object,required:!0}},setup(s){const{t}=z(),y=b(""),i=E({all:"",locked:""}),p=b([]),R=b({}),C=b(!1),g=b(!1),m=b(null),w=b(s.successMessage||""),v=b(s.alertMessage||""),B=()=>{w.value="",v.value=""},S=()=>{g.value=!0},$=()=>{i.reset(),h(),g.value=!1},V=()=>{C.value=!1},M=async d=>{try{await T.delete(`/service-locations/delete/${d}`);const c=p.value.findIndex(_=>_.id===d);c!==-1&&p.value.splice(c,1),C.value=!1,P.fire("Success",t("delivery_cancellation_ride_deleted_successfully"),"success")}catch{P.fire(t("error"),t("failed_to_delete_delivery_cancellation_ride"),"error")}},D=async d=>{P.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async c=>{if(c.isConfirmed)try{await M(d)}catch(_){console.error(t("error_deleting_data"),_),P.fire(t("error"),t("failed_to_delete_the_data"),"error")}})};K(y,W.debounce(function(d){h(y.value)},300));const h=async(d=1)=>{try{const c=i.data();c.search=y.value,c.page=d;const _=await T.get("/service-locations/list",{params:c});p.value=_.data.results,R.value=_.data.paginator,g.value=!1}catch(c){console.error(t("error_fetching_delivery_cancellation_ride"),c)}};return{results:p,modalShow:C,deleteItemId:m,successMessage:w,alertMessage:v,filterData:S,deleteModal:D,closeModal:V,deleteData:M,dismissMessage:B,searchTerm:y,paginator:R,modalFilter:g,clearFilter:$,fetchDatas:h,filter:i,handlePageChanged:async d=>{h(d)},editData:async d=>{j.get(`/service-locations/edit/${d.id}`)}}},mounted(){this.fetchDatas()}},ae={class:"d-flex align-items-center gap-2"},ne={class:"table-responsive"},ie={class:"table align-middle position-relative table-nowrap"},re={class:"table-active"},de={scope:"col"},ce={scope:"col"},ue={scope:"col"},me={scope:"col"},fe={scope:"col"},pe={scope:"col"},_e={scope:"col"},be={scope:"col"},ge={scope:"col"},ve={scope:"col"},he={key:0},ke={class:"dropdown"},ye={class:"dropdown-menu dropdown-menu-end"},Ce={key:1},Be={colspan:"10",class:"text-center"},we={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},$e={class:"alert-content"},Me={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Pe={class:"alert-content"},Re={class:"offcanvas-body"},Se={class:"mb-4"},Ve={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},De={value:"All Tasks"},Le={value:"Completed"},Oe={value:"Inprogress"},xe={value:"Pending"},Te={value:"Pending"},Fe={class:"mb-4"},He={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ue={class:"form-check form-check-inline"},Ae={class:"form-check-label",for:"inlineRadio1"},Ne={class:"form-check form-check-inline"},Ie={class:"form-check-label",for:"inlineRadio1"},qe={class:"form-check form-check-inline"},ze={class:"form-check-label",for:"inlineRadio1"},Ee={class:"mb-4"},Ke={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},We={class:"mb-4"},je={for:"country-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ge={class:"mb-4"},Qe={for:"status-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ye={class:"form-check"},Je={class:"form-check-label",for:"inlineCheckbox1"},Ze={class:"form-check"},Xe={class:"form-check-label",for:"inlineCheckbox2"},et={class:"form-check"},tt={class:"form-check-label",for:"inlineCheckbox3"},st={class:"form-check"},ot={class:"form-check-label",for:"inlineCheckbox4"},lt={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function at(s,t,y,i,p,R){const C=n("Head"),g=n("PageHeader"),m=n("BCol"),w=n("searchbar"),v=n("BButton"),B=n("BRow"),S=n("BCardHeader"),$=n("BBadge"),V=n("Link"),M=n("BCardBody"),D=n("BCard"),h=n("flat-pickr"),O=n("Multiselect"),x=n("BFrom"),d=n("BOffcanvas"),c=n("Pagination"),_=n("Layout");return f(),L(_,null,{default:a(()=>[l(C,{title:"Delivery Cancellation Rides"}),l(g,{title:s.$t("delivery_cancellation_ride"),pageTitle:s.$t("delivery_cancellation_ride")},null,8,["title","pageTitle"]),l(B,null,{default:a(()=>[l(m,{lg:"12"},{default:a(()=>[l(D,{"no-body":"",id:"tasksList"},{default:a(()=>[l(S,{class:"border-0"},{default:a(()=>[l(B,{class:"g-2"},{default:a(()=>[l(m,{md:"3"}),l(m,{md:"auto",class:"ms-auto"},{default:a(()=>[e("div",ae,[l(w),l(v,{variant:"danger",onClick:t[0]||(t[0]=r=>p.rightOffcanvas=!0)},{default:a(()=>[t[7]||(t[7]=e("i",{class:"ri-filter-2-line me-1 align-bottom"},null,-1)),u(" "+o(s.$t("filters")),1)]),_:1,__:[7]})])]),_:1})]),_:1})]),_:1}),l(M,{class:"border border-dashed border-end-0 border-start-0"},{default:a(()=>[e("div",ne,[e("table",ie,[e("thead",re,[e("tr",null,[e("th",de,o(s.$t("s_no")),1),e("th",ce,o(s.$t("request_id")),1),e("th",ue,o(s.$t("date")),1),e("th",me,o(s.$t("user_name")),1),e("th",fe,o(s.$t("driver_name")),1),e("th",pe,o(s.$t("cancellation_by")),1),e("th",_e,o(s.$t("cancellation_reason")),1),e("th",be,o(s.$t("cancellation_fee")),1),e("th",ge,o(s.$t("paid")),1),e("th",ve,o(s.$t("action")),1)])]),i.results.length>0?(f(),k("tbody",he,[(f(!0),k(G,null,Q(i.results,(r,H)=>(f(),k("tr",{key:H},[t[12]||(t[12]=e("td",null,"1",-1)),t[13]||(t[13]=e("td",null,"REQ_1719468991",-1)),t[14]||(t[14]=e("td",null,"11/07/2024",-1)),t[15]||(t[15]=e("td",null,"Test",-1)),t[16]||(t[16]=e("td",null,"Test",-1)),t[17]||(t[17]=e("td",null,"User",-1)),t[18]||(t[18]=e("td",null,"-",-1)),t[19]||(t[19]=e("td",null,"-",-1)),e("td",null,[r.active==1?(f(),L($,{key:0,variant:"success",class:"text-uppercase"},{default:a(()=>t[8]||(t[8]=[u("Cash")])),_:1,__:[8]})):(f(),L($,{key:1,variant:"danger",class:"text-uppercase"},{default:a(()=>t[9]||(t[9]=[u("Card/Online")])),_:1,__:[9]}))]),e("td",null,[e("div",ke,[t[11]||(t[11]=e("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("span",{class:"text-muted fs-18"},[e("i",{class:"mdi mdi-dots-vertical"})])],-1)),e("ul",ye,[l(V,{class:"dropdown-item",href:"/delivery-cancellation-rides/view"},{default:a(()=>[t[10]||(t[10]=e("i",{class:"bx bx-show-alt align-center text-muted me-2"},null,-1)),u(" "+o(s.$t("view")),1)]),_:1,__:[10]})])])])]))),128))])):(f(),k("tbody",Ce,[e("tr",null,[e("td",Be,[t[20]||(t[20]=e("img",{src:oe,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,o(s.$t("no_data_found")),1)])])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[i.successMessage?(f(),k("div",we,[e("div",$e,[t[21]||(t[21]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[22]||(t[22]=u()),t[23]||(t[23]=e("strong",null,"Success",-1)),u(" - "+o(i.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[1]||(t[1]=(...r)=>i.dismissMessage&&i.dismissMessage(...r)),"aria-label":"Close Success Message"})])])):F("",!0),i.alertMessage?(f(),k("div",Me,[e("div",Pe,[t[24]||(t[24]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[25]||(t[25]=u()),t[26]||(t[26]=e("strong",null,"Alert",-1)),u(" - "+o(i.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[2]||(t[2]=(...r)=>i.dismissMessage&&i.dismissMessage(...r)),"aria-label":"Close Alert Message"})])])):F("",!0)]),l(d,{modelValue:p.rightOffcanvas,"onUpdate:modelValue":t[6]||(t[6]=r=>p.rightOffcanvas=r),placement:"end",title:s.$t("leads_filters"),"header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:a(()=>[l(x,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:a(()=>[e("div",Re,[e("div",Se,[e("label",Ve,o(s.$t("process")),1),Y(e("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":t[3]||(t[3]=r=>s.status=r)},[e("option",De,o(s.$t("all")),1),e("option",Le,o(s.$t("completed")),1),e("option",Oe,o(s.$t("inprogress")),1),e("option",xe,o(s.$t("pending")),1),e("option",Te,o(s.$t("cancelled")),1)],512),[[J,s.status]])]),e("div",Fe,[e("label",He,o(s.$t("payment")),1),e("div",null,[e("div",Ue,[t[27]||(t[27]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio1",value:"option1"},null,-1)),e("label",Ae,o(s.$t("online")),1)]),e("div",Ne,[t[28]||(t[28]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio2",value:"option2"},null,-1)),e("label",Ie,o(s.$t("card")),1)]),e("div",qe,[t[29]||(t[29]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio3",value:"option3"},null,-1)),e("label",ze,o(s.$t("cash")),1)])])]),e("div",Ee,[e("label",Ke,o(s.$t("date")),1),l(h,{placeholder:s.$t("select_date"),modelValue:s.date,"onUpdate:modelValue":t[4]||(t[4]=r=>s.date=r),config:s.rangeDateconfig,class:"form-control flatpickr-input",id:"demo-datepicker"},null,8,["placeholder","modelValue","config"])]),e("div",We,[e("label",je,o(s.$t("country")),1),l(O,{class:"form-control",modelValue:s.value,"onUpdate:modelValue":t[5]||(t[5]=r=>s.value=r),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Select country"},{value:"Argentina",label:"Argentina"},{value:"Belgium",label:"Belgium"},{value:"Brazil",label:"Brazil"},{value:"Colombia",label:"Colombia"},{value:"Denmark",label:"Denmark"},{value:"France",label:"France"},{value:"Germany",label:"Germany"},{value:"Mexico",label:"Mexico"},{value:"Russia",label:"Russia"},{value:"Spain",label:"Spain"},{value:"Syria",label:"Syria"},{value:"United Kingdom",label:"United Kingdom"}]},null,8,["modelValue"])]),e("div",Ge,[e("label",Qe,o(s.$t("status")),1),l(B,{class:"g-2"},{default:a(()=>[l(m,{lg:"6"},{default:a(()=>[e("div",Ye,[t[30]||(t[30]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox1",value:"option1"},null,-1)),e("label",Je,o(s.$t("active")),1)])]),_:1}),l(m,{lg:"6"},{default:a(()=>[e("div",Ze,[t[31]||(t[31]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox2",value:"option2"},null,-1)),e("label",Xe,o(s.$t("inactive")),1)])]),_:1}),l(m,{lg:"6"},{default:a(()=>[e("div",et,[t[32]||(t[32]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox3",value:"option3"},null,-1)),e("label",tt,o(s.$t("cash")),1)])]),_:1}),l(m,{lg:"6"},{default:a(()=>[e("div",st,[t[33]||(t[33]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox4",value:"option4"},null,-1)),e("label",ot,o(s.$t("card")),1)])]),_:1})]),_:1})]),t[34]||(t[34]=e("div",null,null,-1))]),e("div",lt,[l(v,{variant:"light",class:"w-100"},{default:a(()=>[u(o(s.$t("clear_filter")),1)]),_:1}),l(v,{type:"submit",variant:"success",class:"w-100"},{default:a(()=>[u(o(s.$t("apply")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue","title"]),l(c,{paginator:i.paginator,onPageChanged:i.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const _t=U(le,[["render",at]]);export{_t as default};
