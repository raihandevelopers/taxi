import{_ as N,Z as U,O as A,P as I,z as q,C as z,r as b,T as E,Q as K,a2 as W,a as T,g as i,o as c,x as g,w as l,U as x,N as j,k as a,l as e,y as d,J as o,i as C,F as G,L as Q,B as F,q as Y,K as J}from"./vendor-ddfbd976.js";import{L as Z}from"./main-306a5ea6.js";import{P as X}from"./page-header-2dc95532.js";import{P as ee}from"./Pagination-f095ae3c.js";import{s as te}from"./search-2c17aadd.js";import{s as se}from"./searchbar-3acbc236.js";import{_ as oe}from"./search-file-ab3e1046.js";import"./footer-e648049d.js";import"./app-042fb454.js";const le={data(){return{rightOffcanvas:!1}},components:{Layout:Z,PageHeader:X,Head:U,Pagination:ee,Multiselect:A,flatPickr:I,Link:q,search:te,searchbar:se},props:{successMessage:String,alertMessage:String,serviceLocations:{type:Object,required:!0}},setup(s){const{t}=z(),B=b(""),r=E({all:"",locked:""}),_=b([]),R=b({}),w=b(!1),h=b(!1),m=b(null),M=b(s.successMessage||""),k=b(s.alertMessage||""),$=()=>{M.value="",k.value=""},S=()=>{h.value=!0},f=()=>{r.reset(),y(),h.value=!1},V=()=>{w.value=!1},P=async u=>{try{await T.delete(`/service-locations/delete/${u}`);const p=_.value.findIndex(v=>v.id===u);p!==-1&&_.value.splice(p,1),w.value=!1,x.fire(t("success"),t("delivery_scheduled_rides_deleted_successfully"),"success")}catch{x.fire(t("error"),t("failed_to_delete_delivery_scheduled_rides"),"error")}},D=async u=>{x.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async p=>{if(p.isConfirmed)try{await P(u)}catch(v){console.error(t("error_deleting_data"),v),x.fire(t("error"),t("failed_to_delete_the_data"),"error")}})};K(B,W.debounce(function(u){y(B.value)},300));const y=async(u=1)=>{try{const p=r.data();p.search=B.value,p.page=u;const v=await T.get("/service-locations/list",{params:p});_.value=v.data.results,R.value=v.data.paginator,h.value=!1}catch(p){console.error(t("error_fetching_delivery_scheduled_rides"),p)}};return{results:_,modalShow:w,deleteItemId:m,successMessage:M,alertMessage:k,filterData:S,deleteModal:D,closeModal:V,deleteData:P,dismissMessage:$,searchTerm:B,paginator:R,modalFilter:h,clearFilter:f,fetchDatas:y,filter:r,handlePageChanged:async u=>{y(u)},editData:async u=>{j.get(`/service-locations/edit/${u.id}`)}}},mounted(){this.fetchDatas()}},ae={class:"d-flex align-items-center gap-2"},ne={class:"table-responsive"},ie={class:"table align-middle position-relative table-nowrap"},re={class:"table-active"},de={scope:"col"},ce={scope:"col"},ue={scope:"col"},pe={scope:"col"},me={scope:"col"},fe={scope:"col"},_e={scope:"col"},ve={scope:"col"},be={scope:"col"},ge={scope:"col"},he={key:0},ke={class:"dropdown"},ye={class:"dropdown-menu dropdown-menu-end"},Ce={key:1},Be={colspan:"10",class:"text-center"},we={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},$e={class:"alert-content"},Me={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Pe={class:"alert-content"},xe={class:"offcanvas-body"},Re={class:"mb-4"},Se={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ve={value:"All Tasks"},De={value:"Completed"},Le={value:"Inprogress"},Oe={value:"Pending"},Te={value:"Pending"},Fe={class:"mb-4"},He={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ne={class:"form-check form-check-inline"},Ue={class:"form-check-label",for:"inlineRadio1"},Ae={class:"form-check form-check-inline"},Ie={class:"form-check-label",for:"inlineRadio1"},qe={class:"form-check form-check-inline"},ze={class:"form-check-label",for:"inlineRadio1"},Ee={class:"mb-4"},Ke={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},We={class:"mb-4"},je={for:"country-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ge={class:"mb-4"},Qe={for:"status-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ye={class:"form-check"},Je={class:"form-check-label",for:"inlineCheckbox1"},Ze={class:"form-check"},Xe={class:"form-check-label",for:"inlineCheckbox2"},et={class:"form-check"},tt={class:"form-check-label",for:"inlineCheckbox3"},st={class:"form-check"},ot={class:"form-check-label",for:"inlineCheckbox4"},lt={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function at(s,t,B,r,_,R){const w=i("Head"),h=i("PageHeader"),m=i("BCol"),M=i("searchbar"),k=i("BButton"),$=i("BRow"),S=i("BCardHeader"),f=i("BBadge"),V=i("Link"),P=i("BCardBody"),D=i("BCard"),y=i("flat-pickr"),L=i("Multiselect"),O=i("BFrom"),u=i("BOffcanvas"),p=i("Pagination"),v=i("Layout");return c(),g(v,null,{default:l(()=>[a(w,{title:"Delivery Scheduled Rides"}),a(h,{title:s.$t("delivery_scheduled_ride"),pageTitle:s.$t("delivery_scheduled_ride")},null,8,["title","pageTitle"]),a($,null,{default:l(()=>[a(m,{lg:"12"},{default:l(()=>[a(D,{"no-body":"",id:"tasksList"},{default:l(()=>[a(S,{class:"border-0"},{default:l(()=>[a($,{class:"g-2"},{default:l(()=>[a(m,{md:"3"}),a(m,{md:"auto",class:"ms-auto"},{default:l(()=>[e("div",ae,[a(M),a(k,{variant:"danger",onClick:t[0]||(t[0]=n=>_.rightOffcanvas=!0)},{default:l(()=>[t[7]||(t[7]=e("i",{class:"ri-filter-2-line me-1 align-bottom"},null,-1)),d(" "+o(s.$t("filters")),1)]),_:1,__:[7]})])]),_:1})]),_:1})]),_:1}),a(P,{class:"border border-dashed border-end-0 border-start-0"},{default:l(()=>[e("div",ne,[e("table",ie,[e("thead",re,[e("tr",null,[e("th",de,o(s.$t("s_no")),1),e("th",ce,o(s.$t("request_id")),1),e("th",ue,o(s.$t("date")),1),e("th",pe,o(s.$t("user_name")),1),e("th",me,o(s.$t("driver_name")),1),e("th",fe,o(s.$t("no_of_attempts")),1),e("th",_e,o(s.$t("trip_status")),1),e("th",ve,o(s.$t("paid")),1),e("th",be,o(s.$t("payment_option")),1),e("th",ge,o(s.$t("action")),1)])]),r.results.length>0?(c(),C("tbody",he,[(c(!0),C(G,null,Q(r.results,(n,H)=>(c(),C("tr",{key:H},[t[17]||(t[17]=e("td",null,"1",-1)),t[18]||(t[18]=e("td",null,"REQ_1719468991",-1)),t[19]||(t[19]=e("td",null,"11/07/2024",-1)),t[20]||(t[20]=e("td",null,"Test",-1)),t[21]||(t[21]=e("td",null,"Test",-1)),t[22]||(t[22]=e("td",null,"-",-1)),e("td",null,[n.active==1?(c(),g(f,{key:0,variant:"success",class:"text-uppercase"},{default:l(()=>t[8]||(t[8]=[d("Completed")])),_:1,__:[8]})):n.active==2?(c(),g(f,{key:1,variant:"success",class:"text-uppercase"},{default:l(()=>t[9]||(t[9]=[d("Cancelled")])),_:1,__:[9]})):(c(),g(f,{key:2,variant:"danger",class:"text-uppercase"},{default:l(()=>t[10]||(t[10]=[d("Not Started")])),_:1,__:[10]}))]),e("td",null,[n.active==1?(c(),g(f,{key:0,variant:"success",class:"text-uppercase"},{default:l(()=>t[11]||(t[11]=[d("Paid")])),_:1,__:[11]})):(c(),g(f,{key:1,variant:"danger",class:"text-uppercase"},{default:l(()=>t[12]||(t[12]=[d("Not Paid")])),_:1,__:[12]}))]),e("td",null,[n.active==1?(c(),g(f,{key:0,variant:"success",class:"text-uppercase"},{default:l(()=>t[13]||(t[13]=[d("Cash")])),_:1,__:[13]})):(c(),g(f,{key:1,variant:"danger",class:"text-uppercase"},{default:l(()=>t[14]||(t[14]=[d("Card/Online")])),_:1,__:[14]}))]),e("td",null,[e("div",ke,[t[16]||(t[16]=e("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("span",{class:"text-muted fs-18"},[e("i",{class:"mdi mdi-dots-vertical"})])],-1)),e("ul",ye,[a(V,{class:"dropdown-item",href:"/delivery-scheduled-rides/view"},{default:l(()=>[t[15]||(t[15]=e("i",{class:"bx bx-show-alt align-center text-muted me-2"},null,-1)),d(" "+o(s.$t("view")),1)]),_:1,__:[15]})])])])]))),128))])):(c(),C("tbody",Ce,[e("tr",null,[e("td",Be,[t[23]||(t[23]=e("img",{src:oe,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,o(s.$t("no_data_found")),1)])])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[r.successMessage?(c(),C("div",we,[e("div",$e,[t[24]||(t[24]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[25]||(t[25]=d()),t[26]||(t[26]=e("strong",null,"Success",-1)),d(" - "+o(r.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[1]||(t[1]=(...n)=>r.dismissMessage&&r.dismissMessage(...n)),"aria-label":"Close Success Message"})])])):F("",!0),r.alertMessage?(c(),C("div",Me,[e("div",Pe,[t[27]||(t[27]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[28]||(t[28]=d()),t[29]||(t[29]=e("strong",null,"Alert",-1)),d(" - "+o(r.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[2]||(t[2]=(...n)=>r.dismissMessage&&r.dismissMessage(...n)),"aria-label":"Close Alert Message"})])])):F("",!0)]),a(u,{modelValue:_.rightOffcanvas,"onUpdate:modelValue":t[6]||(t[6]=n=>_.rightOffcanvas=n),placement:"end",title:s.$t("leads_filters"),"header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:l(()=>[a(O,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:l(()=>[e("div",xe,[e("div",Re,[e("label",Se,o(s.$t("process")),1),Y(e("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":t[3]||(t[3]=n=>s.status=n)},[e("option",Ve,o(s.$t("all")),1),e("option",De,o(s.$t("completed")),1),e("option",Le,o(s.$t("inprogress")),1),e("option",Oe,o(s.$t("pending")),1),e("option",Te,o(s.$t("cancelled")),1)],512),[[J,s.status]])]),e("div",Fe,[e("label",He,o(s.$t("payment")),1),e("div",null,[e("div",Ne,[t[30]||(t[30]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio1",value:"option1"},null,-1)),e("label",Ue,o(s.$t("online")),1)]),e("div",Ae,[t[31]||(t[31]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio2",value:"option2"},null,-1)),e("label",Ie,o(s.$t("card")),1)]),e("div",qe,[t[32]||(t[32]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio3",value:"option3"},null,-1)),e("label",ze,o(s.$t("cash")),1)])])]),e("div",Ee,[e("label",Ke,o(s.$t("date")),1),a(y,{placeholder:s.$t("select_date"),modelValue:s.date,"onUpdate:modelValue":t[4]||(t[4]=n=>s.date=n),config:s.rangeDateconfig,class:"form-control flatpickr-input",id:"demo-datepicker"},null,8,["placeholder","modelValue","config"])]),e("div",We,[e("label",je,o(s.$t("country")),1),a(L,{class:"form-control",modelValue:s.value,"onUpdate:modelValue":t[5]||(t[5]=n=>s.value=n),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Select country"},{value:"Argentina",label:"Argentina"},{value:"Belgium",label:"Belgium"},{value:"Brazil",label:"Brazil"},{value:"Colombia",label:"Colombia"},{value:"Denmark",label:"Denmark"},{value:"France",label:"France"},{value:"Germany",label:"Germany"},{value:"Mexico",label:"Mexico"},{value:"Russia",label:"Russia"},{value:"Spain",label:"Spain"},{value:"Syria",label:"Syria"},{value:"United Kingdom",label:"United Kingdom"}]},null,8,["modelValue"])]),e("div",Ge,[e("label",Qe,o(s.$t("status")),1),a($,{class:"g-2"},{default:l(()=>[a(m,{lg:"6"},{default:l(()=>[e("div",Ye,[t[33]||(t[33]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox1",value:"option1"},null,-1)),e("label",Je,o(s.$t("active")),1)])]),_:1}),a(m,{lg:"6"},{default:l(()=>[e("div",Ze,[t[34]||(t[34]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox2",value:"option2"},null,-1)),e("label",Xe,o(s.$t("inactive")),1)])]),_:1}),a(m,{lg:"6"},{default:l(()=>[e("div",et,[t[35]||(t[35]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox3",value:"option3"},null,-1)),e("label",tt,o(s.$t("cash")),1)])]),_:1}),a(m,{lg:"6"},{default:l(()=>[e("div",st,[t[36]||(t[36]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox4",value:"option4"},null,-1)),e("label",ot,o(s.$t("card")),1)])]),_:1})]),_:1})]),t[37]||(t[37]=e("div",null,null,-1))]),e("div",lt,[a(k,{variant:"light",class:"w-100"},{default:l(()=>[d(o(s.$t("clear_filter")),1)]),_:1}),a(k,{type:"submit",variant:"success",class:"w-100"},{default:l(()=>[d(o(s.$t("apply")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue","title"]),a(p,{paginator:r.paginator,onPageChanged:r.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const _t=N(le,[["render",at]]);export{_t as default};
