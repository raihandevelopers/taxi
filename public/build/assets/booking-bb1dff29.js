import{_ as Oe,Z as je,z as Ge,Y as He,P as ze,R as Ne,U as A,C as Ke,r as b,T as ge,Q as U,$ as Xe,a as Z,a0 as he,D as ye,G as We,g as E,o as u,x as Je,w as C,k as w,l as e,y as $,J as _,q as x,K as de,i as p,L as S,F as I,M as j,B as M,H as Ye,W as Qe,a8 as Ze,n as $e}from"./vendor-ddfbd976.js";import{L as et}from"./main-306a5ea6.js";import{P as tt}from"./page-header-2dc95532.js";import{F as ot}from"./FormValidation-a9047131.js";import{i as st}from"./app-042fb454.js";import{_ as at}from"./UserWebMenu-2e0e812c.js";import{g as lt}from"./googleMap-1f997b81.js";import"./footer-e648049d.js";const it={data(){return{rightOffcanvas:!1,isPocSame:!1,form:{is_later:"",assign_method:1,name:"",mobile:"",drop_poc_name:"",drop_poc_mobile:""},dateTimeConfig:{enableTime:!0,dateFormat:"Y-m-d H:i:ss"}}},watch:{isPocSame(l){l?(this.form.drop_poc_name=this.form.name,this.form.drop_poc_mobile=this.form.mobile):(this.form.drop_poc_name="",this.form.drop_poc_mobile="")},"form.name"(l){this.isPocSame&&(this.form.drop_poc_name=l)},"form.mobile"(l){this.isPocSame&&(this.form.drop_poc_mobile=l)}},components:{Layout:et,PageHeader:tt,Head:je,Link:Ge,Scrollbar:He,FormValidation:ot,googleMap:lt,flatPickr:ze,UserWebMenu:at},computed:{...Ne(["permissions"]),transport_options(){let l=[];return this.form.ride_type==="regular"&&(l=this.transport_type_regular,this.form.transport_type=l[0],console.log("regular",l)),l.length===1&&(this.form.transport_type=l[0]),l}},props:{countries:Array,default_flag:String,default_dial_code:String,successMessage:String,alertMessage:String,validate:Function,transport_type_regular:Array,ride_type_for_ride:Array,is_rental:Boolean,goodsTypes:Array,user:Object,firebaseSettings:Object,map_key:String,baseUrl:String,default_location:Object,enable_ride_without_destination:Boolean},methods:{timer(){let l;A.fire({title:"Booking alert!",html:"Your Ride has been Booked <b></b> Successfully.",timer:2e3,timerProgressBar:!0,onBeforeOpen:()=>{A.showLoading(),l=setInterval(()=>{A.getContent().querySelector("b").textContent=A.getTimerLeft()},100)},onClose:()=>{clearInterval(l)}}).then(i=>{i.dismiss===A.DismissReason.timer&&console.log("I was closed by the timer")})}},setup(l){const{t:i}=Ke(),T=b({dial_code:l.default_dial_code||"",flag:l.default_flag||""}),s=b(null),a=ge({mobile:l.user.mobile,name:l.user.name,user_id:l.user.id,pick_address:"",drop_address:"",terminal:null,enterance:null,pick_lat:"",pick_lng:"",drop_lat:null,drop_lng:null,vehicle_type:null,payment_opt:1,goods_type_id:null,transport_type:"",pickup_poc_name:null,drop_poc_name:null,goods_type_quantity:null,is_later:0,assign_method:1,is_rental:0,rental_package_id:null,ride_type:"regular",stops:null,trip_start_time:null,country:l.default_dial_code,drop_poc_mobile:null,distance:0,duration:0}),ee=b("-"),oe=b(!1),se=b(!1),D=b(null),L=b(null);b(null);const G=b([]),z=b([]),W=b([]),ae={pick_address:{required:!0},transport_type:{required:!0},vehicle_type:{required:!0}},n=b({}),J=b(null),o=b([]),h=b([]),N=b([]),le=b([]),te=b(null),ie=b(null),v=ge({pick_lat:"",pick_lng:"",drop_lat:"",drop_lng:"",distance:0,distance_in_unit:0,duration:0}),ce=b("0m");U(()=>v.duration,t=>{const m=Math.floor(t/60),c=t%60;ce.value=m>0?`${m}h ${c}m`:`${c}m`});const be=async()=>{var g;const t=[],m={latitude:v.pick_lat,longitude:v.pick_lng};if(t.push(m),Array.isArray(k)&&k.forEach(r=>{const y={latitude:r.latitude,longitude:r.longitude};t.push(y)}),v.drop_lat){const r={latitude:v.drop_lat,longitude:v.drop_lng};t.push(r)}const c={address:t,ride_type:a.ride_type};try{const r=await Z.post("/dispatch/serviceVerify",c)}catch(r){if(r.response&&r.response.status===422)n.value=r.response.data.errors;else if(r.response&&r.response.status===500){if(r.response.data.message=="service not available with this location")n.value.pick_address=[i("service_unavailable")];else if(r.response.data.message=="Outstation service not available within this location")delete n.value.pick_address,n.value.drop_address=[i("outstation_service_unavailable")];else if(r.response.data.message=="Pick up and Drop should not be in the same zone")delete n.value.pick_address,n.value.drop_address=[i("same_zone_outstation_unavailable")];else{const y=r.response.data;delete n.value.pick_address,delete n.value.drop_address,t.forEach((d,f)=>{n.value.stop||(n.value.stop={}),f!==0&&(f!==t.length?y[f].available?n.value.stop[f]=[i("ride_service_unavailable")]:delete n.value.stop[f]:y[f].available?n.value.drop_address=[i("ride_service_unavailable")]:delete n.value.drop_address)})}return(g=n.value)!=null&&g.stop&&Object.keys(n.value.stop).length==0&&delete n.value.stop,_e(n)}else console.error(i("error_creating_vehicle_price"),r),Y.value=i("failed_to_make_booking_contact_admin")}},ke=t=>{t=="pickup"?a.pick_address.length<3?G.value=[]:setTimeout(()=>{re(a.pick_address,t)},300):t=="drop"&&(a.drop_address.length<3?z.value=[]:setTimeout(()=>{re(a.drop_address,t)},300))},q=async()=>{var t;return n.value=J.value.validate(),v.pick_lat&&await be(),a.is_later&&(a.trip_start_time?delete n.value.trip_start_time:n.value.trip_start_time=[i("required")]),a.is_rental?(a.drop_lat="",a.drop_lng="",v.drop_lat="",v.drop_lng="",v.distance=0,v.duration=0,a.drop_address="",ie.value=null,K.value="",H.value={},k.length>0&&(k.forEach((m,c)=>{delete h.value[c]}),k.length=0),a.rental_package_id?delete n.value.rental_package_id:n.value.rental_package_id=[i("required")]):(!l.enable_ride_without_destination||a.is_out_station)&&!a.drop_address&&a.drop_address.length==0?n.value.drop_address=[i("required")]:delete n.value.drop_address,a.is_out_station&&(a.trip_start_time?delete n.value.trip_start_time:n.value.trip_start_time=[i("required")]),a.is_out_station&&a.is_round_trip&&(a.return_time?delete n.value.return_time:n.value.return_time=[i("required")]),a.transport_type=="delivery"&&(a.goods_type_id?delete n.value.goods_type_id:n.value.goods_type_id=[i("required")],a.drop_poc_name?delete n.value.drop_poc_name:n.value.drop_poc_name=[i("required")],a.drop_poc_mobile?delete n.value.drop_poc_mobile:n.value.drop_poc_mobile=[i("required")]),k.length>0&&k.forEach((m,c)=>{n.value.stop||(n.value.stop={}),m.latitude?n.value.stop[c]&&delete n.value.stop[c]:n.value.stop[c]=[i("required")]}),(t=n.value)!=null&&t.stop&&Object.keys(n.value.stop).length==0&&delete n.value.stop,_e(n)},_e=t=>Object.keys(t.value).length>0?(B.value=!1,s.value&&(s.value.scrollTop=0),!1):(F(),delete t.value.stop,B.value=!0,!0),B=b(!1),ue=b(l.successMessage||""),Y=b(l.alertMessage||""),re=(t,m,c=null)=>{const g="https://places.googleapis.com/v1/places:autocomplete",r={"Content-Type":"application/json","X-Goog-Api-Key":l.map_key,"X-Goog-FieldMask":"suggestions.placePrediction.placeId,suggestions.placePrediction.place,suggestions.placePrediction.text"};fetch(g,{method:"POST",headers:r,body:JSON.stringify({input:t})}).then(d=>d.json()).then(d=>{d.suggestions.length>0&&(m=="pickup"?G.value=d.suggestions.filter(f=>f.placePrediction).map(f=>({placeId:f.placePrediction.placeId,formattedAddress:f.placePrediction.text.text})):m=="drop"?z.value=d.suggestions.filter(f=>f.placePrediction).map(f=>({placeId:f.placePrediction.placeId,formattedAddress:f.placePrediction.text.text})):m=="stop"&&(W.value[c]=d.suggestions.filter(f=>f.placePrediction).map(f=>({placeId:f.placePrediction.placeId,formattedAddress:f.placePrediction.text.text}))))}).catch(d=>{console.error("Error fetching autocomplete results:",d)})},Me=async(t,m,c=null)=>{const g={"X-Goog-Api-Key":l.map_key,"X-Goog-FieldMask":"types,location"};fetch(`https://places.googleapis.com/v1/places/${t.placeId}?fields=types,location`,{headers:g}).then(r=>r.json()).then(r=>{if(m=="pickup"){v.pick_lat=r.location.latitude,v.pick_lng=r.location.longitude,a.pick_address=t.formattedAddress;const y={lat:r.location.latitude,lng:r.location.longitude};D.value=y,G.value=[]}else if(m=="drop"){v.drop_lat=r.location.latitude,v.drop_lng=r.location.longitude,a.drop_address=t.formattedAddress;const y={lat:r.location.latitude,lng:r.location.longitude};L.value=y,z.value=[]}else if(m=="stop"){a.drop_address=t.formattedAddress,W.value[c]=[],k[c].address=t.formatted_address,k[c].latitude=r.location.latitude,k[c].longitude=r.location.longitude;const y={lat:r.location.latitude,lng:r.location.longitude};h[c]=y}pe()}).catch(r=>{console.error("Error fetching autocomplete results:",r)})},K=b(""),we=()=>{ue.value="",Y.value=""},k=Xe([]),Se=5,Ie=()=>{console.log("stopovers-length"),console.log(k.length),k.length<Se?(k.push({address:"",latitude:null,longitude:null}),k.length==0&&addStopMarker(0),k.forEach((t,m)=>{addStopMarker(m)})):A.fire(i("maximum_stopovers_reached"),i("you_can_add_up_to_5_stopovers_only"),"warning")},Pe=t=>{h[t]&&h[t].setMap(null),k.splice(t,1),k.forEach((m,c)=>{addStopMarker(c)}),t>0&&pe()},H=b({});U(()=>v.pick_lat,async t=>{t&&(q(),F())}),U(()=>v.drop_lat,async t=>{t&&v.pick_lat&&q()}),U(()=>v.distance,async t=>{a.ride_type=="rental"?v.pick_lat&&v.pick_lng&&await F():v.pick_lat&&v.pick_lng&&v.drop_lat&&v.drop_lng&&await F()});const pe=async()=>{if(v.distance=0,v.duration=0,K.value.length&&(K.value=""),!D.value||!L.value)return;const t="https://routes.googleapis.com/directions/v2:computeRoutes",m={origin:{location:{latLng:{latitude:D.value.lat,longitude:D.value.lng}}},destination:{location:{latLng:{latitude:L.value.lat,longitude:L.value.lng}}},travelMode:"DRIVE",routingPreference:"TRAFFIC_AWARE",computeAlternativeRoutes:!1,routeModifiers:{avoidTolls:!1,avoidHighways:!1,avoidFerries:!1},languageCode:"en-US",units:"IMPERIAL"};m.intermediates=k.map(g=>({location:new google.maps.LatLng(g.latitude,g.longitude)}));const c={"Content-Type":"application/json","X-Goog-Api-Key":l.map_key,"X-Goog-FieldMask":"routes.duration,routes.distanceMeters,routes.polyline.encodedPolyline,routes.viewport"};Z.post(t,m,{headers:c}).then(g=>{var y,d;const r=(y=g.data.routes)==null?void 0:y[0];r&&(v.distance=r.distanceMeters,v.duration=Math.round(parseInt(r.duration.slice(0,-1))/60),(d=r.polyline)!=null&&d.encodedPolyline&&(K.value=r.polyline.encodedPolyline),F(),n.value.map&&delete n.value.map)}).catch(g=>{n.value.map=i("service_not_available"),console.error("Error:",g)})},F=async()=>{if(q()){if(a.is_rental)return B.value=!1,loadRentalPack(),!1;B.value=!0}else return B.value=!1,!1;le.value=[];const{pick_lat:t,pick_lng:m,drop_lat:c,drop_lng:g,distance:r,duration:y}=v.data(),d={pick_lat:t,pick_lng:m,distance:r,duration:y};d.transport_type=a.transport_type,c&&(d.drop_lat=c),g&&(d.drop_lng=g),a.is_out_station&&(d.is_out_station=1,a.trip_start_time&&(d.trip_start_time=a.trip_start_time),a.return_time&&(d.return_time=a.return_time)),d.dispatch=1,k.length>0&&(d.stops=JSON.stringify(k));const f=await Z.post("/dispatch/request/eta",d);o.value=f.data.data,o.value.length>0&&(o.value[0].unit_in_words=="MILES"?(v.distance_in_unit=v.distance*.621371,ee.value=i("miles")):(v.distance_in_unit=v.distance,ee.value=i("km"))),fe(te.value)},xe=(t,m)=>{const c=qe(m);return o.value.forEach(g=>{t.vehicle_types&&t.vehicle_types.includes(g.type_id)&&(!g.driver_distance||g.driver_distance>m)&&(g.driver_time=c)}),!0};function Ce(t,m,c,g,r,y=1e3){const d=performance.now();function f(V){const O=V-d,R=Math.min(O/y,1),X=m+(g-m)*R,P=c+(r-c)*R;t.lat=X,t.lng=P,R<1&&requestAnimationFrame(f)}requestAnimationFrame(f)}U(()=>a.vehicle_type,async t=>{t&&(fe(te.value),q()?B.value=!0:B.value=!1)}),U(()=>a.transport_type,async t=>{t&&(t=="taxi"?a.goods_type_quantity=null:a.goods_type_quantity=a.goods_type_quantity??0,a.pick_address&&q()&&F())}),U(()=>a.ride_type,async t=>{a.pick_address&&q()&&F()});const me=he(t=>{t&&a.vehicle_type?(s.value.scrollTop=s.value.scrollHeight,B.value=!0):B.value=!1},300);U(()=>a.name,async t=>{me(t),a.pick_address&&q()}),U(()=>a.return_time,async t=>{t&&await F()});const fe=t=>{o.value.forEach(c=>{c.driver_time=null}),firebase.database().ref("drivers").on("value",c=>{c.forEach(g=>{var O,R;const r=g.val(),y=r.g,d=Be(y);if(d){const X=Ae(t.lat,t.lng,d.lat,d.lon);var f=!0;if(a.vehicle_type){f=!1;var V=(R=(O=o.value)==null?void 0:O.find(P=>P.zone_type_id===a.vehicle_type))==null?void 0:R.type_id;V&&r.vehicle_types&&r.vehicle_types.includes(V)&&(f=!0)}if(X<=10&&r.is_available&&r.is_active&&f){xe(r,X);const P=H.value[r.id];P?P.lat!==d.lat&&P.lng!==d.lon&&Ce(P,P.lat,P.lng,d.lat,d.lon):H.value[r.id]={lat:d.lat,lng:d.lon,type_icon:r.vehicle_type_icon}}else H.value[r.id]&&delete H.value[r.id]}})})},qe=t=>t<2?"3 Mins":t>2&&t<5?"5 Mins":t>5&&t<7?"10 Mins":"15 mins",Be=t=>{const m="0123456789bcdefghjkmnpqrstuvwxyz",c=[16,8,4,2,1];let g=!0,r=-90,y=90,d=-180,f=180,V,O;if(t){for(let R=0;R<t.length;R++){let X=t.charAt(R),P=m.indexOf(X);for(let ne=0;ne<5;ne++){let ve=c[ne];if(g){let Q=(d+f)/2;P&ve?d=Q:f=Q}else{let Q=(r+y)/2;P&ve?r=Q:y=Q}g=!g}}return V=(r+y)/2,O=(d+f)/2,{lat:V,lon:O}}},Ae=(t,m,c,g)=>{const y=(c-t)*Math.PI/180,d=(g-m)*Math.PI/180,f=Math.sin(y/2)*Math.sin(y/2)+Math.cos(t*Math.PI/180)*Math.cos(c*Math.PI/180)*Math.sin(d/2)*Math.sin(d/2);return 6371*(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)))},Ve=(t,m)=>{new google.maps.Geocoder().geocode({location:t},(g,r)=>{r==="OK"?g[0]?document.getElementById(m).value=g[0].formatted_address:console.error(i("no_reverse_geocode_results_found")):console.error(i("geocoder_failed_due_to")+r)})},Re=async()=>{if(!q())return!1;B.value=!1;const{pick_lat:t,pick_lng:m,drop_lat:c,drop_lng:g,distance:r,duration:y}=v.data();t&&(a.pick_lat=t),m&&(a.pick_lng=m),c&&(a.drop_lat=c),g&&(a.drop_lng=g),k.length>0&&(a.stops=JSON.stringify(k)),r&&(a.distance=r),y&&(a.duration=y);try{let d;if(d=await Z.post("/web-create-request",a.data()),d.data.success===!0){let f;A.fire({title:"Booking Successfull",html:"Your Ride has been Booked <b></b> Successfully.",timer:2e3,timerProgressBar:!0,onBeforeOpen:()=>{A.showLoading(),f=setInterval(()=>{A.getContent().querySelector("b").textContent=A.getTimerLeft()},100)},onClose:()=>{clearInterval(f)}}).then(V=>{V.dismiss===A.DismissReason.timer&&(window.location.href=`/history/view/${createdRequestId}`,console.log("I was closed by the timer"))}),a.reset(),v.reset(),o.value=[],le.value=[],k.length=0,te.value=null,ie.value=null,K.value="",H.value={}}else Y.value=i("failed_to_make_booking_contact_admin")}catch(d){d.response&&d.response.status===422?n.value=d.response.data.errors:(console.error(i("error_creating_vehicle_price"),d),Y.value=i("failed_to_make_booking_contact_admin"))}};ye(async()=>{await st("en")}),ye(()=>{var t={apiKey:l.firebaseSettings.firebase_api_key,authDomain:l.firebaseSettings.firebase_auth_domain,databaseURL:l.firebaseSettings.firebase_database_url,projectId:l.firebaseSettings.firebase_project_id,storageBucket:l.firebaseSettings.firebase_storage_bucket,messagingSenderId:l.firebaseSettings.firebase_messaging_sender_id,appId:l.firebaseSettings.firebase_app_id};firebase.apps.length==0&&firebase.initializeApp(t),l.transport_type_regular.length>0&&(a.transport_type=l.transport_type_regular[0])});const Ue=b(""),Ee=b(""),Te=We(()=>{}),Le=t=>{T.value=t,a.country=t.dial_code},De=he(async()=>{const t=await Z.get("/dispatch/fetch-user-detail",{params:{mobile:a.mobile}});console.log(t.data.data),t.data.data?(a.pick_address&&q(),a.name=t.data.data.name,a.user_id=t.data.data.id):(a.user_id=null,a.name=null)},300),Fe=()=>{const t=v.duration,m=a.trip_start_time,c=new Date(m);return c.setMinutes(c.getMinutes()+t),c};return U(()=>a.vehicle_type,async t=>{t&&await q()}),{form:a,successMessage:ue,alertMessage:Y,dismissMessage:we,validationRef:J,validationRules:ae,errors:n,mobile:Ue,selectedCountry:T,driverMarkers:H,pickupLocation:D,dropLocation:L,routePolyline:K,searchQuery:Ee,filteredCountries:Te,selectCountry:Le,validateNumber:De,showAiportTerminal:oe,showTrainStationEnterance:se,etaParam:v,vehicleTypes:o,makeBooking:Re,stopovers:k,addStopover:Ie,removeStopover:Pe,fetchAutocompleteResults:re,handleInput:ke,selectSuggestion:Me,pickSuggestions:G,dropSuggestions:z,stopSuggestions:W,showModal:B,formattedDuration:ce,unit:ee,pickupMarker:te,dropMarker:ie,packageTypes:N,rentalVehicleTypes:le,reverseGeocodeAndUpdateInput:Ve,bookValidate:q,getMinReturnTime:Fe,nameChangeShow:me}}},rt={class:"row mt-4"},nt={class:"col-lg-6 col-sm-6"},dt={class:"p-0 border border-dashed rounded"},ct={class:"d-flex align-items-center"},_t={class:"flex-grow-1"},ut={class:"text-muted mb-1"},pt={class:"fs-16 fw-bold ms-2"},mt={class:"col-lg-6 col-sm-6"},ft={class:"p-0 border border-dashed rounded"},vt={class:"d-flex align-items-center"},gt={class:"flex-grow-1"},ht={class:"text-muted mb-1"},yt={class:"fs-16 fw-bold ms-2"},bt={class:"row"},kt={class:"col-12 col-lg-6",style:{"max-height":"500px","overflow-y":"auto"}},Mt={class:"row"},wt={class:"d-flex align-items-center mt-4"},St={class:"card-title mb-3 flex-grow-1"},It={class:"col-6"},Pt={class:"mb-3"},xt={for:"type",class:"form-label"},Ct={disabled:"",value:""},qt={value:"0"},Bt={value:"1"},At={class:"col-6"},Vt={class:"col-12"},Rt={class:"mb-3"},Ut={for:"type",class:"form-label"},Et={disabled:"",value:""},Tt=["value"],Lt={class:"col-12"},Dt={class:"mb-3"},Ft={class:"d-flex align-items-center justify-content-between"},Ot={for:"pickup",class:"form-label"},jt={class:"autocomplete-container"},Gt={class:"input-group"},Ht=["placeholder"],zt={key:0,class:"autocomplete-results"},Nt=["onClick"],Kt={class:"mb-3"},Xt=["for"],Wt={class:"d-flex align-items-center"},Jt=["onUpdate:modelValue","placeholder","id"],Yt=["onClick"],Qt={key:0,class:"text-danger"},Zt={key:1,class:"col-12"},$t={class:"mb-3"},eo={for:"terminal",class:"form-label"},to={key:2,class:"col-12"},oo={class:"mb-3"},so={for:"enterance",class:"form-label"},ao={key:3,class:"col-12"},lo={class:"mb-3"},io={for:"drop",class:"form-label"},ro={class:"autocomplete-container"},no={class:"input-group"},co=["placeholder"],_o={key:0,class:"autocomplete-results"},uo=["onClick"],po={key:4,class:"card-title mb-2 flex-grow-1 mt-4"},mo={key:5,class:"px-2 mb-2"},fo={class:"badge bg-dark-subtle text-dark p-1 fs-12 text-center"},vo={class:"form-check m-2 mx-3"},go={class:"form-check-label mt-1",for:"poc"},ho={key:6,class:"col-6"},yo={class:"mb-3"},bo={for:"poc_name",class:"form-label"},ko=["placeholder","disabled"],Mo={key:7,class:"col-6"},wo={class:"mb-3"},So={for:"poc_mobile",class:"form-label"},Io=["placeholder","disabled"],Po={key:8,class:"card-title mb-2 flex-grow-1 mt-4"},xo={key:9,class:"col-6"},Co={class:"mb-3"},qo={for:"goods_type",class:"form-label"},Bo={disabled:"",value:""},Ao=["value"],Vo={key:10,class:"col-6"},Ro={class:"mb-3"},Uo={for:"goods_type_quantity",class:"form-label"},Eo=["placeholder"],To={key:11,class:"col-12"},Lo={class:"mb-3"},Do={for:"dispatch-datepicker",class:"form-label"},Fo={key:12,class:"col-12"},Oo={class:"card-title mb-3 flex-grow-1 mt-4"},jo={class:"mb-3",style:{"max-width":"650px","overflow-x":"auto"}},Go={class:"d-flex mt-5"},Ho=["for"],zo=["id","value"],No={class:"select-checkbox-btn-content"},Ko={class:"w-32 me-4 cursor-pointer"},Xo={class:"text-center mt-2 ms-4"},Wo={class:"w-32 h-32 flex-none image-fit rounded-circle"},Jo=["src"],Yo={class:"text-center mt-2 amount text-dark"},Qo={class:"text-center mt-2"},Zo={key:0,class:"bottom-modal"},$o={class:"modal-content"},es={class:"col-12 col-lg-6"},ts={class:"mb-3 text-center m-auto"},os={id:"map",style:{height:"500px"}};function ss(l,i,T,s,a,ee){const oe=E("Head"),se=E("UserWebMenu"),D=E("BCardHeader"),L=E("BCol"),G=E("BRow"),z=E("flat-pickr"),W=E("googleMap"),ae=E("FormValidation"),n=E("BCardBody"),J=E("BCard");return u(),Je(J,null,{default:C(()=>[w(oe,{title:"Taxi Ride"}),w(D,{class:"border-0"},{default:C(()=>[w(se,{user:T.user},null,8,["user"])]),_:1}),w(G,null,{default:C(()=>[w(L,{lg:"12"},{default:C(()=>[w(J,{"no-body":"",id:"tasksList"},{default:C(()=>[w(D,{class:"border-0"},{default:C(()=>[w(G,null,{default:C(()=>[w(L,{lg:"6"}),w(L,{lg:"6"},{default:C(()=>[e("div",rt,[e("div",nt,[e("div",dt,[e("div",ct,[i[17]||(i[17]=e("div",{class:"avatar-sm me-2"},[e("div",{class:"avatar-title rounded bg-transparent text-success fs-24"},[e("i",{class:"ri-map-pin-time-line"})])],-1)),e("div",_t,[e("p",ut,[$(_(l.$t("duration"))+" :",1),e("span",pt,_(s.formattedDuration),1)])])])])]),e("div",mt,[e("div",ft,[e("div",vt,[i[18]||(i[18]=e("div",{class:"avatar-sm me-2"},[e("div",{class:"avatar-title rounded bg-transparent text-success fs-24"},[e("i",{class:"ri-pin-distance-line"})])],-1)),e("div",gt,[e("p",ht,[$(_(l.$t("distance"))+" :",1),e("span",yt,_(s.etaParam.distance_in_unit)+" "+_(s.unit),1)])])])])])])]),_:1})]),_:1})]),_:1}),w(n,{class:"border border-dashed border-end-0 border-start-0"},{default:C(()=>[e("form",{onSubmit:i[16]||(i[16]=$e((...o)=>l.handleSubmit&&l.handleSubmit(...o),["prevent"]))},[w(ae,{form:s.form,rules:s.validationRules,ref:"validationRef"},{default:C(()=>[e("div",bt,[e("div",kt,[e("div",Mt,[e("div",wt,[e("h4",St,_(l.$t("ride_info")),1)]),e("div",It,[e("div",Pt,[e("label",xt,_(l.$t("booking_type")),1),x(e("select",{id:"type",class:"form-select","onUpdate:modelValue":i[0]||(i[0]=o=>s.form.is_later=o)},[e("option",Ct,_(l.$t("choose_type")),1),e("option",qt,_(l.$t("instant_booking")),1),e("option",Bt,_(l.$t("book_later")),1)],512),[[de,s.form.is_later]]),(u(!0),p(I,null,S(s.errors.is_later,(o,h)=>(u(),p("span",{key:h,class:"text-danger"},_(o),1))),128))])]),e("div",At,[e("div",Vt,[e("div",Rt,[e("label",Ut,_(l.$t("transport_type")),1),x(e("select",{id:"type",class:"form-select","onUpdate:modelValue":i[1]||(i[1]=o=>s.form.transport_type=o)},[e("option",Et,_(l.$t("choose_transport_type")),1),(u(!0),p(I,null,S(T.transport_type_regular,(o,h)=>(u(),p("option",{key:h,value:o},_(o.charAt(0).toUpperCase()+o.slice(1)),9,Tt))),128))],512),[[de,s.form.transport_type]]),(u(!0),p(I,null,S(s.errors.transport_type,(o,h)=>(u(),p("span",{key:h,class:"text-danger"},_(o),1))),128))])])]),e("div",Lt,[e("div",Dt,[e("div",Ft,[e("label",Ot,_(l.$t("pickup_location")),1)]),e("div",jt,[e("div",Gt,[x(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[2]||(i[2]=o=>s.form.pick_address=o),placeholder:l.$t("enter_pickup"),id:"pickup",autocomplete:"off",onInput:i[3]||(i[3]=o=>s.handleInput("pickup"))},null,40,Ht),[[j,s.form.pick_address]])]),s.pickSuggestions.length>0?(u(),p("div",zt,[(u(!0),p(I,null,S(s.pickSuggestions,o=>(u(),p("div",{key:o.placeId,class:"autocomplete-item",onClick:h=>s.selectSuggestion(o,"pickup")},_(o.formattedAddress),9,Nt))),128))])):M("",!0)]),(u(!0),p(I,null,S(s.errors.pick_address,(o,h)=>(u(),p("span",{key:h,class:"text-danger"},_(o),1))),128))])]),s.form.ride_type=="regular"?(u(!0),p(I,{key:0},S(s.stopovers,(o,h)=>(u(),p("div",{class:"col-12",key:h},[e("div",Kt,[e("label",{for:`stop-${h}`,class:"form-label"},_(l.$t("stop_location")),9,Xt),e("div",Wt,[x(e("input",{type:"text",class:"form-control mx-1","onUpdate:modelValue":N=>o.address=N,placeholder:"Enter stop "+(h+1),id:`stop-${h}`},null,8,Jt),[[j,o.address]]),e("i",{class:"bx bx-trash text-danger fs-22 btn",onClick:N=>s.removeStopover(h)},null,8,Yt)]),s.form.errors[`stop-${h}`]?(u(),p("span",Qt,_(s.form.errors[`stop-${h}`]),1)):M("",!0)])]))),128)):M("",!0),s.showAiportTerminal?(u(),p("div",Zt,[e("div",$t,[e("label",eo,_(l.$t("aiport_terminal_info")),1),x(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[4]||(i[4]=o=>s.form.terminal=o),placeholder:"$t('enter_terminal_info')",id:"terminal"},null,512),[[j,s.form.terminal]])])])):M("",!0),s.showTrainStationEnterance?(u(),p("div",to,[e("div",oo,[e("label",so,_(l.$t("station_enterance_info")),1),x(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[5]||(i[5]=o=>s.form.enterance=o),placeholder:"$t('enter_enterance_info')",id:"enterance"},null,512),[[j,s.form.enterance]])])])):M("",!0),s.form.ride_type=="regular"?(u(),p("div",ao,[e("div",lo,[e("label",io,_(l.$t("drop_location")),1),e("div",ro,[e("div",no,[x(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[6]||(i[6]=o=>s.form.drop_address=o),placeholder:l.$t("enter_drop"),id:"drop",autocomplete:"off",onInput:i[7]||(i[7]=o=>s.handleInput("drop"))},null,40,co),[[j,s.form.drop_address]])]),s.dropSuggestions.length>0?(u(),p("div",_o,[(u(!0),p(I,null,S(s.dropSuggestions,o=>(u(),p("div",{key:o.placeId,class:"autocomplete-item",onClick:h=>s.selectSuggestion(o,"drop")},_(o.formattedAddress),9,uo))),128))])):M("",!0)]),(u(!0),p(I,null,S(s.errors.drop_address,(o,h)=>(u(),p("span",{key:h,class:"text-danger"},_(o),1))),128))])])):M("",!0),s.form.transport_type=="delivery"?(u(),p("h4",po,_(l.$t("poc_info")),1)):M("",!0),s.form.transport_type=="delivery"?(u(),p("div",mo,[e("span",fo,[e("div",vo,[x(e("input",{class:"form-check-input",type:"checkbox",id:"poc","onUpdate:modelValue":i[8]||(i[8]=o=>a.isPocSame=o)},null,512),[[Ye,a.isPocSame]]),e("label",go,_(l.$t("check_if_poc_info_as_same_as_personal_info")),1)])])])):M("",!0),s.form.transport_type=="delivery"?(u(),p("div",ho,[e("div",yo,[e("label",bo,_(l.$t("drop_poc_name")),1),x(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[9]||(i[9]=o=>s.form.drop_poc_name=o),placeholder:l.$t("enter_poc_name"),id:"poc_name",disabled:a.isPocSame},null,8,ko),[[j,s.form.drop_poc_name]]),(u(!0),p(I,null,S(s.errors.drop_poc_name,(o,h)=>(u(),p("span",{key:h,class:"text-danger"},_(o),1))),128))])])):M("",!0),s.form.transport_type=="delivery"?(u(),p("div",Mo,[e("div",wo,[e("label",So,_(l.$t("drop_poc_mobile")),1),x(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[10]||(i[10]=o=>s.form.drop_poc_mobile=o),placeholder:l.$t("enter_poc_mobile"),id:"poc_mobile",disabled:a.isPocSame},null,8,Io),[[j,s.form.drop_poc_mobile]]),(u(!0),p(I,null,S(s.errors.poc_mobile,(o,h)=>(u(),p("span",{key:h,class:"text-danger"},_(o),1))),128))])])):M("",!0),s.form.transport_type=="delivery"?(u(),p("h4",Po,_(l.$t("select_goods")),1)):M("",!0),s.form.transport_type=="delivery"?(u(),p("div",xo,[e("div",Co,[e("label",qo,_(l.$t("goods_type")),1),x(e("select",{id:"goods_type",class:"form-select","onUpdate:modelValue":i[11]||(i[11]=o=>s.form.goods_type_id=o)},[e("option",Bo,_(l.$t("choose_type")),1),(u(!0),p(I,null,S(T.goodsTypes,o=>(u(),p("option",{key:o.id,value:o.id},_(o.goods_type_name),9,Ao))),128))],512),[[de,s.form.goods_type_id]]),(u(!0),p(I,null,S(s.errors.goods_type_id,(o,h)=>(u(),p("span",{key:h,class:"text-danger"},_(o),1))),128))])])):M("",!0),s.form.transport_type=="delivery"?(u(),p("div",Vo,[e("div",Ro,[e("label",Uo,_(l.$t("goods_quantity")),1),x(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[12]||(i[12]=o=>s.form.goods_type_quantity=o),placeholder:l.$t("enter_quantity"),id:"goods_type_quantity"},null,8,Eo),[[j,s.form.goods_type_quantity]]),(u(!0),p(I,null,S(s.errors.goods_type_quantity,(o,h)=>(u(),p("span",{key:h,class:"text-danger"},_(o),1))),128))])])):M("",!0),s.form.is_later==="1"?(u(),p("div",To,[e("div",Lo,[e("label",Do,_(l.$t("date")),1),w(z,{placeholder:l.$t("select_date"),modelValue:s.form.trip_start_time,"onUpdate:modelValue":i[13]||(i[13]=o=>s.form.trip_start_time=o),config:a.dateTimeConfig,class:"form-control flatpickr-input",id:"dispatch-datepicker"},null,8,["placeholder","modelValue","config"])])])):M("",!0),s.vehicleTypes.length>0?(u(),p("div",Fo,[e("h4",Oo,_(l.$t("select_vehicle")),1),e("div",jo,[e("div",Go,[(u(!0),p(I,null,S(s.vehicleTypes,(o,h)=>(u(),p("div",{key:h,class:"select-checkbox-btn text-center"},[e("label",{for:"vehicle_"+o.zone_type_id,class:"select-checkbox-btn-wrapper"},[x(e("input",{id:"vehicle_"+o.zone_type_id,name:"types",type:"radio",value:o.zone_type_id,"onUpdate:modelValue":i[14]||(i[14]=N=>s.form.vehicle_type=N),class:"select-checkbox-btn-input"},null,8,zo),[[Qe,s.form.vehicle_type]]),e("span",No,[e("a",Ko,[e("div",Xo,[i[19]||(i[19]=e("i",{class:"bx bx-time-five mx-1"},null,-1)),$(_(o.driver_time||"--"),1)]),e("div",Wo,[e("img",{alt:"",class:"rounded-circle img-fluid",src:o.vehicle_icon},null,8,Jo)]),e("div",Yo,_(o.currency)+" "+_(o.total),1),i[20]||(i[20]=$()),e("div",Qo,_(o.name),1)])])],8,Ho)]))),128))])]),w(Ze,{name:"slide-up"},{default:C(()=>[s.showModal?(u(),p("div",Zo,[e("div",$o,[e("button",{type:"submit",onClick:i[15]||(i[15]=(...o)=>s.makeBooking&&s.makeBooking(...o)),class:"btn btn-primary",style:{width:"50%",margin:"auto"}},_(l.$t("make_booking")),1)])])):M("",!0)]),_:1})])):M("",!0)])]),e("div",es,[e("div",ts,[e("div",os,[w(W,{baseUrl:T.baseUrl,default_location:T.default_location,pick_location:s.pickupLocation,drop_location:s.dropLocation,nearbyDrivers:s.driverMarkers,polyline:s.routePolyline,map_key:T.map_key,libraries:["marker","geometry"]},{default:C(()=>[$(_(l.$t("map_loading")),1)]),_:1},8,["baseUrl","default_location","pick_location","drop_location","nearbyDrivers","polyline","map_key"])])])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const us=Oe(it,[["render",ss],["__scopeId","data-v-05185f3e"]]);export{us as default};
