import{_ as H,Z as q,O as U,T as N,r as u,g as l,o as n,x as P,w as _,a as B,N as R,k as d,l as e,J as r,i as c,L as h,F as p,y as L,B as y,n as T}from"./vendor-ddfbd976.js";import{L as z}from"./main-306a5ea6.js";import{P as A}from"./page-header-2dc95532.js";import{P as O}from"./Pagination-f095ae3c.js";import{i as j}from"./imageUpload-4f5efd67.js";import{F as D}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";/* empty css                                                    */const E={components:{Layout:z,PageHeader:A,Head:q,Pagination:O,Multiselect:U,FormValidation:D,imageUpload:j},props:{successMessage:String,alertMessage:String,countries:Array,timeZones:Array,serviceLocation:Object,validate:Function},setup(t){console.log(t.serviceLocation);const s=N({country:t.serviceLocation&&t.serviceLocation.country||"",name:t.serviceLocation&&t.serviceLocation.name||"",currencycode:t.serviceLocation&&t.serviceLocation.currency_code||"",currencysymbol:t.serviceLocation&&t.serviceLocation.currency_symbol||"",timezone:t.serviceLocation&&t.serviceLocation.timezone||"",unit:t.serviceLocation&&t.serviceLocation.unit||""}),b={country:{required:!0},name:{required:!0},currencycode:{required:!0},currencysymbol:{required:!0},timezone:{required:!0},unit:{required:!0}},o=u(null),f=u({}),g=u(t.successMessage||""),m=u(t.alertMessage||"");return{form:s,successMessage:g,alertMessage:m,handleSubmit:async()=>{if(f.value=o.value.validate(),!(Object.keys(f.value).length>0))try{let i;t.serviceLocation&&t.serviceLocation.id?i=await B.post(`/service-locations/update/${t.serviceLocation.id}`,s.data()):i=await B.post("store",s.data()),i.status===201?(g.value="Service location created successfully.",s.reset(),R.get("/service-locations")):m.value="Failed to create service location."}catch(i){i.response&&i.response.status===422?f.value=i.response.data.errors:(console.error("Error creating service location:",i),m.value="Failed to create service location. catch")}},dismissMessage:()=>{g.value="",m.value=""},selectedCountry:u(null),selectedTimezone:u(null),validationRules:b,validationRef:o,errors:f}}},Z={class:"row"},I={class:"col-sm-6"},J={class:"mb-3"},G={for:"name",class:"form-label"},K=["placeholder"],Q={class:"col-sm-6"},W={class:"mb-3"},X={for:"identify_number",class:"form-label"},Y=["placeholder"],$={class:"col-sm-6"},ee={class:"mb-3"},te={for:"expiry_date",class:"form-label"},se={class:"col-12"},oe={class:"mb-3"},ae={for:"icon",class:"form-label d-flex"},ne={key:0},re=["src"],ie={key:1,class:"text-danger"},le={class:"col-lg-12"},ce={class:"text-end"},de={type:"submit",class:"btn btn-primary"},me={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},ue={class:"alert-content"},_e={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},fe={class:"alert-content"};function ve(t,s,b,o,f,g){const m=l("Head"),M=l("PageHeader"),x=l("BCardHeader"),i=l("imageUpload"),k=l("FormValidation"),C=l("BCardBody"),F=l("BCard"),w=l("BCol"),S=l("BRow"),V=l("Layout");return n(),P(V,null,{default:_(()=>[d(m,{title:"Document Upload"}),d(M,{title:t.$t("create"),pageTitle:t.$t("document_upload"),pageLink:"/delete-request-drivers"},null,8,["title","pageTitle"]),d(S,null,{default:_(()=>[d(w,{lg:"12"},{default:_(()=>[d(F,{"no-body":"",id:"tasksList"},{default:_(()=>[d(x,{class:"border-0"}),d(C,{class:"border border-dashed border-end-0 border-start-0"},{default:_(()=>[e("form",{onSubmit:s[1]||(s[1]=T((...a)=>o.handleSubmit&&o.handleSubmit(...a),["prevent"]))},[d(k,{form:o.form,rules:o.validationRules,ref:"validationRef"},{default:_(()=>[e("div",Z,[e("div",I,[e("div",J,[e("label",G,r(t.$t("name")),1),e("input",{type:"text",class:"form-control",placeholder:t.$t("enter_driving_license"),id:"name"},null,8,K),(n(!0),c(p,null,h(o.errors.name,(a,v)=>(n(),c("span",{key:v,class:"text-danger"},r(a),1))),128))])]),e("div",Q,[e("div",W,[e("label",X,r(t.$t("identify_number")),1),e("input",{type:"text",class:"form-control",placeholder:t.$t("enter_identify_number"),id:"identify_number"},null,8,Y),(n(!0),c(p,null,h(o.errors.name,(a,v)=>(n(),c("span",{key:v,class:"text-danger"},r(a),1))),128))])]),e("div",$,[e("div",ee,[e("label",te,r(t.$t("expiry_date")),1),s[4]||(s[4]=e("input",{type:"text",class:"form-control",placeholder:"$t('enter_expiry_date')",id:"expiry_date"},null,-1)),(n(!0),c(p,null,h(o.errors.name,(a,v)=>(n(),c("span",{key:v,class:"text-danger"},r(a),1))),128))])]),e("div",se,[e("div",oe,[e("label",ae,[L(r(t.$t("document"))+" ",1),s[5]||(s[5]=e("span",null,[e("h5",{class:"text-muted mt-1 mb-0 fs-13"},"(512px x 512px)")],-1))]),t.iconUrl&&!o.form.iconFile?(n(),c("div",ne,[e("img",{src:t.iconUrl,alt:"Vehicle Image",style:{"max-width":"100px","max-height":"100px"}},null,8,re)])):y("",!0),d(i,{modelValue:o.form.iconFile,"onUpdate:modelValue":s[0]||(s[0]=a=>o.form.iconFile=a)},null,8,["modelValue"]),o.form.errors.icon?(n(),c("span",ie,r(o.form.errors.icon),1)):y("",!0)])]),e("div",le,[e("div",ce,[e("button",de,r(b.serviceLocation?t.$t("update"):t.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[o.successMessage?(n(),c("div",me,[e("div",ue,[s[6]||(s[6]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[7]||(s[7]=e("strong",null,"Success",-1)),L(" - "+r(o.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:s[2]||(s[2]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):y("",!0),o.alertMessage?(n(),c("div",_e,[e("div",fe,[s[8]||(s[8]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[9]||(s[9]=e("strong",null,"Alert",-1)),L(" - "+r(o.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[3]||(s[3]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):y("",!0)])]),_:1})}const ke=H(E,[["render",ve]]);export{ke as default};
