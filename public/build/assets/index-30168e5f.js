import{_ as A,Z as N,C as T,r as h,T as P,g as c,o as p,x as k,w as m,a as V,N as L,k as _,l as e,y as o,J as l,B as b,q as g,K as $,M as v,n as D,i as M}from"./vendor-ddfbd976.js";import{L as E}from"./main-306a5ea6.js";import{P as q}from"./page-header-2dc95532.js";import"./footer-e648049d.js";import"./app-042fb454.js";const I={components:{Layout:E,PageHeader:q,Head:N},props:{successMessage:String,alertMessage:String,app_for:String,mail:{type:Object,required:!0},settings:{type:Object,required:!1,default:()=>({})}},setup(s){const{t}=T(),r=h(s.successMessage||""),a=h(s.alertMessage||""),d=P({enable_recaptcha:s.settings.enable_recaptcha||"",reacptcha_site_key:s.settings.reacptcha_site_key||"",reacptcha_secret_key:s.settings.reacptcha_secret_key||""});return{successMessage:r,alertMessage:a,dismissMessage:()=>{r.value="",a.value=""},handleSubmit:async()=>{try{let i=new FormData;i.append("enable_recaptcha",d.enable_recaptcha),i.append("reacptcha_site_key",d.reacptcha_site_key),i.append("reacptcha_secret_key",d.reacptcha_secret_key),(await V.post("/recaptcha/update",i)).status===201?(r.value=t("recaptcha_updated_successfully"),d.reset(),L.get("/recaptcha")):a.value=t("failed_to_update_recaptcha")}catch(i){console.error(t("error_updating_recaptcha"),i),a.value=t("failed_to_update_recaptcha_catch")}},form:d}},mounted(){const s=document.getElementById("reacptcha_site_key"),t=document.getElementById("reacptcha_secret_key"),r=new MutationObserver(a=>{a.forEach(d=>{d.attributeName==="type"&&s.type!=="password"&&(s.type="password"),d.attributeName==="type"&&t.type!=="password"&&(t.type="password")})});r.observe(s,{attributes:!0}),r.observe(t,{attributes:!0})}},K={class:"alert bg-warning border-warning fs-18",role:"alert"},O={class:"row"},R={class:"col-sm-6"},U={class:"mb-3"},j={for:"enable_recaptcha",class:"form-label"},F=["disabled"],J={disabled:"",value:""},Z={value:"1"},z={value:"0"},G={class:"col-sm-6"},Q={class:"mb-3"},W={for:"reacptcha_site_key",class:"form-label"},X=["readonly","placeholder"],Y={class:"col-sm-6"},x={class:"mb-3"},ee={for:"reacptcha_secret_key",class:"form-label"},te=["readonly","placeholder"],se={class:"mt-3 mb-3"},ae={class:"row"},le={class:"col"},oe={href:"https://www.google.com/recaptcha/admin/create",target:"_blank",class:"text-decoration-underline fs-14 ms-1",style:{color:"#405189"}},re={class:"col"},ne={class:"col-lg-12"},de={class:"text-end"},ie={type:"submit",class:"btn btn-primary"},ce={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},_e={class:"alert-content"},me={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},pe={class:"alert-content"};function ue(s,t,r,a,d,w){const y=c("Head"),i=c("PageHeader"),u=c("BCardHeader"),f=c("BCard"),C=c("BCardBody"),B=c("BCol"),S=c("BRow"),H=c("Layout");return p(),k(H,null,{default:m(()=>[_(y,{title:"Recaptcha"}),_(i,{title:s.$t("recaptcha"),pageTitle:s.$t("recaptcha")},null,8,["title","pageTitle"]),_(S,null,{default:m(()=>[r.app_for==="demo"?(p(),k(f,{key:0,"no-body":"",id:"tasksList"},{default:m(()=>[_(u,{class:"border-0"},{default:m(()=>[e("div",K,[e("strong",null,[o(l(s.$t("note"))+" : ",1),e("em",null,l(s.$t("actions_restricted_due_to_demo_mode")),1)])])]),_:1})]),_:1})):b("",!0),_(B,{lg:"12"},{default:m(()=>[_(f,{"no-body":"",id:"tasksList"},{default:m(()=>[_(u,{class:"border-0"}),_(C,{class:"border border-dashed border-end-0 border-start-0"},{default:m(()=>[e("form",{onSubmit:t[3]||(t[3]=D((...n)=>a.handleSubmit&&a.handleSubmit(...n),["prevent"]))},[e("div",O,[e("div",R,[e("div",U,[e("label",j,[o(l(s.$t("enable_recaptcha"))+" ",1),t[6]||(t[6]=e("span",{class:"text-danger"},"*",-1))]),g(e("select",{disabled:r.app_for==="demo",id:"enable_recaptcha",class:"form-select","onUpdate:modelValue":t[0]||(t[0]=n=>a.form.enable_recaptcha=n)},[e("option",J,l(s.$t("select")),1),e("option",Z,l(s.$t("yes")),1),e("option",z,l(s.$t("no")),1)],8,F),[[$,a.form.enable_recaptcha]])])]),e("div",G,[e("div",Q,[e("label",W,[o(l(s.$t("site_key"))+" ",1),t[7]||(t[7]=e("span",{class:"text-danger"},"*",-1))]),g(e("input",{type:"password",readonly:r.app_for==="demo",class:"form-control",placeholder:s.$t("enter_site_key"),id:"reacptcha_site_key","onUpdate:modelValue":t[1]||(t[1]=n=>a.form.reacptcha_site_key=n)},null,8,X),[[v,a.form.reacptcha_site_key]])])]),e("div",Y,[e("div",x,[e("label",ee,[o(l(s.$t("secret_key"))+" ",1),t[8]||(t[8]=e("span",{class:"text-danger"},"*",-1))]),g(e("input",{type:"password",readonly:r.app_for==="demo",class:"form-control",placeholder:s.$t("enter_secret_key"),id:"reacptcha_secret_key","onUpdate:modelValue":t[2]||(t[2]=n=>a.form.reacptcha_secret_key=n)},null,8,te),[[v,a.form.reacptcha_secret_key]])])]),e("div",se,[e("div",ae,[e("div",le,[e("p",null,[t[9]||(t[9]=e("i",{class:"mdi mdi-check-bold align-middle lh-1 me-2"},null,-1)),o(" "+l(s.$t("go_to_the_credentials_page"))+" ",1),e("a",oe,l(s.$t("click_here")),1)]),e("p",null,[t[10]||(t[10]=e("i",{class:"mdi mdi-check-bold align-middle lh-1 me-2"},null,-1)),o(l(s.$t("add_a_label")),1)]),e("p",null,[t[11]||(t[11]=e("i",{class:"mdi mdi-check-bold align-middle lh-1 me-2"},null,-1)),o(" "+l(s.$t("select_reCAPTCHA_v2_as_reCAPTCHA_type")),1)]),e("p",null,[t[12]||(t[12]=e("i",{class:"mdi mdi-check-bold align-middle lh-1 me-2"},null,-1)),o(" "+l(s.$t("add_domain")),1)])]),e("div",re,[e("p",null,[t[13]||(t[13]=e("i",{class:"mdi mdi-check-bold align-middle lh-1 me-2"},null,-1)),o(" "+l(s.$t("check_in_accept_the_reCAPTCHA_terms_of_service")),1)]),e("p",null,[t[14]||(t[14]=e("i",{class:"mdi mdi-check-bold align-middle lh-1 me-2"},null,-1)),o(" "+l(s.$t("press_submit")),1)]),e("p",null,[t[15]||(t[15]=e("i",{class:"mdi mdi-check-bold align-middle lh-1 me-2"},null,-1)),o(" "+l(s.$t("copy_site_key_and_secret_key")),1)])])])]),e("div",ne,[e("div",de,[e("button",ie,l(r.settings?s.$t("update"):s.$t("save")),1)])])])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[a.successMessage?(p(),M("div",ce,[e("div",_e,[t[16]||(t[16]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[17]||(t[17]=o()),t[18]||(t[18]=e("strong",null,"Success",-1)),o(" - "+l(a.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[4]||(t[4]=(...n)=>a.dismissMessage&&a.dismissMessage(...n)),"aria-label":"Close Success Message"})])])):b("",!0),a.alertMessage?(p(),M("div",me,[e("div",pe,[t[19]||(t[19]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[20]||(t[20]=o()),t[21]||(t[21]=e("strong",null,"Alert",-1)),o(" - "+l(a.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[5]||(t[5]=(...n)=>a.dismissMessage&&a.dismissMessage(...n)),"aria-label":"Close Alert Message"})])])):b("",!0)])]),_:1})}const ke=A(I,[["render",ue]]);export{ke as default};
