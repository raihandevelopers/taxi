import{_ as j,Z as q,O as Y,P as J,z as Q,C as Z,r as p,T as X,Q as ee,a2 as te,a as N,R as se,g as r,o as u,x as V,w as i,U as b,N as oe,k as n,l as e,J as o,q as z,K as I,i as _,L as G,F as K,y as k,B as w,p as ae,n as E}from"./vendor-ddfbd976.js";import{L as le}from"./main-306a5ea6.js";import{P as ne}from"./page-header-2dc95532.js";import{P as ie}from"./Pagination-f095ae3c.js";import{s as re}from"./search-2c17aadd.js";import{s as de}from"./searchbar-3acbc236.js";import{l as ce}from"./footer-e648049d.js";import{_ as ue}from"./search-file-ab3e1046.js";import"./app-042fb454.js";const me={data(){return{rightOffcanvas:!1}},components:{Layout:le,PageHeader:ne,Head:q,Pagination:ie,Multiselect:Y,flatPickr:J,Link:Q,search:re,searchbar:de},props:{successMessage:String,alertMessage:String,serviceLocations:{type:Object,required:!0}},setup(s){const{t}=Z(),B=p(""),l=X({all:"",locked:"",limit:10}),f=p([]),P=p({}),M=p(!1),y=p(!1),m=p(null),g=p({}),x=p(s.successMessage||""),C=p(s.alertMessage||""),R=()=>{x.value="",C.value=""},D=()=>{y.value=!0},O=()=>{l.reset(),h(),y.value=!1},L=()=>{M.value=!1},$=async d=>{try{await N.delete(`/driver-needed-documents/delete/${d}`);const c=f.value.findIndex(v=>v.id===d);c!==-1&&f.value.splice(c,1),M.value=!1,b.fire(t("success"),t("driver_needed_document_deleted_successfully"),"success")}catch{b.fire(t("error"),t("failed_to_delete_driver_needed_document"),"error")}},T=async(d,c)=>{b.fire({title:t("are_you_sure"),text:t("you_are_about_to_change_status"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:t("yes"),cancelButtonText:t("cancel")}).then(async v=>{if(v.isConfirmed)try{await N.post("/driver-needed-documents/update-status",{id:d,status:c});const S=f.value.findIndex(W=>W.id===d);S!==-1&&(f.value[S].active=c),b.fire(t("changed"),t("status_updated_successfully"),"success")}catch(S){console.error(t("error_updating_status"),S),b.fire(t("error"),t("failed_to_update_status"),"error")}})},A=async d=>{b.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async c=>{if(c.isConfirmed)try{await $(d)}catch(v){console.error(t("error_deleting_data"),v),b.fire(t("error"),t("failed_to_delete_the_data"),"error")}})};ee(B,te.debounce(function(d){h(B.value)},300));const h=async(d=1)=>{try{const c=l.data();c.search=B.value,c.page=d;const v=await N.get("/driver-needed-documents/list",{params:c});f.value=v.data.results,P.value=v.data.paginator,H(P.value.total),y.value=!1}catch(c){console.error(t("error_fetching_driver_needed_documents"),c)}},F=async d=>{h(d)},a=async d=>{oe.get(`/driver-needed-documents/edit/${d.id}`)},H=()=>{g.value=[10,25,50,100,200,500]};return{results:f,modalShow:M,deleteItemId:m,successMessage:x,alertMessage:C,filterData:D,deleteModal:A,closeModal:L,deleteData:$,dismissMessage:R,searchTerm:B,paginator:P,modalFilter:y,clearFilter:O,fetchDatas:h,filter:l,handlePageChanged:F,editData:a,toggleActiveStatus:T,paginatorOption:g,changeEntriesPerPage:()=>{h()}}},computed:{...ce,...se(["permissions"])},mounted(){this.fetchDatas()}},fe={class:"d-flex align-items-center mt-3"},pe={class:"me-2 text-muted"},_e=["value"],ge={class:"ms-2 text-muted"},ve={class:"d-flex align-items-center gap-2"},he={class:"table-responsive"},be={class:"table align-middle position-relative table-nowrap"},ke={class:"table-active"},ye={scope:"col"},Ce={scope:"col"},we={scope:"col"},Be={scope:"col"},Me={key:0},Pe={key:0},xe=["onClick","id","checked"],$e={class:"d-flex"},Se={key:1},Ve={colspan:"7",class:"text-center"},Re={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},De={class:"alert-content"},Oe={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Le={class:"alert-content"},Te={class:"offcanvas-body"},Ae={class:"mb-4"},Fe={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},He={value:"All Tasks"},Ue={value:"Completed"},Ne={value:"Inprogress"},Ee={value:"Pending"},ze={value:"Pending"},Ie={class:"mb-4"},Ge={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ke={class:"form-check form-check-inline"},We={class:"form-check-label",for:"inlineRadio1"},je={class:"form-check form-check-inline"},qe={class:"form-check-label",for:"inlineRadio1"},Ye={class:"form-check form-check-inline"},Je={class:"form-check-label",for:"inlineRadio1"},Qe={class:"mb-4"},Ze={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Xe={class:"mb-4"},et={for:"country-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},tt={class:"mb-4"},st={for:"status-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},ot={class:"form-check"},at={class:"form-check-label",for:"inlineCheckbox1"},lt={class:"form-check"},nt={class:"form-check-label",for:"inlineCheckbox2"},it={class:"form-check"},rt={class:"form-check-label",for:"inlineCheckbox3"},dt={class:"form-check"},ct={class:"form-check-label",for:"inlineCheckbox4"},ut={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function mt(s,t,B,l,f,P){const M=r("Head"),y=r("PageHeader"),m=r("BCol"),g=r("BButton"),x=r("Link"),C=r("BRow"),R=r("BCardHeader"),D=r("BCardBody"),O=r("BCard"),L=r("flat-pickr"),$=r("Multiselect"),T=r("BFrom"),A=r("BOffcanvas"),h=r("Pagination"),F=r("Layout");return u(),V(F,null,{default:i(()=>[n(M,{title:"Driver Needed Documents"}),n(y,{title:s.$t("driver_needed_documents"),pageTitle:s.$t("driver_needed_documents")},null,8,["title","pageTitle"]),n(C,null,{default:i(()=>[n(m,{lg:"12"},{default:i(()=>[n(O,{"no-body":"",id:"tasksList"},{default:i(()=>[n(R,{class:"border-0"},{default:i(()=>[n(C,{class:"g-2"},{default:i(()=>[n(m,{md:"3"},{default:i(()=>[e("div",fe,[e("label",pe,o(s.$t("show")),1),z(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>l.filter.limit=a),onChange:t[1]||(t[1]=(...a)=>l.changeEntriesPerPage&&l.changeEntriesPerPage(...a)),class:"form-select form-select-sm w-auto"},[(u(!0),_(K,null,G(l.paginatorOption,a=>(u(),_("option",{key:a,value:a},o(a),9,_e))),128))],544),[[I,l.filter.limit]]),e("label",ge,o(s.$t("entries")),1)])]),_:1}),n(m,{md:"3"}),n(m,{md:"auto",class:"ms-auto"},{default:i(()=>[e("div",ve,[s.permissions.includes("add-driver-needed-document")?(u(),V(x,{key:0,href:"/driver-needed-documents/create"},{default:i(()=>[n(g,{variant:"primary",class:"float-end"},{default:i(()=>[t[8]||(t[8]=e("i",{class:"ri-add-line align-bottom me-1"},null,-1)),k(" "+o(s.$t("add_driver_needed_documents")),1)]),_:1,__:[8]})]),_:1})):w("",!0)])]),_:1})]),_:1})]),_:1}),n(D,{class:"border border-dashed border-end-0 border-start-0"},{default:i(()=>[e("div",he,[e("table",be,[e("thead",ke,[e("tr",null,[e("th",ye,o(s.$t("name")),1),e("th",Ce,o(s.$t("account_type")),1),e("th",we,o(s.$t("status")),1),e("th",Be,o(s.$t("action")),1)])]),l.results.length>0?(u(),_("tbody",Me,[(u(!0),_(K,null,G(l.results,(a,H)=>(u(),_("tr",{key:H},[e("td",null,o(a.name),1),e("td",null,o(a.account_type),1),s.permissions.includes("toggle-driver-needed-document")?(u(),_("td",Pe,[e("div",{class:ae({"form-check":!0,"form-switch":!0,"form-switch-lg":!0,"form-switch-success":a.active})},[e("input",{class:"form-check-input",type:"checkbox",role:"switch",onClick:E(U=>l.toggleActiveStatus(a.id,!a.active),["prevent"]),id:"status_"+a.id,checked:a.active},null,8,xe)],2)])):w("",!0),e("td",null,[e("div",$e,[s.permissions.includes("edit-driver-needed-document")?(u(),V(g,{key:0,onClick:E(U=>l.editData(a),["prevent"]),class:"btn btn-soft-warning btn-sm m-2"},{default:i(()=>t[9]||(t[9]=[e("i",{class:"bx bxs-edit-alt"},null,-1)])),_:2,__:[9]},1032,["onClick"])):w("",!0),s.permissions.includes("delete-driver-needed-document")?(u(),V(g,{key:1,class:"btn btn-soft-danger btn-sm m-2",size:"sm",type:"button",id:"sa-warning",onClick:E(U=>l.deleteModal(a.id),["prevent"])},{default:i(()=>t[10]||(t[10]=[e("i",{class:"bx bx-trash"},null,-1)])),_:2,__:[10]},1032,["onClick"])):w("",!0)])])]))),128))])):(u(),_("tbody",Se,[e("tr",null,[e("td",Ve,[t[11]||(t[11]=e("img",{src:ue,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,o(s.$t("no_data_found")),1)])])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[l.successMessage?(u(),_("div",Re,[e("div",De,[t[12]||(t[12]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[13]||(t[13]=k()),t[14]||(t[14]=e("strong",null,"Success",-1)),k(" - "+o(l.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[2]||(t[2]=(...a)=>l.dismissMessage&&l.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):w("",!0),l.alertMessage?(u(),_("div",Oe,[e("div",Le,[t[15]||(t[15]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[16]||(t[16]=k()),t[17]||(t[17]=e("strong",null,"Alert",-1)),k(" - "+o(l.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[3]||(t[3]=(...a)=>l.dismissMessage&&l.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):w("",!0)]),n(A,{modelValue:f.rightOffcanvas,"onUpdate:modelValue":t[7]||(t[7]=a=>f.rightOffcanvas=a),placement:"end",title:s.$t("leads_filters"),"header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:i(()=>[n(T,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:i(()=>[e("div",Te,[e("div",Ae,[e("label",Fe,o(s.$t("process")),1),z(e("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":t[4]||(t[4]=a=>s.status=a)},[e("option",He,o(s.$t("all")),1),e("option",Ue,o(s.$t("completed")),1),e("option",Ne,o(s.$t("inprogress")),1),e("option",Ee,o(s.$t("pending")),1),e("option",ze,o(s.$t("cancelled")),1)],512),[[I,s.status]])]),e("div",Ie,[e("label",Ge,o(s.$t("payment")),1),e("div",null,[e("div",Ke,[t[18]||(t[18]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio1",value:"option1"},null,-1)),e("label",We,o(s.$t("online")),1)]),e("div",je,[t[19]||(t[19]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio2",value:"option2"},null,-1)),e("label",qe,o(s.$t("card")),1)]),e("div",Ye,[t[20]||(t[20]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio3",value:"option3"},null,-1)),e("label",Je,o(s.$t("cash")),1)])])]),e("div",Qe,[e("label",Ze,o(s.$t("date")),1),n(L,{placeholder:s.$t("select_date"),modelValue:s.date,"onUpdate:modelValue":t[5]||(t[5]=a=>s.date=a),config:s.rangeDateconfig,class:"form-control flatpickr-input",id:"demo-datepicker"},null,8,["placeholder","modelValue","config"])]),e("div",Xe,[e("label",et,o(s.$t("country")),1),n($,{class:"form-control",modelValue:s.value,"onUpdate:modelValue":t[6]||(t[6]=a=>s.value=a),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Select country"},{value:"Argentina",label:"Argentina"},{value:"Belgium",label:"Belgium"},{value:"Brazil",label:"Brazil"},{value:"Colombia",label:"Colombia"},{value:"Denmark",label:"Denmark"},{value:"France",label:"France"},{value:"Germany",label:"Germany"},{value:"Mexico",label:"Mexico"},{value:"Russia",label:"Russia"},{value:"Spain",label:"Spain"},{value:"Syria",label:"Syria"},{value:"United Kingdom",label:"United Kingdom"}]},null,8,["modelValue"])]),e("div",tt,[e("label",st,o(s.$t("status")),1),n(C,{class:"g-2"},{default:i(()=>[n(m,{lg:"6"},{default:i(()=>[e("div",ot,[t[21]||(t[21]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox1",value:"option1"},null,-1)),e("label",at,o(s.$t("active")),1)])]),_:1}),n(m,{lg:"6"},{default:i(()=>[e("div",lt,[t[22]||(t[22]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox2",value:"option2"},null,-1)),e("label",nt,o(s.$t("inactive")),1)])]),_:1}),n(m,{lg:"6"},{default:i(()=>[e("div",it,[t[23]||(t[23]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox3",value:"option3"},null,-1)),e("label",rt,o(s.$t("cash")),1)])]),_:1}),n(m,{lg:"6"},{default:i(()=>[e("div",dt,[t[24]||(t[24]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox4",value:"option4"},null,-1)),e("label",ct,o(s.$t("card")),1)])]),_:1})]),_:1})]),t[25]||(t[25]=e("div",null,null,-1))]),e("div",ut,[n(g,{variant:"light",class:"w-100"},{default:i(()=>[k(o(s.$t("clear_filter")),1)]),_:1}),n(g,{type:"submit",variant:"success",class:"w-100"},{default:i(()=>[k(o(s.$t("apply")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue","title"]),n(h,{paginator:l.paginator,onPageChanged:l.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const Ct=j(me,[["render",mt]]);export{Ct as default};
