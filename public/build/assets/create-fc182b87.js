import{_ as M,am as H,Z as q,O,an as P,C as N,r as U,T as D,g,o as i,x as E,w as p,a as L,N as W,k as _,l as o,J as d,q as f,M as y,i as r,L as b,F as h,y as T,B as k,H as I,n as J}from"./vendor-ddfbd976.js";import{L as A,_ as K}from"./main-306a5ea6.js";import{P as Z}from"./page-header-2dc95532.js";import{P as G}from"./Pagination-f095ae3c.js";import"./searchbar-3acbc236.js";/* empty css                                                    */import{I as Q}from"./ImageUpload-6f09ff26.js";import{F as X}from"./FormValidation-a9047131.js";import{_ as Y,a as $,b as oo,c as to,d as eo}from"./linkedin-7abd54c9.js";import"./footer-e648049d.js";import"./app-042fb454.js";const lo={data(){return{editor:H,editorData:"",showBannerImage:!0,showButton:!0,showFBIcon:!0,showInstaIcon:!0,showTwitterIcon:!0,showLinkedinIcon:!0,parsedFooter:[]}},components:{Layout:A,PageHeader:Z,Head:q,Pagination:G,Multiselect:O,FormValidation:X,ImageUpload:Q,ckeditor:P.component},props:{successMessage:String,alertMessage:String,emails:{type:Object,required:!0},validate:Function},setup(s){const{t:l}=N(),u=U(s.emails&&s.emails.footer?JSON.parse(s.emails.footer):[{footer_content:"",footer_copyrights:"",footer_fblink:"",footer_instalink:"",footer_twitterlink:"",footer_linkedinlink:""}]),e=D({email_subject:s.emails&&s.emails.email_subject||"",logo_img:s.emails&&s.emails.logo_img||"",mail_body:s.emails&&s.emails.mail_body||"",button_name:s.emails&&s.emails.button_name||"",button_url:s.emails&&s.emails.button_url||"",banner_img:s.emails&&s.emails.banner_img||""}),c={email_subject:{required:!0},logo_img:{required:!0},mail_body:{required:!0},button_name:{required:!0},button_url:{required:!0},banner_img:{required:!0}},B=()=>{const m=document.getElementById("iconInput");if(m.files.length>0){const n=m.files[0],a=new Image;a.onload=function(){(a.width!==512||a.height!==512)&&(alert("Icon must be 512x512 pixels."),m.value="")},a.src=URL.createObjectURL(n)}},V=U(null),v=U({}),R=U(s.successMessage||""),w=U(s.alertMessage||""),z=()=>{R.value="",w.value=""},C=async()=>{if(v.value=V.value.validate(),!(Object.keys(v.value).length>0))try{const m=new FormData;for(const a in e)a==="iconFile"&&e[a]?m.append("icon",e[a]):m.append(a,e[a]);let n;Object.keys(u).forEach((a,x)=>{m.append(`footer[${x}][footer_content]`,u[a].footer_content),m.append(`footer[${x}][footer_copyrights]`,u[a].footer_copyrights),m.append(`footer[${x}][footer_fblink]`,u[a].footer_fblink),m.append(`footer[${x}][footer_instalink]`,u[a].footer_instalink),m.append(`footer[${x}][footer_twitterlink]`,u[a].footer_twitterlink),m.append(`footer[${x}][footer_linkedinlink]`,u[a].footer_linkedinlink)}),console.log(u.value),s.emails&&s.emails.id?n=await L.post(`/mail-template/update/${s.emails.id}`,m,{headers:{"Content-Type":"multipart/form-data"}}):n=await L.post("/mail-template/store",m,{headers:{"Content-Type":"multipart/form-data"}}),n.status===201?(R.value=l("mail_template_created_successfully"),e.reset(),W.get("/mail-template")):w.value=l("failed_to_create_mail_template")}catch(m){console.error(l("error_creating_mail_template"),m),w.value=l("failed_to_create_mail_template_catch"),m.response&&m.response.data.errors&&(v.value=m.response.data.errors)}},S=s.vehicleType?s.vehicleType.icon:null,j=(m,n)=>{e[n]=m},F=m=>{e[m]=null};return{form:e,successMessage:R,alertMessage:w,handleSubmit:C,dismissMessage:z,validationRules:c,validationRef:V,errors:v,validateIconSize:B,emails:s.emails,iconUrl:S,handleImageSelected:j,handleImageRemoved:F,footer:u}},methods:{stripHtmlTags(s){return new DOMParser().parseFromString(s,"text/html").body.textContent||""}},mounted(){const s="/storage/uploads/website/images/";if(this.emails.logo_img=`${s}${this.emails.logo_img}`,this.emails.banner_img=`${s}${this.emails.banner_img}`,this.emails.footer)try{this.parsedFooter=JSON.parse(this.emails.footer)}catch(l){console.error(t("error_parsing_footer_content"),l)}}},no={class:"mb-3"},so={class:"form-label",for:"subject"},io=["placeholder"],ro={class:"mb-3"},ao={for:"logo",class:"form-label d-flex"},mo={key:0,class:"text-danger"},co={class:"form-check form-switch form-switch-right form-switch-md mt-4"},fo={for:"radio-toggle-shocade",class:"form-label text-dark"},_o={class:"row mt-3"},uo={class:"col-lg-6"},go={class:"mb-3"},po={class:"form-label",for:"button_name"},bo=["placeholder"],ho={class:"col-lg-6"},yo={class:"mb-3"},ko={class:"form-label",for:"button_url"},vo=["placeholder"],wo={class:"form-check form-switch form-switch-right form-switch-md mt-1 mb-3"},xo={for:"radio-toggle-shocade",class:"form-label text-dark"},Io={class:"mb-4"},Bo={for:"logo",class:"form-label d-flex"},Ro={key:0,class:"text-danger"},Uo={class:"p-3 bg-light rounded mb-4 mt-5"},Vo={class:"mb-3"},Co={class:"form-label",for:"footer_content"},So=["placeholder"],jo={class:"mb-3"},To={class:"form-label",for:"footer_copyrights"},zo=["placeholder"],Fo={class:"input-group mb-3"},Lo={class:"input-group-text"},Mo={class:"input-group-text"},Ho=["placeholder"],qo={class:"input-group mb-3"},Oo={class:"input-group-text"},Po={class:"input-group-text"},No=["placeholder"],Do={class:"input-group mb-3"},Eo={class:"input-group-text"},Wo={class:"input-group-text"},Jo=["placeholder"],Ao={class:"input-group mb-3"},Ko={class:"input-group-text"},Zo={class:"input-group-text"},Go=["placeholder"],Qo={class:"text-end mb-3"},Xo={type:"submit",class:"btn btn-primary"},Yo={class:"col-12"},$o={class:"body-wrap"},ot={class:"container",width:"600"},tt={class:"content"},et={class:"main",width:"100%",cellpadding:"0",cellspacing:"0",itemprop:"action",itemscope:"",itemtype:"http://schema.org/ConfirmAction",style:{"font-family":"'Roboto', sans-serif","box-sizing":"border-box","font-size":"14px","border-radius":"3px",margin:"0",border:"none"}},lt={class:"content-wrap"},nt={width:"100%",cellpadding:"0",cellspacing:"0",style:{"font-family":"'Roboto', sans-serif","box-sizing":"border-box","font-size":"14px",margin:"0"}},st={style:{"font-family":"'Roboto', sans-serif","box-sizing":"border-box","font-size":"14px",margin:"0"}},it={class:"content-block",style:{"font-family":"'Roboto', sans-serif","box-sizing":"border-box","font-size":"14px","vertical-align":"top",margin:"0",padding:"0 0 20px"},valign:"top"},rt={key:0,style:{"margin-bottom":"15px"}},at=["src"],dt={key:1,style:{"margin-bottom":"15px"}},mt={key:0},ct={class:"content-block",style:{"font-family":"'Roboto', sans-serif","box-sizing":"border-box","font-size":"20px","line-height":"1.5","font-weight":"500","vertical-align":"top",margin:"0",padding:"0 0 10px"},valign:"top"},ft={key:1},_t={key:2},ut={key:3},gt={key:4},pt={class:"content-block"},bt={key:0,style:{display:"flex","align-items":"center"}},ht=["src"],yt={key:1,style:{display:"flex","align-items":"center"}},kt={key:5},vt={key:0,style:{display:"flex","align-items":"center"},class:"mt-5"},wt={key:1,style:{display:"flex","align-items":"center"},class:"mt-5"},xt={class:"p-3 bg-light rounded mb-4 mt-5"},It={class:"row g-2"},Bt={key:0},Rt={key:1},Ut={style:{"text-align":"center",margin:"0px auto"}},Vt={class:"row d-flex align-items-center justify-content-center mt-5"},Ct={key:0,class:"col"},St=["href"],jt={key:1,class:"col"},Tt=["href"],zt={key:2,class:"col"},Ft=["href"],Lt={key:3,class:"col"},Mt=["href"],Ht={class:"mt-4"},qt={key:0,style:{"font-family":"'Roboto', sans-serif","font-size":"14px",color:"#98a6ad",margin:"0px"}},Ot={key:1,style:{"font-family":"'Roboto', sans-serif","font-size":"14px",color:"#98a6ad",margin:"0px"}};function Pt(s,l,u,e,c,B){const V=g("PageHeader"),v=g("ImageUpload"),R=g("ckeditor"),w=g("FormValidation"),z=g("BCardBody"),C=g("BCard"),S=g("BCol"),j=g("BLink"),F=g("BRow"),m=g("Layout");return i(),E(m,null,{default:p(()=>[_(V,{title:e.emails?s.$t("edit"):s.$t("create"),pageTitle:s.$t("template"),pageLink:"/mail-template"},null,8,["title","pageTitle"]),_(F,null,{default:p(()=>[_(S,{lg:"6"},{default:p(()=>[_(C,{"no-body":""},{default:p(()=>[_(z,null,{default:p(()=>[o("form",{onSubmit:l[20]||(l[20]=J((...n)=>e.handleSubmit&&e.handleSubmit(...n),["prevent"]))},[_(w,{form:e.form,rules:e.validationRules,ref:"validationRef"},{default:p(()=>[o("div",no,[o("label",so,d(s.$t("email_subject")),1),f(o("input",{type:"text",class:"form-control",id:"email_subject",placeholder:s.$t("enter_subject"),"onUpdate:modelValue":l[0]||(l[0]=n=>e.form.email_subject=n)},null,8,io),[[y,e.form.email_subject]]),(i(!0),r(h,null,b(e.errors.email_subject,(n,a)=>(i(),r("span",{key:a,class:"text-danger"},d(n),1))),128))]),o("div",ro,[o("label",ao,[T(d(s.$t("logo"))+" ",1),l[21]||(l[21]=o("span",null,[o("h5",{class:"text-muted mt-1 mb-0 fs-13"},"(150px x 60px)")],-1))]),_(v,{flexStyle:"0 0 calc(95% - 20px)",aspectRatio:"11 / 2",initialImageUrl:e.form.logo_img,onImageSelected:l[1]||(l[1]=n=>e.handleImageSelected(n,"logo_img")),onImageRemoved:l[2]||(l[2]=()=>e.handleImageRemoved("logo_img"))},null,8,["initialImageUrl"]),e.form.errors.logo_img?(i(),r("span",mo,d(e.form.errors.logo_img),1)):k("",!0)]),o("div",null,[o("label",null,d(s.$t("body_of_the_mail")),1),_(R,{modelValue:e.form.mail_body,"onUpdate:modelValue":l[3]||(l[3]=n=>e.form.mail_body=n),editor:c.editor},null,8,["modelValue","editor"]),(i(!0),r(h,null,b(e.errors.mail_body,(n,a)=>(i(),r("span",{key:a,class:"text-danger"},d(n),1))),128))]),o("div",co,[o("label",fo,d(s.$t("button_enable")),1),f(o("input",{class:"form-check-input code-switcher",type:"checkbox",id:"radio-toggle-shocade","onUpdate:modelValue":l[4]||(l[4]=n=>c.showButton=n)},null,512),[[I,c.showButton]])]),o("div",_o,[o("div",uo,[o("div",go,[o("label",po,d(s.$t("button_name")),1),f(o("input",{type:"text",class:"form-control",id:"button_name",placeholder:s.$t("enter_name"),"onUpdate:modelValue":l[5]||(l[5]=n=>e.form.button_name=n)},null,8,bo),[[y,e.form.button_name]])]),(i(!0),r(h,null,b(e.errors.button_name,(n,a)=>(i(),r("span",{key:a,class:"text-danger"},d(n),1))),128))]),o("div",ho,[o("div",yo,[o("label",ko,d(s.$t("button_url")),1),f(o("input",{type:"url",class:"form-control",id:"button_url",placeholder:s.$t("enter_url"),"onUpdate:modelValue":l[6]||(l[6]=n=>e.form.button_url=n)},null,8,vo),[[y,e.form.button_url]])]),(i(!0),r(h,null,b(e.errors.button_url,(n,a)=>(i(),r("span",{key:a,class:"text-danger"},d(n),1))),128))])]),o("div",wo,[o("label",xo,d(s.$t("banner_image_enable")),1),f(o("input",{class:"form-check-input code-switcher",type:"checkbox",id:"radio-toggle-shocade","onUpdate:modelValue":l[7]||(l[7]=n=>c.showBannerImage=n)},null,512),[[I,c.showBannerImage]])]),o("div",Io,[o("label",Bo,[T(d(s.$t("banner_img"))+" ",1),l[22]||(l[22]=o("span",null,[o("h5",{class:"text-muted mt-1 mb-0 fs-13"},"(600px x 300px)")],-1))]),_(v,{flexStyle:"0 0 calc(95% - 20px)",aspectRatio:"2 / 1",initialImageUrl:e.form.banner_img,onImageSelected:l[8]||(l[8]=n=>e.handleImageSelected(n,"banner_img")),onImageRemoved:l[9]||(l[9]=()=>e.handleImageRemoved("banner_img"))},null,8,["initialImageUrl"]),e.form.errors.banner_img?(i(),r("span",Ro,d(e.form.errors.logo_img),1)):k("",!0)]),o("div",Uo,[o("div",null,[o("div",Vo,[o("label",Co,d(s.$t("footer_content")),1),f(o("input",{type:"text",class:"form-control",id:"footer_content",placeholder:s.$t("enter_footer"),"onUpdate:modelValue":l[10]||(l[10]=n=>e.footer.footer_content=n)},null,8,So),[[y,e.footer.footer_content]]),(i(!0),r(h,null,b(e.errors.footer_content,(n,a)=>(i(),r("span",{key:a,class:"text-danger"},d(n),1))),128))]),o("div",jo,[o("label",To,d(s.$t("copyrights_content")),1),f(o("input",{type:"text",class:"form-control",id:"footer_copyrights",placeholder:s.$t("enter_copyrights"),"onUpdate:modelValue":l[11]||(l[11]=n=>e.footer.footer_copyrights=n)},null,8,zo),[[y,e.footer.footer_copyrights]]),(i(!0),r(h,null,b(e.errors.footer_copyrights,(n,a)=>(i(),r("span",{key:a,class:"text-danger"},d(n),1))),128))]),o("div",null,[o("div",Fo,[o("span",Lo,d(s.$t("facebook")),1),o("div",Mo,[f(o("input",{class:"form-check-input mt-0",type:"checkbox",value:"","aria-label":"Checkbox for following text input","onUpdate:modelValue":l[12]||(l[12]=n=>c.showFBIcon=n)},null,512),[[I,c.showFBIcon]])]),f(o("input",{type:"url",class:"form-control",id:"footer_fblink",placeholder:s.$t("enter_facebook_link"),"onUpdate:modelValue":l[13]||(l[13]=n=>e.footer.footer_fblink=n)},null,8,Ho),[[y,e.footer.footer_fblink]])]),(i(!0),r(h,null,b(e.errors.footer_fblink,(n,a)=>(i(),r("span",{key:a,class:"text-danger"},d(n),1))),128))]),o("div",null,[o("div",qo,[o("span",Oo,d(s.$t("instagram")),1),o("div",Po,[f(o("input",{class:"form-check-input mt-0",type:"checkbox",value:"","aria-label":"Checkbox for following text input","onUpdate:modelValue":l[14]||(l[14]=n=>c.showInstaIcon=n)},null,512),[[I,c.showInstaIcon]])]),f(o("input",{type:"url",class:"form-control",id:"footer_instalink",placeholder:s.$t("enter_instagram_link"),"onUpdate:modelValue":l[15]||(l[15]=n=>e.footer.footer_instalink=n)},null,8,No),[[y,e.footer.footer_instalink]])]),(i(!0),r(h,null,b(e.errors.footer_instalink,(n,a)=>(i(),r("span",{key:a,class:"text-danger"},d(n),1))),128))]),o("div",null,[o("div",Do,[o("span",Eo,d(s.$t("twitter")),1),o("div",Wo,[f(o("input",{class:"form-check-input mt-0",type:"checkbox",value:"","aria-label":"Checkbox for following text input","onUpdate:modelValue":l[16]||(l[16]=n=>c.showTwitterIcon=n)},null,512),[[I,c.showTwitterIcon]])]),f(o("input",{type:"url",class:"form-control",id:"footer_twitterlink",placeholder:s.$t("enter_twitter_link"),"onUpdate:modelValue":l[17]||(l[17]=n=>e.footer.footer_twitterlink=n)},null,8,Jo),[[y,e.footer.footer_twitterlink]])]),(i(!0),r(h,null,b(e.errors.footer_twitterlink,(n,a)=>(i(),r("span",{key:a,class:"text-danger"},d(n),1))),128))]),o("div",null,[o("div",Ao,[o("span",Ko,d(s.$t("linkedin")),1),o("div",Zo,[f(o("input",{class:"form-check-input mt-0",type:"checkbox",value:"","aria-label":"Checkbox for following text input","onUpdate:modelValue":l[18]||(l[18]=n=>c.showLinkedinIcon=n)},null,512),[[I,c.showLinkedinIcon]])]),f(o("input",{type:"url",class:"form-control",id:"footer_linkedinlink",placeholder:s.$t("enter_linkedin_link"),"onUpdate:modelValue":l[19]||(l[19]=n=>e.footer.footer_linkedinlink=n)},null,8,Go),[[y,e.footer.footer_linkedinlink]])]),(i(!0),r(h,null,b(e.errors.footer_linkedinlink,(n,a)=>(i(),r("span",{key:a,class:"text-danger"},d(n),1))),128))])])]),o("div",Qo,[o("button",Xo,d(e.emails?s.$t("update"):s.$t("save")),1)])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1}),_(S,{lg:"6"},{default:p(()=>[_(C,null,{default:p(()=>[o("div",Yo,[o("table",$o,[o("tbody",null,[o("tr",null,[l[34]||(l[34]=o("td",null,null,-1)),o("td",ot,[o("div",tt,[o("table",et,[o("tbody",null,[o("tr",null,[o("td",lt,[l[28]||(l[28]=o("meta",{itemprop:"name",content:"Confirm Email",style:{"font-family":"'Roboto', sans-serif","box-sizing":"border-box","font-size":"14px",margin:"0"}},null,-1)),o("table",nt,[o("tbody",null,[o("tr",st,[o("td",it,[e.emails&&e.emails.logo_img?(i(),r("div",rt,[o("img",{src:e.emails.logo_img,alt:"",height:"23"},null,8,at)])):(i(),r("div",dt,l[23]||(l[23]=[o("img",{src:K,alt:"",height:"23"},null,-1)])))])]),e.emails&&e.emails.email_subject?(i(),r("tr",mt,[o("td",ct,d(e.emails.email_subject),1)])):(i(),r("tr",ft,l[24]||(l[24]=[o("td",{class:"content-block",style:{"font-family":"'Roboto', sans-serif","box-sizing":"border-box","font-size":"20px","line-height":"1.5","font-weight":"500","vertical-align":"top",margin:"0",padding:"0 0 10px"},valign:"top"}," Hello User ",-1)]))),e.emails&&e.emails.mail_body?(i(),r("tr",_t,d(B.stripHtmlTags(e.emails.mail_body)),1)):(i(),r("tr",ut,l[25]||(l[25]=[o("p",null,"Thank you for joining MI Softwares! We are thrilled to have you as a part of our community.",-1),o("p",null,"Our mission is to mobility. We hope that you will find our products\\/services to be useful and enjoyable.",-1),o("p",null,"To get started, please take a few moments to explore our website and familiarize yourself with our offerings. If you have any questions or concerns, our customer support team is always here to help.",-1),o("p",null,"We look forward to working with you and providing you with a top-notch experience.",-1),o("p",null,"Best regards, ",-1),o("p",null,"MI Softwares",-1)]))),c.showBannerImage?(i(),r("tr",gt,[o("td",pt,[e.emails&&e.emails.banner_img?(i(),r("div",bt,[o("img",{class:"img-fluid mt-3",width:"600",height:"300",src:e.emails.banner_img,alt:""},null,8,ht)])):(i(),r("div",yt,l[26]||(l[26]=[o("img",{class:"img-fluid mt-3",width:"600",height:"300",src:Y,alt:""},null,-1)])))])])):k("",!0),c.showButton?(i(),r("tr",kt,[o("td",null,[e.emails&&e.emails.button_name?(i(),r("div",vt,[_(j,{href:e.emails.button_url,target:"_blank",class:"btn btn-primary ms-auto me-auto"},{default:p(()=>[T(d(e.emails.button_name),1)]),_:1},8,["href"])])):(i(),r("div",wt,[_(j,{href:"#",target:"_blank",class:"btn btn-primary ms-auto me-auto"},{default:p(()=>l[27]||(l[27]=[T("Button")])),_:1,__:[27]})]))])])):k("",!0)])])])])])]),o("div",xt,[o("div",It,[e.footer.footer_content?(i(),r("p",Bt,d(B.stripHtmlTags(e.footer.footer_content)),1)):(i(),r("p",Rt,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore.")),o("div",Ut,[l[33]||(l[33]=o("ul",{style:{"list-style":"none",display:"flex","justify-content":"space-evenly","padding-top":"25px","padding-left":"0px","margin-bottom":"20px","font-family":"'Roboto', sans-serif"}},[o("li",null,[o("a",{href:"#",style:{color:"#495057"}},"Subscribe")]),o("li",null,[o("a",{href:"#",style:{color:"#495057"}},"Privacy")]),o("li",null,[o("a",{href:"#",style:{color:"#495057"}},"Web")])],-1)),o("div",Vt,[c.showFBIcon?(i(),r("div",Ct,[o("a",{href:e.footer.footer_fblink},l[29]||(l[29]=[o("img",{class:"img-fluid",src:$,alt:"",width:"40"},null,-1)]),8,St)])):k("",!0),c.showInstaIcon?(i(),r("div",jt,[o("a",{href:e.footer.footer_instalink},l[30]||(l[30]=[o("img",{class:"img-fluid",src:oo,alt:"",width:"40"},null,-1)]),8,Tt)])):k("",!0),c.showTwitterIcon?(i(),r("div",zt,[o("a",{href:e.footer.footer_twitterlink},l[31]||(l[31]=[o("img",{class:"img-fluid",src:to,alt:"",width:"40"},null,-1)]),8,Ft)])):k("",!0),c.showLinkedinIcon?(i(),r("div",Lt,[o("a",{href:e.footer.footer_linkedinlink},l[32]||(l[32]=[o("img",{class:"img-fluid",src:eo,alt:"",width:"40"},null,-1)]),8,Mt)])):k("",!0)]),o("div",Ht,[e.footer.footer_copyrights?(i(),r("p",qt,d(B.stripHtmlTags(e.footer.footer_copyrights)),1)):(i(),r("p",Ot," 2021 Misoftwares & Rights Reserved "))])])])])])])])])])])]),_:1})]),_:1})]),_:1})]),_:1})}const Yt=M(lo,[["render",Pt]]);export{Yt as default};
