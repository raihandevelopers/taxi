import{_ as O,Z as j,O as I,C as Z,T as z,r as b,g as c,o as l,x as E,w as k,a as A,N as J,k as y,l as e,y as u,J as a,q as m,M as q,i as r,L as g,F as v,K as U,B as S,I as K,H as D,n as G}from"./vendor-ddfbd976.js";import{L as Q}from"./main-306a5ea6.js";import{P as W}from"./page-header-2dc95532.js";import{P as X}from"./Pagination-f095ae3c.js";import{i as Y}from"./imageUpload-4f5efd67.js";import{F as $}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";/* empty css                                                    */const ee={components:{Layout:Q,PageHeader:W,Head:j,Pagination:X,Multiselect:I,FormValidation:$,imageUpload:Y},props:{successMessage:String,alertMessage:String,countries:Array,timeZones:Array,document:Object,validate:Function},setup(s){var M,C,B,V,n,d,L,N,P,R,T;const{t}=Z(),i=z({name:((M=s.document)==null?void 0:M.name)||"",has_expiry_date:((B=(C=s.document)==null?void 0:C.has_expiry_date)==null?void 0:B.toString())||"",has_identify_number:((n=(V=s.document)==null?void 0:V.has_identify_number)==null?void 0:n.toString())||"",identify_number_locale_key:((d=s.document)==null?void 0:d.identify_number_locale_key)||"",image_type:((L=s.document)==null?void 0:L.image_type)||"",document_name_front:((N=s.document)==null?void 0:N.document_name_front)||"",document_name_back:((P=s.document)==null?void 0:P.document_name_back)||"",is_editable:((R=s.document)==null?void 0:R.is_editable)==1,is_required:((T=s.document)==null?void 0:T.is_required)==1}),o=b({name:{required:!0},has_expiry_date:{required:!0},has_identify_number:{required:!0},identify_number_locale_key:{required:i.has_identify_number==="yes"},image_type:{required:!0}}),x=b(null),_=b({}),p=b(s.successMessage||""),h=b(s.alertMessage||""),w=b();return{form:i,successMessage:p,alertMessage:h,handleSubmit:async()=>{if(_.value=x.value.validate(),i.image_type=="front_and_back"&&(i.document_name_back?delete _.value.document_name_back:_.value.document_name_back=[t("required")],i.document_name_front?delete _.value.document_name_front:_.value.document_name_front=[t("required")]),!(Object.keys(_.value).length>0))try{let f;s.document&&s.document.id?f=await A.post(`/fleet-needed-documents/update/${s.document.id}`,i.data()):f=await A.post("store",i.data()),f.status===201?(p.value=t("fleet_needed_documents_created_successfully"),i.reset(),J.get("/fleet-needed-documents")):h.value=t("failed_to_create_driver_needed_docs")}catch(f){f.response&&f.response.status===422?_.value=f.response.data.errors:(console.error(t("error_creating_driver_needed_docs"),f),h.value=t("failed_to_create_driver_needed_docs_catch"))}},dismissMessage:()=>{p.value="",h.value=""},selectedCountry:b(null),selectedTimezone:b(null),validationRules:o,validationRef:x,errors:_,has_identify_number:w}}},te={class:"row"},se={class:"col-sm-6"},oe={class:"mb-3"},ne={for:"name",class:"form-label"},ae=["placeholder"],le={class:"col-sm-6"},re={class:"mb-3"},de={for:"image_type",class:"form-label"},ie={disabled:"",selected:"",value:""},me={value:"front"},_e={value:"front_and_back"},ce={key:0,class:"col-sm-6"},ue={class:"mb-3"},fe={for:"document_name_front",class:"form-label"},be=["placeholder"],ye={key:1,class:"col-sm-6"},ge={class:"mb-3"},ve={for:"document_name_back",class:"form-label"},he=["placeholder"],ke={class:"col-sm-6"},pe={class:"mb-3"},Me={for:"has_expiry_date",class:"form-label"},Ce={disabled:"",value:""},Be={value:"1"},Ve={value:"0"},qe={class:"col-sm-6"},Se={class:"mb-3"},xe={for:"has_identify_number",class:"form-label"},we={disabled:"",value:""},Ue={value:"1"},He={value:"0"},Fe={class:"col-sm-6"},Le={class:"mb-3"},Ne={for:"identify_number_locale_key",class:"form-label"},Pe=["placeholder"],Re={class:"col-sm-2"},Te={class:"mt-3"},Ae={class:"form-check form-check-inline"},De={class:"form-check-label",for:"is_editable"},Oe={class:"col-sm-2"},je={class:"mt-3"},Ie={class:"form-check form-check-inline"},Ze={class:"form-check-label",for:"is_required"},ze={class:"col-lg-12"},Ee={class:"text-end"},Je={type:"submit",class:"btn btn-primary"},Ke={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},Ge={class:"alert-content"},Qe={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},We={class:"alert-content"};function Xe(s,t,i,o,x,_){const p=c("Head"),h=c("PageHeader"),w=c("BCardHeader"),H=c("FormValidation"),F=c("BCardBody"),M=c("BCard"),C=c("BCol"),B=c("BRow"),V=c("Layout");return l(),E(V,null,{default:k(()=>[y(p,{title:"Fleet  Needed Documents"}),y(h,{title:i.document?s.$t("edit"):s.$t("create"),pageTitle:s.$t("fleet_needed_documents"),pageLink:"/fleet-needed-documents"},null,8,["title","pageTitle"]),y(B,null,{default:k(()=>[y(C,{lg:"12"},{default:k(()=>[y(M,{"no-body":"",id:"tasksList"},{default:k(()=>[y(w,{class:"border-0"}),y(F,{class:"border border-dashed border-end-0 border-start-0"},{default:k(()=>[e("form",{onSubmit:t[9]||(t[9]=G((...n)=>o.handleSubmit&&o.handleSubmit(...n),["prevent"]))},[y(H,{form:o.form,rules:o.validationRules,ref:"validationRef"},{default:k(()=>[e("div",te,[e("div",se,[e("div",oe,[e("label",ne,[u(a(s.$t("document_name"))+" ",1),t[12]||(t[12]=e("span",{class:"text-danger"},"*",-1))]),m(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_name"),id:"name","onUpdate:modelValue":t[0]||(t[0]=n=>o.form.name=n)},null,8,ae),[[q,o.form.name]]),(l(!0),r(v,null,g(o.errors.name,(n,d)=>(l(),r("span",{key:d,class:"text-danger"},a(n),1))),128))])]),e("div",le,[e("div",re,[e("label",de,[u(a(s.$t("image_type"))+" ",1),t[13]||(t[13]=e("span",{class:"text-danger"},"*",-1))]),m(e("select",{id:"image_type",class:"form-select","onUpdate:modelValue":t[1]||(t[1]=n=>o.form.image_type=n)},[e("option",ie,a(s.$t("select")),1),e("option",me,a(s.$t("front")),1),e("option",_e,a(s.$t("front_and_backs")),1)],512),[[U,o.form.image_type]]),(l(!0),r(v,null,g(o.errors.image_type,(n,d)=>(l(),r("span",{key:d,class:"text-danger"},a(n),1))),128))])]),o.form.image_type=="front_and_back"?(l(),r("div",ce,[e("div",ue,[e("label",fe,[u(a(s.$t("document_name_front"))+" ",1),t[14]||(t[14]=e("span",{class:"text-danger"},"*",-1))]),m(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_name"),id:"name","onUpdate:modelValue":t[2]||(t[2]=n=>o.form.document_name_front=n)},null,8,be),[[q,o.form.document_name_front]]),(l(!0),r(v,null,g(o.errors.document_name_front,(n,d)=>(l(),r("span",{key:d,class:"text-danger"},a(n),1))),128))])])):S("",!0),o.form.image_type=="front_and_back"?(l(),r("div",ye,[e("div",ge,[e("label",ve,[u(a(s.$t("document_name_back"))+" ",1),t[15]||(t[15]=e("span",{class:"text-danger"},"*",-1))]),m(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_name"),id:"name","onUpdate:modelValue":t[3]||(t[3]=n=>o.form.document_name_back=n)},null,8,he),[[q,o.form.document_name_back]]),(l(!0),r(v,null,g(o.errors.document_name_back,(n,d)=>(l(),r("span",{key:d,class:"text-danger"},a(n),1))),128))])])):S("",!0),e("div",ke,[e("div",pe,[e("label",Me,[u(a(s.$t("has_expiry_date"))+" ",1),t[16]||(t[16]=e("span",{class:"text-danger"},"*",-1))]),m(e("select",{id:"has_expiry_date",class:"form-select","onUpdate:modelValue":t[4]||(t[4]=n=>o.form.has_expiry_date=n)},[e("option",Ce,a(s.$t("select")),1),e("option",Be,a(s.$t("yes")),1),e("option",Ve,a(s.$t("no")),1)],512),[[U,o.form.has_expiry_date]]),(l(!0),r(v,null,g(o.errors.has_expiry_date,(n,d)=>(l(),r("span",{key:d,class:"text-danger"},a(n),1))),128))])]),e("div",qe,[e("div",Se,[e("label",xe,[u(a(s.$t("has_identify_number"))+" ",1),t[17]||(t[17]=e("span",{class:"text-danger"},"*",-1))]),m(e("select",{id:"has_identify_number",class:"form-select","onUpdate:modelValue":t[5]||(t[5]=n=>o.form.has_identify_number=n)},[e("option",we,a(s.$t("select")),1),e("option",Ue,a(s.$t("yes")),1),e("option",He,a(s.$t("no")),1)],512),[[U,o.form.has_identify_number]]),(l(!0),r(v,null,g(o.errors.has_identify_number,(n,d)=>(l(),r("span",{key:d,class:"text-danger"},a(n),1))),128))])]),m(e("div",Fe,[e("div",Le,[e("label",Ne,[u(a(s.$t("identify_number_key"))+" ",1),t[18]||(t[18]=e("span",{class:"text-danger"},"*",-1))]),m(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_identify_number_key"),id:"identify_number_locale_key","onUpdate:modelValue":t[6]||(t[6]=n=>o.form.identify_number_locale_key=n)},null,8,Pe),[[q,o.form.identify_number_locale_key]]),(l(!0),r(v,null,g(o.errors.identify_number_locale_key,(n,d)=>(l(),r("span",{key:d,class:"text-danger"},a(n),1))),128))])],512),[[K,o.form.has_identify_number==="1"]]),e("div",Re,[e("div",Te,[e("div",Ae,[m(e("input",{class:"form-check-input",type:"checkbox",id:"is_editable","onUpdate:modelValue":t[7]||(t[7]=n=>o.form.is_editable=n)},null,512),[[D,o.form.is_editable]]),e("label",De,a(s.$t("is_editable")),1)])])]),e("div",Oe,[e("div",je,[e("div",Ie,[m(e("input",{class:"form-check-input",type:"checkbox",id:"is_required","onUpdate:modelValue":t[8]||(t[8]=n=>o.form.is_required=n)},null,512),[[D,o.form.is_required]]),e("label",Ze,a(s.$t("is_required")),1)])])]),e("div",ze,[e("div",Ee,[e("button",Je,a(i.document?s.$t("update"):s.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[o.successMessage?(l(),r("div",Ke,[e("div",Ge,[t[19]||(t[19]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[20]||(t[20]=e("strong",null,"Success",-1)),u(" - "+a(o.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[10]||(t[10]=(...n)=>o.dismissMessage&&o.dismissMessage(...n)),"aria-label":"Close Success Message"})])])):S("",!0),o.alertMessage?(l(),r("div",Qe,[e("div",We,[t[21]||(t[21]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[22]||(t[22]=e("strong",null,"Alert",-1)),u(" - "+a(o.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[11]||(t[11]=(...n)=>o.dismissMessage&&o.dismissMessage(...n)),"aria-label":"Close Alert Message"})])])):S("",!0)])]),_:1})}const rt=O(ee,[["render",Xe]]);export{rt as default};
