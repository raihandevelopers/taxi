import{_ as T,Z as S,O as j,C as L,T as N,r as y,Q as P,g as l,o as g,x as E,w as _,a as V,N as A,k as c,l as e,y as x,J as t,B as C,q as f,H as O,p as R,M as k,i as M,n as F}from"./vendor-ddfbd976.js";import{L as W}from"./main-306a5ea6.js";import{P as q}from"./page-header-2dc95532.js";import{P as I}from"./Pagination-f095ae3c.js";import{i as z}from"./imageUpload-4f5efd67.js";import{F as J}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";/* empty css                                                    */const K={components:{Layout:W,PageHeader:q,Head:S,Pagination:I,Multiselect:j,FormValidation:J,imageUpload:z},props:{successMessage:String,alertMessage:String,referral_commission_amount_for_user:Object,referral_commission_amount_for_driver:Object,referral_commission_amount_for_user_reffering_a_driver:Object,referral_commission_amount_for_driver_reffering_a_user:Object,enable_user_referral_earnings:Object,enable_driver_referral_earnings:Object,app_for:String,validate:Function},setup(o){var v,b,p,w;const{t:r}=L(),n=N({enable_user_referral_earnings:o.enable_user_referral_earnings??!1,enable_driver_referral_earnings:o.enable_driver_referral_earnings??!1,referral_commission_amount_for_user:((v=o.referral_commission_amount_for_user)==null?void 0:v.value)??"",referral_commission_amount_for_user_reffering_a_driver:((b=o.referral_commission_amount_for_user_reffering_a_driver)==null?void 0:b.value)??"",referral_commission_amount_for_driver:((p=o.referral_commission_amount_for_driver)==null?void 0:p.value)??"",referral_commission_amount_for_driver_reffering_a_user:((w=o.referral_commission_amount_for_driver_reffering_a_user)==null?void 0:w.value)??""}),s=y(null),m=y({}),u=y(o.successMessage||""),d=y(o.alertMessage||""),U=()=>{u.value="",d.value=""},B=async()=>{if(m.value=s.value.validate(),!(Object.keys(m.value).length>0))try{(await V.post("/referral-settings/update",n.data())).status===200?(u.value=r("referral_settings_updated_successfully"),A.get("/referral-settings")):d.value=r("failed_to_update_referral_settings")}catch(i){i.response&&i.response.status===422?m.value=i.response.data.errors:(console.error(r("error_updating_referral_settings"),i),d.value=r("failed_to_update_referral_settings"))}},h=async i=>{const a=i.target.checked,H=i.target.getAttribute("data-key");n[H]=a;try{(await V.post("/referral-settings/toggle",{key:H,enabled:a})).status===200?u.value=r("referral_settings_toggled_successfully"):d.value=r("failed_to_toggle_referral_settings")}catch(D){console.error(r("error_toggling_referral_settings"),D),d.value=r("failed_to_toggle_referral_settings")}};return P(()=>n.enable_user_referral_earnings,i=>{console.log("Updated enable_user_referral_earnings:",i)}),{form:n,successMessage:u,alertMessage:d,handleSubmit:B,dismissMessage:U,handleToggle:h,validationRef:s,errors:m}}},Q={class:"alert bg-warning border-warning fs-18",role:"alert"},Z={class:"row"},G={class:"accordion custom-accordionwithicon-plus",id:"accordionWithplusiconUser"},X={class:"accordion-item"},Y={class:"accordion-header",id:"accordionwithplusExampleUser"},$={class:"card border rounded"},ee={class:"card-body"},re={class:"d-flex mt-1"},se={class:"ms-auto"},oe={class:"form-check form-switch form-switch-lg mt-2"},ae=["disabled"],te={class:"accordion-body"},ne={class:"card border rounded"},ie={class:"card-header accordion-body p-3"},le={class:"row"},de={class:"col-lg-6"},_e={class:"col-lg-6"},ce={class:"border p-4 rounded bg-light"},fe={for:"referral_commission_amount_for_user",class:"form-label"},me=["readonly"],ue={class:"row mt-4"},ge={class:"col-lg-6"},he={class:"col-lg-6"},ve={class:"border p-4 rounded bg-light"},be={for:"referral_commission_amount_for_user_reffering_a_driver",class:"form-label"},pe=["readonly"],we={class:"row mt-5"},ye={class:"accordion custom-accordionwithicon-plus",id:"accordionWithplusiconDriver"},Ce={class:"accordion-item"},ke={class:"accordion-header",id:"accordionwithplusExampleDriver"},Ue={class:"card border rounded"},Be={class:"card-body"},xe={class:"d-flex mt-1"},Me={class:"ms-auto"},He={class:"form-check form-switch form-switch-lg mt-2"},De=["disabled"],Ee={class:"accordion-body"},Ve={class:"card border rounded"},Oe={class:"card-header accordion-body p-3"},Re={class:"row"},Te={class:"col-lg-6"},Se={class:"col-lg-6"},je={class:"border p-4 rounded bg-light"},Le={for:"referral_commission_amount_for_driver_reffering_a_user",class:"form-label"},Ne=["readonly"],Pe={class:"row mt-4"},Ae={class:"col-lg-6"},Fe={class:"col-lg-6"},We={class:"border p-4 rounded bg-light"},qe={for:"referral_commission_amount_for_driver",class:"form-label"},Ie=["readonly"],ze={key:0,class:"mt-4"},Je={type:"submit",class:"btn btn-primary"},Ke={key:0,class:"alert alert-success mt-3",role:"alert"},Qe={key:1,class:"alert alert-danger mt-3",role:"alert"};function Ze(o,r,n,s,m,u){const d=l("Head"),U=l("PageHeader"),B=l("BCardHeader"),h=l("BCard"),v=l("FormValidation"),b=l("BCardBody"),p=l("BCol"),w=l("BRow"),i=l("Layout");return g(),E(i,null,{default:_(()=>[c(d,{title:"Referral Settings"}),c(U,{title:o.$t("referral-settings"),pageTitle:o.$t("referral-settings")},null,8,["title","pageTitle"]),c(w,null,{default:_(()=>[c(p,{lg:"12"},{default:_(()=>[n.app_for==="demo"?(g(),E(h,{key:0,"no-body":"",id:"tasksList"},{default:_(()=>[c(B,{class:"border-0"},{default:_(()=>[e("div",Q,[e("strong",null,[x(t(o.$t("note"))+" : ",1),e("em",null,t(o.$t("actions_restricted_due_to_demo_mode")),1)])])]),_:1})]),_:1})):C("",!0),c(h,{"no-body":"",id:"tasksList"},{default:_(()=>[c(b,{class:"border border-dashed border-end-0 border-start-0"},{default:_(()=>[e("form",{onSubmit:r[8]||(r[8]=F((...a)=>s.handleSubmit&&s.handleSubmit(...a),["prevent"]))},[c(v,{form:s.form,rules:o.validationRules,ref:"validationRef"},{default:_(()=>[e("section",Z,[e("div",G,[e("div",X,[e("div",Y,[e("div",$,[e("div",ee,[e("div",re,[e("div",null,[e("h5",null,t(o.$t("user_referral_earnings_setup")),1),r[11]||(r[11]=e("p",{class:"fs-12"},"Invite others to use our app with your unique referral code and earn exciting rewards!",-1))]),e("div",se,[e("div",oe,[f(e("input",{class:"form-check-input",type:"checkbox",disabled:n.app_for=="demo","data-bs-toggle":"collapse","data-bs-target":"#showContentUser","aria-expanded":"true","aria-controls":"showContentUser",onChange:r[0]||(r[0]=(...a)=>s.handleToggle&&s.handleToggle(...a)),"data-key":"enable_user_referral_earnings","aria-label":"Toggle User Referral Earnings Setup","onUpdate:modelValue":r[1]||(r[1]=a=>s.form.enable_user_referral_earnings=a)},null,40,ae),[[O,s.form.enable_user_referral_earnings]])])])])])])])]),e("div",{id:"showContentUser",class:R(["accordion-collapse collapse",{show:s.form.enable_user_referral_earnings}]),"aria-labelledby":"accordionwithplusExampleUser","data-bs-parent":"#accordionWithplusiconUser"},[e("div",te,[e("div",ne,[e("div",ie,[e("div",le,[e("div",de,[e("h6",null,t(o.$t("who_share_the_code_when_user_reffers_user")),1),r[12]||(r[12]=e("p",{class:"fs-12"},"Offer a reward to Users for each referral when they share their code with Users.",-1))]),e("div",_e,[e("div",ce,[e("label",fe,t(o.$t("earnings_to_each_referral")),1),f(e("input",{type:"text",class:"form-control",placeholder:"Enter the Amount",id:"referral_commission_amount_for_user",name:"referral_commission_amount_for_user",readonly:n.app_for=="demo","onUpdate:modelValue":r[2]||(r[2]=a=>s.form.referral_commission_amount_for_user=a),"aria-describedby":"userReferralHelp"},null,8,me),[[k,s.form.referral_commission_amount_for_user]]),r[13]||(r[13]=e("small",{id:"userReferralHelp",class:"form-text text-muted"},"Enter the amount Users earn for each referral.",-1))])])]),r[16]||(r[16]=e("div",{class:"border mt-4"},null,-1)),e("div",ue,[e("div",ge,[e("h6",null,t(o.$t("who_share_the_code_when_user_reffers_driver")),1),r[14]||(r[14]=e("p",{class:"fs-12"},"Offer a reward to Users for each referral when they share their code with Drivers.",-1))]),e("div",he,[e("div",ve,[e("label",be,t(o.$t("bonus_in_wallet")),1),f(e("input",{type:"text",class:"form-control",placeholder:"Enter the Amount",readonly:n.app_for=="demo",name:"referral_commission_amount_for_user_reffering_a_driver",id:"referral_commission_amount_for_user_reffering_a_driver","onUpdate:modelValue":r[3]||(r[3]=a=>s.form.referral_commission_amount_for_user_reffering_a_driver=a),"aria-describedby":"walletBonusHelp"},null,8,pe),[[k,s.form.referral_commission_amount_for_user_reffering_a_driver]]),r[15]||(r[15]=e("small",{id:"walletBonusHelp",class:"form-text text-muted"},"Enter the amount Users earn for each referral.",-1))])])])])])])],2)])]),e("section",we,[e("div",ye,[e("div",Ce,[e("div",ke,[e("div",Ue,[e("div",Be,[e("div",xe,[e("div",null,[e("h5",null,t(o.$t("driver_referral_earnings_setup")),1),r[17]||(r[17]=e("p",{class:"fs-12"},"Invite drivers to use our app with your unique referral code and earn exciting rewards!",-1))]),e("div",Me,[e("div",He,[f(e("input",{class:"form-check-input",type:"checkbox","data-bs-toggle":"collapse","data-bs-target":"#showContentDriver","aria-expanded":"true",disabled:n.app_for=="demo","aria-controls":"showContentDriver",onChange:r[4]||(r[4]=(...a)=>s.handleToggle&&s.handleToggle(...a)),"data-key":"enable_driver_referral_earnings","aria-label":"Toggle Driver Referral Earnings Setup","onUpdate:modelValue":r[5]||(r[5]=a=>s.form.enable_driver_referral_earnings=a)},null,40,De),[[O,s.form.enable_driver_referral_earnings]])])])])])])])]),e("div",{id:"showContentDriver",class:R(["accordion-collapse collapse",{show:s.form.enable_driver_referral_earnings}]),"aria-labelledby":"accordionwithplusExampleDriver","data-bs-parent":"#accordionWithplusiconDriver"},[e("div",Ee,[e("div",Ve,[e("div",Oe,[e("div",Re,[e("div",Te,[e("h6",null,t(o.$t("who_share_the_code_when_driver_reffers_user")),1),r[18]||(r[18]=e("p",{class:"fs-12"},"Offer a reward to Drivers for each referral when they share their code with Users.",-1))]),e("div",Se,[e("div",je,[e("label",Le,t(o.$t("earnings_to_each_referral")),1),f(e("input",{type:"text",class:"form-control",placeholder:"Enter the Amount",id:"referral_commission_amount_for_driver_reffering_a_user",name:"referral_commission_amount_for_driver_reffering_a_user",readonly:n.app_for=="demo","onUpdate:modelValue":r[6]||(r[6]=a=>s.form.referral_commission_amount_for_driver_reffering_a_user=a),"aria-describedby":"driverReferralHelp"},null,8,Ne),[[k,s.form.referral_commission_amount_for_driver_reffering_a_user]]),r[19]||(r[19]=e("small",{id:"driverReferralHelp",class:"form-text text-muted"},"Enter the amount Drivers earn for each referral.",-1))])])]),r[22]||(r[22]=e("div",{class:"border mt-4"},null,-1)),e("div",Pe,[e("div",Ae,[e("h6",null,t(o.$t("who_share_the_code_when_driver_reffers_driver")),1),r[20]||(r[20]=e("p",{class:"fs-12"},"Offer a reward to Drivers for each referral when they share their code with Drivers.",-1))]),e("div",Fe,[e("div",We,[e("label",qe,t(o.$t("bonus_in_wallet")),1),f(e("input",{type:"text",class:"form-control",placeholder:"Enter the Amount",name:"referral_commission_amount_for_driver",id:"referral_commission_amount_for_driver",readonly:n.app_for=="demo","onUpdate:modelValue":r[7]||(r[7]=a=>s.form.referral_commission_amount_for_driver=a),"aria-describedby":"driverBonusHelp"},null,8,Ie),[[k,s.form.referral_commission_amount_for_driver]]),r[21]||(r[21]=e("small",{id:"driverBonusHelp",class:"form-text text-muted"},"Enter the amount Drivers earn for each referral.",-1))])])])])])])],2)])]),n.app_for!=="demo"?(g(),M("div",ze,[e("button",Je,t(o.$t("update_referral_settings")),1)])):C("",!0)]),_:1},8,["form","rules"])],32),s.successMessage?(g(),M("div",Ke,[x(t(s.successMessage)+" ",1),e("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:r[9]||(r[9]=(...a)=>s.dismissMessage&&s.dismissMessage(...a))})])):C("",!0),s.alertMessage?(g(),M("div",Qe,[x(t(s.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:r[10]||(r[10]=(...a)=>s.dismissMessage&&s.dismissMessage(...a))})])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const tr=T(K,[["render",Ze]]);export{tr as default};
