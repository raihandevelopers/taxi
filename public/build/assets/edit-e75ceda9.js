import{_ as H,Z as L,O as N,C as P,T as R,r as p,g as n,o as u,x as F,w as m,a as B,N as T,k as i,l as e,y as g,J as l,q as C,M as h,i as w,B as v,n as x}from"./vendor-ddfbd976.js";import{L as U}from"./main-306a5ea6.js";import{P as q}from"./page-header-2dc95532.js";import{P as D}from"./Pagination-f095ae3c.js";import{i as I}from"./imageUpload-4f5efd67.js";import{F as O}from"./FormValidation-a9047131.js";import{I as j}from"./ImageUpload-6f09ff26.js";import"./footer-e648049d.js";import"./app-042fb454.js";/* empty css                                                    */const E={components:{Layout:U,PageHeader:q,Head:L,Pagination:D,Multiselect:N,FormValidation:O,imageUpload:I,ImageUpload:j},props:{successMessage:String,alertMessage:String,app_for:String,countries:Array,roles:Array,role:Array,admin:Array,serviceLocations:Array,validate:Function},setup(a){const{t:s}=P(),c=R({password:a.admin&&a.admin.password||"",confirm_password:a.admin&&a.admin.password||""}),o={password:{required:!0},confirm_password:{required:!a.admin,sameAs:"password"}},b=p(null),f=p({}),_=p(a.successMessage||""),d=p(a.alertMessage||"");return{form:c,successMessage:_,alertMessage:d,handleSubmit:async()=>{if(f.value=b.value.validate(),!(Object.keys(f.value).length>0))try{let t;a.admin&&a.admin.id?t=await B.post(`/admins/password/update/${a.admin.id}`,c.data()):t=await B.post("store",formData),t.status===201?(_.value=s("admin_created_successfully"),c.reset(),T.get("/admins")):d.value=s("failed_to_create_admin")}catch(t){t.response&&t.response.status===422?f.value=t.response.data.errors:(console.error(s("error_creating_admin"),t),d.value=s("failed_to_create_admin"))}},dismissMessage:()=>{_.value="",d.value=""},validationRules:o,validationRef:b,errors:f}}},J={class:"row"},Z={class:"col-sm-6"},z={class:"mb-3"},G={for:"password",class:"form-label"},K=["placeholder"],Q={key:0,class:"text-danger"},W={class:"col-sm-6"},X={class:"mb-3"},Y={for:"confirm_password",class:"form-label"},$=["placeholder"],ss={key:0,class:"text-danger"},es={class:"col-lg-12"},os={class:"text-end"},as={type:"submit",class:"btn btn-primary"},ts={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},rs={class:"alert-content"},ns={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},is={class:"alert-content"};function ls(a,s,c,o,b,f){const _=n("Head"),d=n("PageHeader"),y=n("BCardHeader"),M=n("FormValidation"),t=n("BCardBody"),k=n("BCard"),S=n("BCol"),A=n("BRow"),V=n("Layout");return u(),F(V,null,{default:m(()=>[i(_,{title:"Admin"}),i(d,{title:c.admin?a.$t("edit"):a.$t("create"),pageTitle:a.$t("admins"),pageLink:"/admins"},null,8,["title","pageTitle"]),i(A,null,{default:m(()=>[i(S,{lg:"12"},{default:m(()=>[i(k,{"no-body":"",id:"tasksList"},{default:m(()=>[i(y,{class:"border-0"}),i(t,{class:"border border-dashed border-end-0 border-start-0"},{default:m(()=>[e("form",{onSubmit:s[2]||(s[2]=x((...r)=>o.handleSubmit&&o.handleSubmit(...r),["prevent"]))},[i(M,{form:o.form,rules:o.validationRules,ref:"validationRef"},{default:m(()=>[e("div",J,[e("div",Z,[e("div",z,[e("label",G,[g(l(a.$t("password"))+" ",1),s[5]||(s[5]=e("span",{class:"text-danger"},"*",-1))]),C(e("input",{type:"password",name:"password",class:"form-control",placeholder:a.$t("enter_password"),id:"password","onUpdate:modelValue":s[0]||(s[0]=r=>o.form.password=r)},null,8,K),[[h,o.form.password]]),o.errors.password?(u(),w("span",Q,l(o.errors.password),1)):v("",!0)])]),e("div",W,[e("div",X,[e("label",Y,[g(l(a.$t("confirm_password"))+" ",1),s[6]||(s[6]=e("span",{class:"text-danger"},"*",-1))]),C(e("input",{type:"password",name:"confirm_password",class:"form-control",placeholder:a.$t("confirm_password"),id:"confirm_password","onUpdate:modelValue":s[1]||(s[1]=r=>o.form.confirm_password=r)},null,8,$),[[h,o.form.confirm_password]]),o.errors.confirm_password?(u(),w("span",ss,l(o.errors.confirm_password),1)):v("",!0)])]),e("div",es,[e("div",os,[e("button",as,l(a.serviceLocation?a.$t("update"):a.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[o.successMessage?(u(),w("div",ts,[e("div",rs,[s[7]||(s[7]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[8]||(s[8]=e("strong",null,"Success",-1)),g(" - "+l(o.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:s[3]||(s[3]=(...r)=>o.dismissMessage&&o.dismissMessage(...r)),"aria-label":"Close Success Message"})])])):v("",!0),o.alertMessage?(u(),w("div",ns,[e("div",is,[s[9]||(s[9]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[10]||(s[10]=e("strong",null,"Alert",-1)),g(" - "+l(o.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[4]||(s[4]=(...r)=>o.dismissMessage&&o.dismissMessage(...r)),"aria-label":"Close Alert Message"})])])):v("",!0)])]),_:1})}const bs=H(E,[["render",ls]]);export{bs as default};
