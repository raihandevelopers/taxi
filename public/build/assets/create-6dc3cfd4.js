import{_ as R,Z as j,O as D,C as O,r as m,T as P,D as U,g as c,o as r,x as A,w as u,a as F,N as E,k as _,i as n,l as e,y as f,J as l,B as h,L as M,p as z,F as k,q as L,M as I,K as N,n as J}from"./vendor-ddfbd976.js";import{L as K}from"./main-306a5ea6.js";import{P as Q}from"./page-header-2dc95532.js";import{F as Z}from"./FormValidation-a9047131.js";import{u as G}from"./footer-e648049d.js";import"./app-042fb454.js";const W={components:{Layout:K,PageHeader:Q,Head:j,Multiselect:D,FormValidation:Z},props:{title:Object,successMessage:String,alertMessage:String,app_for:String,category:Array,languages:Array},setup(s){const{t}=O(),{languages:y,fetchData:o}=G(),C=m("English"),B=m({}),w=m(null),S=m(s.category),b=P({title:s.title?s.title.title||{}:{},title_type:s.title&&s.title.title_type||" ",user_type:s.title&&s.title.user_type||" "}),p=m(s.successMessage||""),v=m(s.alertMessage||""),g={title:{required:!0},title_type:{required:!0},user_type:{requires:!0}},T=m(""),V=async()=>{try{let i;s.title&&s.title.id?i=await F.post(`/title/update/${s.title.id}`,b.data()):i=await F.post("store",b.data()),i.status===201?(p.value=t("title_created_successfully"),b.reset(),E.get("/title")):v.value=t("failed_to_create_title")}catch(i){i.response&&i.response.status===422?B.value=i.response.data.errors:(console.error(t("error_creating_title"),i),v.value=t("failed_to_create_title_catch"))}},q=i=>{C.value=i};return U(async()=>{Object.keys(y).length==0&&await o()}),{form:b,successMessage:p,alertMessage:v,errors:B,handleSubmit:V,validationRef:w,validationRules:g,searchQuery:T,category:S,setActiveTab:q,activeTab:C,languages:y}}},X={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Y={class:"alert-content"},$={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},x={class:"alert-content"},ee={class:"row"},te={class:"nav nav-tabs nav-tabs-custom nav-success nav-justified",role:"tablist"},se={class:"nav-item",role:"presentation"},oe=["onClick"],ae=["id"],le={class:"row"},re={class:"col-sm-6 mt-3"},ie={class:"mb-3"},ne=["for"],de=["placeholder","id","onUpdate:modelValue","required"],ce={key:0,class:"text-danger mt-1"},_e={class:"col-sm-6"},ue={class:"mb-3 mt-3"},me={for:"title_type",class:"form-label"},fe={disabled:"",value:""},be={value:"general"},ve={value:"request"},ye={class:"col-sm-6"},pe={class:"mb-3"},ge={for:"user_type",class:"form-label"},he={disabled:"",value:""},Me={value:"user"},ke={value:"driver"},Ce={class:"col-sm-12 text-end"},Be=["disabled"];function we(s,t,y,o,C,B){const w=c("Head"),S=c("PageHeader"),b=c("tab"),p=c("BCardHeader"),v=c("BCol"),g=c("BRow"),T=c("FormValidation"),V=c("BCardBody"),q=c("BCard"),i=c("Layout");return r(),A(i,null,{default:u(()=>[_(w,{title:"Title"}),_(S,{title:y.title?s.$t("edit"):s.$t("create"),pageTitle:s.$t("title"),pageLink:"/title"},null,8,["title","pageTitle"]),_(g,null,{default:u(()=>[_(v,{lg:"12"},{default:u(()=>[_(q,{"no-body":"",id:"tasksList"},{default:u(()=>[_(p,{class:"border-0"},{default:u(()=>[_(b),o.successMessage?(r(),n("div",X,[e("div",Y,[t[5]||(t[5]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[6]||(t[6]=f()),t[7]||(t[7]=e("strong",null,"Success",-1)),f(" - "+l(o.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[0]||(t[0]=(...a)=>s.dismissMessage&&s.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):h("",!0),o.alertMessage?(r(),n("div",$,[e("div",x,[t[8]||(t[8]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[9]||(t[9]=f()),t[10]||(t[10]=e("strong",null,"Alert",-1)),f(" - "+l(o.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[1]||(t[1]=(...a)=>s.dismissMessage&&s.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):h("",!0)]),_:1}),_(V,{class:"border border-dashed border-end-0 border-start-0"},{default:u(()=>[e("form",{onSubmit:t[4]||(t[4]=J((...a)=>o.handleSubmit&&o.handleSubmit(...a),["prevent"])),enctype:"multipart/form-data"},[_(T,{form:o.form,rules:o.validationRules,ref:"validationRef"},{default:u(()=>[e("div",ee,[e("ul",te,[(r(!0),n(k,null,M(o.languages,a=>(r(),A(g,{key:a.code},{default:u(()=>[_(v,{lg:"12"},{default:u(()=>[e("li",se,[e("a",{class:z(["nav-link",{active:o.activeTab===a.label}]),onClick:d=>o.setActiveTab(a.label),role:"tab","aria-selected":"true"},l(a.label),11,oe)])]),_:2},1024)]),_:2},1024))),128))]),(r(!0),n(k,null,M(o.languages,a=>(r(),n("div",{class:"tab-content text-muted",key:a.code},[o.activeTab===a.label?(r(),n("div",{key:0,class:"tab-pane active show",id:`${a.label}`,role:"tabpanel"},[e("div",le,[e("div",re,[e("div",ie,[e("label",{for:`name-${a.code}`,class:"form-label"},[f(l(s.$t("title"))+" ",1),t[11]||(t[11]=e("span",{class:"text-danger"},"*",-1))],8,ne),L(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_name_in",{language:`${a.label}`}),id:`name-${a.code}`,"onUpdate:modelValue":d=>o.form.title[a.code]=d,required:a.code==="en"},null,8,de),[[I,o.form.title[a.code]]])]),o.form.title[a.code]&&o.form.title[a.code].length>100?(r(),n("div",ce,l(s.$t("title_must_be_less_than_100_characters")),1)):h("",!0)]),e("div",_e,[e("div",ue,[e("label",me,[f(l(s.$t("title_type"))+" ",1),t[12]||(t[12]=e("span",{class:"text-danger"},"*",-1))]),L(e("select",{id:"title_type",class:"form-select","onUpdate:modelValue":t[2]||(t[2]=d=>o.form.title_type=d)},[e("option",fe,l(s.$t("choose_title_type")),1),e("option",be,l(s.$t("general")),1),e("option",ve,l(s.$t("request")),1)],512),[[N,o.form.title_type]]),(r(!0),n(k,null,M(o.errors.title_type,(d,H)=>(r(),n("span",{key:H,class:"text-danger"},l(d),1))),128))])]),e("div",ye,[e("div",pe,[e("label",ge,[f(l(s.$t("user_type"))+" ",1),t[13]||(t[13]=e("span",{class:"text-danger"},"*",-1))]),L(e("select",{id:"select__user_type",class:"form-select","onUpdate:modelValue":t[3]||(t[3]=d=>o.form.user_type=d)},[e("option",he,l(s.$t("select")),1),e("option",Me,l(s.$t("user")),1),e("option",ke,l(s.$t("driver")),1)],512),[[N,o.form.user_type]]),(r(!0),n(k,null,M(o.errors.user_type,(d,H)=>(r(),n("span",{key:H,class:"text-danger"},l(d),1))),128))])])])],8,ae)):h("",!0)]))),128)),e("div",Ce,[e("button",{type:"submit",class:"btn btn-primary",disabled:Object.values(o.form.title).some(a=>a&&a.length>100)},l(s.$t("submit")),9,Be)])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Ae=R(W,[["render",we]]);export{Ae as default};
