import{_ as P,Z as A,O as E,C as O,T as D,r as c,g as h,o as _,i as a,k as u,w as b,l as e,J as o,F as m,a as L,U as S,N as I,x as K,y as C,B as V,q as f,K as W,L as g,M as v,H as q,n as N}from"./vendor-ddfbd976.js";import{L as z}from"./main-306a5ea6.js";import{P as J}from"./page-header-2dc95532.js";import{P as Y}from"./Pagination-f095ae3c.js";import{F as Z}from"./FormValidation-a9047131.js";import"./footer-e648049d.js";import"./app-042fb454.js";const G={components:{Layout:z,PageHeader:J,Head:A,Pagination:Y,Multiselect:E,FormValidation:Z},props:{successMessage:String,alertMessage:String,app_for:String,settings:Object,validate:Function},setup(s){const{t}=O(),d=D({trip_dispatch_type:s.settings.trip_dispatch_type||"",driver_search_radius:s.settings.driver_search_radius||"",maximum_time_for_accept_reject_bidding_ride:s.settings.maximum_time_for_accept_reject_bidding_ride||"",user_can_make_a_ride_after_x_miniutes:s.settings.user_can_make_a_ride_after_x_miniutes||"",maximum_time_for_find_drivers_for_bitting_ride:s.settings.maximum_time_for_find_drivers_for_bitting_ride||"",minimum_time_for_search_drivers_for_schedule_ride:s.settings.minimum_time_for_search_drivers_for_schedule_ride||"",minimum_time_for_starting_trip_drivers_for_schedule_ride:s.settings.minimum_time_for_starting_trip_drivers_for_schedule_ride||"",maximum_time_for_find_drivers_for_regular_ride:s.settings.maximum_time_for_find_drivers_for_regular_ride||"",trip_accept_reject_duration_for_driver:s.settings.trip_accept_reject_duration_for_driver||"",how_many_times_a_driver_can_enable_the_my_route_booking_per_day:s.settings.how_many_times_a_driver_can_enable_the_my_route_booking_per_day||"",bidding_low_percentage:s.settings.bidding_low_percentage||"",bidding_high_percentage:s.settings.bidding_high_percentage||"",bidding_amount_increase_or_decrease:s.settings.bidding_amount_increase_or_decrease||"",can_round_the_bill_values:s.settings.can_round_the_bill_values==="1"}),i={},T=c(null),w=c({}),M=c(s.successMessage||""),p=c(s.alertMessage||""),x=c(!1),B=c(""),y=c(""),j=c(!1),R=async()=>{try{const l=j.value?1:0;await L.post("/transport-ride-settings/update-status",{id:y.value,status:l}),d[y.value]=j.value}catch(l){console.error("Error updating status",l)}finally{x.value=!1}},U=()=>{y.value?d[y.value]=s.settings[y.value]==="1":console.warn("No toggle field set to cancel."),x.value=!1},F=async(l,k)=>{if(s.app_for=="demo"){d[l]=!k,S.fire(t("error"),t("you_are_not_authorised"),"error");return}try{(await S.fire({title:`Are you sure you want to ${k?"enable":"disable"} this setting?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, proceed",cancelButtonText:"Cancel"})).isConfirmed?(await L.post("/transport-ride-settings/update-status",{id:l,status:k?1:0}),d[l]=k,S.fire("Updated!",`Setting has been ${k?"enabled":"readonly"}.`,"success")):d[l]=!k}catch(H){console.error("Error updating status",H),d[l]=!k}};return{form:d,successMessage:M,alertMessage:p,handleSubmit:async()=>{if(s.app_for=="demo"){S.fire(t("error"),t("you_are_not_authorised"),"error");return}if(w.value=T.value.validate(),!(Object.keys(w.value).length>0))try{let l;s.settings?l=await L.post("/transport-ride-settings/update",d.data()):p.value=t("failed_to_update_transport_ride_settings"),l.status===200?(M.value=t("transport_ride_settings_created_successfully"),d.reset(),I.get("/transport-ride-settings")):p.value=t("failed_to_update_transport_ride_settings")}catch(l){l.response&&l.response.status===422?w.value=l.response.data.errors:(console.error(t("error_updating_transport_ride_settings"),l),p.value=t("failed_to_update_transport_ride_settings"))}},dismissMessage:()=>{M.value="",p.value=""},selectedCountry:c(null),selectedTimezone:c(null),validationRules:i,validationRef:T,confirmToggle:F,enableStatus:R,cancelModal:U,modalText:B,showModal:x,errors:w}}},Q={class:"alert bg-warning border-warning fs-18",role:"alert"},X={class:"row"},$={class:"col-sm-6"},ee={class:"mb-3"},te={for:"trip_dispatch_type",class:"form-label"},re=["disabled"],se={value:"1"},ie={value:"0"},oe={class:"col-sm-6"},_e={class:"mb-3"},ae={for:"driver_search_radius",class:"form-label"},de=["readonly","placeholder"],ne={class:"col-sm-6"},le={class:"mb-3"},me={for:"maximum_time_for_accept_reject_bidding_ride",class:"form-label"},ce=["readonly","placeholder"],ue={class:"col-sm-6"},fe={class:"mb-3"},ge={for:"user_can_make_a_ride_after_x_miniutes",class:"form-label"},he=["readonly","placeholder"],be={class:"col-sm-6"},ve={class:"mb-3"},pe={for:"maximum_time_for_find_drivers_for_bitting_ride",class:"form-label"},ye=["readonly","placeholder"],ke={class:"col-sm-6"},xe={class:"mb-3"},we={for:"minimum_time_for_search_drivers_for_schedule_ride",class:"form-label"},Me={href:"",class:"text-success","data-bs-toggle":"modal","data-bs-target":"#high"},Ce=["readonly","placeholder"],Be={class:"col-sm-6"},je={class:"mb-3"},Se={for:"maximum_time_for_find_drivers_for_regular_ride",class:"form-label"},Ve=["readonly","placeholder"],Te={class:"col-sm-6"},Re={class:"mb-3"},Ue={for:"minimum_time_for_starting_trip_drivers_for_schedule_ride",class:"form-label"},Fe={href:"",class:"text-success","data-bs-toggle":"modal","data-bs-target":"#low"},Le=["readonly","placeholder"],He={class:"col-sm-6"},Ne={class:"mb-3"},Pe={for:"trip_accept_reject_duration_for_driver",class:"form-label"},Ae=["readonly","placeholder"],Ee={class:"col-sm-6 mt-4"},Oe={class:"mb-0"},De={class:"border rounded"},Ie={class:"row"},Ke={class:"col"},We={class:"form-check-label p-2 mt-2",for:"can_round_the_bill_values"},qe={class:"col"},ze={class:"form-check form-switch form-switch-md float-end p-2"},Je={class:"col-lg-12"},Ye={class:"text-end"},Ze={type:"submit",class:"btn btn-primary"},Ge={key:0,id:"removeNotificationModal",class:"modal fade show d-block",tabindex:"-1","aria-hidden":"true"},Qe={class:"modal-dialog modal-dialog-centered"},Xe={class:"modal-content"},$e={class:"modal-header"},et={class:"modal-body"},tt={class:"modal-footer"},rt={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},st={class:"alert-content"},it={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},ot={class:"alert-content"},_t={id:"low",class:"modal fade",tabindex:"-1","aria-labelledby":"lowLabel","aria-hidden":"true",style:{display:"none"}},at={class:"modal-dialog"},dt={class:"modal-content"},nt={class:"modal-body"},lt={class:"fs-15"},mt={class:"text-muted"},ct={id:"high",class:"modal fade",tabindex:"-1","aria-labelledby":"highLabel","aria-hidden":"true",style:{display:"none"}},ut={class:"modal-dialog"},ft={class:"modal-content"},gt={class:"modal-body"},ht={class:"fs-15"},bt={class:"text-muted"};function vt(s,t,d,i,T,w){const M=h("Head"),p=h("PageHeader"),x=h("BCardHeader"),B=h("BCard"),y=h("FormValidation"),j=h("BCardBody"),R=h("BCol"),U=h("BRow"),F=h("Layout");return _(),a(m,null,[u(F,null,{default:b(()=>[u(M,{title:"Transport Ride Settings"}),u(p,{title:s.$t("transport-ride-settings"),pageTitle:s.$t("transport-ride-settings")},null,8,["title","pageTitle"]),u(U,null,{default:b(()=>[d.app_for==="demo"?(_(),K(B,{key:0,"no-body":"",id:"tasksList"},{default:b(()=>[u(x,{class:"border-0"},{default:b(()=>[e("div",Q,[e("strong",null,[C(o(s.$t("note"))+" : ",1),e("em",null,o(s.$t("actions_restricted_due_to_demo_mode")),1)])])]),_:1})]),_:1})):V("",!0),u(R,{lg:"12"},{default:b(()=>[u(B,{"no-body":"",id:"tasksList"},{default:b(()=>[u(x,{class:"border-0"}),u(j,{class:"border border-dashed border-end-0 border-start-0"},{default:b(()=>[e("form",{onSubmit:t[11]||(t[11]=N((...r)=>i.handleSubmit&&i.handleSubmit(...r),["prevent"]))},[u(y,{form:i.form,rules:i.validationRules,ref:"validationRef"},{default:b(()=>[e("div",X,[e("div",$,[e("div",ee,[e("label",te,o(s.$t("trip_dispatch_type")),1),f(e("select",{id:"trip_dispatch_type",disabled:d.app_for==="demo",class:"form-select","onUpdate:modelValue":t[0]||(t[0]=r=>i.form.trip_dispatch_type=r)},[e("option",se,o(s.$t("one_by_one")),1),e("option",ie,o(s.$t("to_all_drivers")),1)],8,re),[[W,i.form.trip_dispatch_type]]),(_(!0),a(m,null,g(i.errors.trip_dispatch_type,(r,n)=>(_(),a("span",{key:n,class:"text-danger"},o(r.trip_dispatch_type),1))),128))])]),e("div",oe,[e("div",_e,[e("label",ae,o(s.$t("driver_search_radius_in_kilometer")),1),f(e("input",{type:"text",readonly:d.app_for==="demo",class:"form-control",placeholder:s.$t("enter_driver_search_radius_in_kilometer"),id:"driver_search_radius","onUpdate:modelValue":t[1]||(t[1]=r=>i.form.driver_search_radius=r)},null,8,de),[[v,i.form.driver_search_radius]]),(_(!0),a(m,null,g(i.errors.name,(r,n)=>(_(),a("span",{key:n,class:"text-danger"},o(r.driver_search_radius),1))),128))])]),e("div",ne,[e("div",le,[e("label",me,o(s.$t("maximum_time_for_accept_reject_bidding_ride_in_seconds")),1),f(e("input",{type:"text",readonly:d.app_for==="demo",class:"form-control",placeholder:s.$t("enter_maximum_time_for_accept_reject_bidding_ride_in_seconds"),id:"maximum_time_for_accept_reject_bidding_ride","onUpdate:modelValue":t[2]||(t[2]=r=>i.form.maximum_time_for_accept_reject_bidding_ride=r)},null,8,ce),[[v,i.form.maximum_time_for_accept_reject_bidding_ride]]),(_(!0),a(m,null,g(i.errors.name,(r,n)=>(_(),a("span",{key:n,class:"text-danger"},o(r.maximum_time_for_accept_reject_bidding_ride),1))),128))])]),e("div",ue,[e("div",fe,[e("label",ge,o(s.$t("user_can_schedule_a_ride_after_x_minutes")),1),f(e("input",{type:"text",readonly:d.app_for==="demo",class:"form-control",placeholder:s.$t("enter_user_can_schedule_a_ride_after_x_minutes"),id:"user_can_make_a_ride_after_x_miniutes","onUpdate:modelValue":t[3]||(t[3]=r=>i.form.user_can_make_a_ride_after_x_miniutes=r)},null,8,he),[[v,i.form.user_can_make_a_ride_after_x_miniutes]]),(_(!0),a(m,null,g(i.errors.name,(r,n)=>(_(),a("span",{key:n,class:"text-danger"},o(r),1))),128))])]),e("div",be,[e("div",ve,[e("label",pe,o(s.$t("maximum_time_for_find_drivers_for_bitting_ride")),1),f(e("input",{type:"text",readonly:d.app_for==="demo",class:"form-control",placeholder:s.$t("enter_maximum_time_for_find_drivers_for_bitting_ride"),id:"maximum_time_for_find_drivers_for_bitting_ride","onUpdate:modelValue":t[4]||(t[4]=r=>i.form.maximum_time_for_find_drivers_for_bitting_ride=r)},null,8,ye),[[v,i.form.maximum_time_for_find_drivers_for_bitting_ride]]),(_(!0),a(m,null,g(i.errors.name,(r,n)=>(_(),a("span",{key:n,class:"text-danger"},o(r),1))),128))])]),e("div",ke,[e("div",xe,[e("label",we,[C(o(s.$t("minimum_time_for_find_drivers_for_schedule_ride_in_minutes"))+" ",1),e("a",Me,o(s.$t("how_it_works")),1)]),f(e("input",{type:"text",readonly:d.app_for==="demo",class:"form-control",placeholder:s.$t("enter_minimum_time_for_find_drivers_for_schedule_ride_in_minutes"),id:"minimum_time_for_search_drivers_for_schedule_ride","onUpdate:modelValue":t[5]||(t[5]=r=>i.form.minimum_time_for_search_drivers_for_schedule_ride=r)},null,8,Ce),[[v,i.form.minimum_time_for_search_drivers_for_schedule_ride]]),(_(!0),a(m,null,g(i.errors.name,(r,n)=>(_(),a("span",{key:n,class:"text-danger"},o(r),1))),128))])]),e("div",Be,[e("div",je,[e("label",Se,o(s.$t("minimum_time_for_find_drivers_for_regular_rides")),1),f(e("input",{type:"text",readonly:d.app_for==="demo",class:"form-control",placeholder:s.$t("enter_minimum_time_for_find_drivers_for_regular_rides"),id:"maximum_time_for_find_drivers_for_regular_ride","onUpdate:modelValue":t[6]||(t[6]=r=>i.form.maximum_time_for_find_drivers_for_regular_ride=r)},null,8,Ve),[[v,i.form.maximum_time_for_find_drivers_for_regular_ride]]),(_(!0),a(m,null,g(i.errors.name,(r,n)=>(_(),a("span",{key:n,class:"text-danger"},o(r),1))),128))])]),e("div",Te,[e("div",Re,[e("label",Ue,[C(o(s.$t("minimum_time_for_starting_trip_drivers_for_schedule_ride"))+" ",1),e("a",Fe,o(s.$t("how_it_works")),1)]),f(e("input",{type:"text",readonly:d.app_for==="demo",class:"form-control",placeholder:s.$t("enter_minimum_time_for_starting_trip_drivers_for_schedule_ride"),id:"minimum_time_for_starting_trip_drivers_for_schedule_ride","onUpdate:modelValue":t[7]||(t[7]=r=>i.form.minimum_time_for_starting_trip_drivers_for_schedule_ride=r)},null,8,Le),[[v,i.form.minimum_time_for_starting_trip_drivers_for_schedule_ride]]),(_(!0),a(m,null,g(i.errors.name,(r,n)=>(_(),a("span",{key:n,class:"text-danger"},o(r),1))),128))])]),e("div",He,[e("div",Ne,[e("label",Pe,o(s.$t("trip_accept_Reject_duration_for_driver")),1),f(e("input",{type:"text",readonly:d.app_for==="demo",class:"form-control",placeholder:s.$t("enter_trip_accept_Reject_duration_for_driver"),id:"trip_accept_reject_duration_for_driver","onUpdate:modelValue":t[8]||(t[8]=r=>i.form.trip_accept_reject_duration_for_driver=r)},null,8,Ae),[[v,i.form.trip_accept_reject_duration_for_driver]]),(_(!0),a(m,null,g(i.errors.name,(r,n)=>(_(),a("span",{key:n,class:"text-danger"},o(r),1))),128))])]),e("div",Ee,[e("div",Oe,[e("div",De,[e("div",Ie,[e("div",Ke,[e("label",We,o(s.$t("can_round_the_bill_values")),1)]),e("div",qe,[e("div",ze,[f(e("input",{type:"checkbox",placeholder:"If Enable This Feature, Ride Bills Will Round Figured",offPlaceholder:"Ride Bills Will be In 2 digit Decimal Values ",class:"form-check-input",id:"can_round_the_bill_values","onUpdate:modelValue":t[9]||(t[9]=r=>i.form.can_round_the_bill_values=r),onChange:t[10]||(t[10]=N(r=>i.confirmToggle("can_round_the_bill_values",i.form.can_round_the_bill_values,r.target.placeholder,r.target.getAttribute("offPlaceholder")),["prevent"]))},null,544),[[q,i.form.can_round_the_bill_values]])])])])]),(_(!0),a(m,null,g(i.errors.name,(r,n)=>(_(),a("span",{key:n,class:"text-danger"},o(r),1))),128))])]),e("div",Je,[e("div",Ye,[e("button",Ze,o(d.settings?s.$t("update"):s.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),i.showModal?(_(),a("div",Ge,[e("div",Qe,[e("div",Xe,[e("div",$e,[t[17]||(t[17]=e("h5",{class:"modal-title"},"Confirmation",-1)),e("button",{type:"button",class:"btn-close",onClick:t[12]||(t[12]=r=>i.showModal=!1)})]),e("div",et,[e("p",null,o(i.modalText),1)]),e("div",tt,[e("button",{type:"button",class:"btn btn-secondary",onClick:t[13]||(t[13]=(...r)=>i.cancelModal&&i.cancelModal(...r))},"Cancel"),e("button",{type:"button",class:"btn btn-primary",onClick:t[14]||(t[14]=(...r)=>i.enableStatus&&i.enableStatus(...r))},"OK")])])])])):V("",!0),e("div",null,[i.successMessage?(_(),a("div",rt,[e("div",st,[t[18]||(t[18]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[19]||(t[19]=e("strong",null,"Success",-1)),C(" - "+o(i.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[15]||(t[15]=(...r)=>i.dismissMessage&&i.dismissMessage(...r)),"aria-label":"Close Success Message"})])])):V("",!0),i.alertMessage?(_(),a("div",it,[e("div",ot,[t[20]||(t[20]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[21]||(t[21]=e("strong",null,"Alert",-1)),C(" - "+o(i.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[16]||(t[16]=(...r)=>i.dismissMessage&&i.dismissMessage(...r)),"aria-label":"Close Alert Message"})])])):V("",!0)])]),_:1}),e("div",_t,[e("div",at,[e("div",dt,[t[22]||(t[22]=e("div",{class:"modal-header"},[e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",nt,[e("h5",lt,o(s.$t("minimum_time_for_starting_trip_drivers_for_schedule_ride")),1),e("p",mt,o(s.$t("minimum_time_for_starting_trip_drivers_for_schedule_ride_explanation")),1)])])])]),e("div",ct,[e("div",ut,[e("div",ft,[t[23]||(t[23]=e("div",{class:"modal-header"},[e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",gt,[e("h5",ht,o(s.$t("minimum_time_for_find_drivers_for_schedule_ride_in_minutes")),1),e("p",bt,o(s.$t("minimum_time_for_find_drivers_for_schedule_ride_in_minutes_explanation")),1)])])])])],64)}const Bt=P(G,[["render",vt]]);export{Bt as default};
