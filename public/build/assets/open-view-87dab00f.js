import{_ as oe,Z as ae,O as ie,P as re,z as de,C as ce,r as m,D as te,g as p,o as a,x as G,w as _,X as y,a4 as ne,a as _e,U as J,k as u,l as e,J as s,i,F as P,L as F,B as n,p as K,n as ue,y as h}from"./vendor-ddfbd976.js";import{L as me}from"./dispatchmain-37fc6bfb.js";import{P as he}from"./page-header-2dc95532.js";import{s as be}from"./search-2c17aadd.js";import{s as ve}from"./searchbar-3acbc236.js";import{_ as le,a as fe,b as ge,c as pe,d as ye,e as xe}from"./driver-76405b51.js";import"./footer-e648049d.js";import"./dispatchHorizontal-7568e444.js";import"./app-042fb454.js";const we={data(){return{rightOffcanvas:!1}},components:{Layout:me,PageHeader:he,Head:ae,Multiselect:ie,flatPickr:re,Link:de,search:be,searchbar:ve},props:{successMessage:String,alertMessage:String,app_for:String,pick_icon:String,drop_icon:String,stop_icon:String,firebaseConfig:Object,request:Object},setup(l){var z,O,A,E;const{t:o}=ce(),r=m(l.request),t=m(!1),Q=m(!1),$=m(l.request.requestProofs.data),H=m(l.request?l.request.requestStops.data:[]),X=m(l.request?l.request.rejectedDrivers.data:[]),x=m(l.successMessage||""),V=m(l.alertMessage||""),B=m(null),C=m(null),D=m([]),w=m("**********"),Z=m("**********"),M=m("**********"),T=m("**********"),U=()=>{x.value="",V.value=""},j=async()=>{map.value=y.map("map",{zoomControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1}).setView([r.value.pick_lat,r.value.pick_lng],12),map.value.dragging.disable(),map.value.scrollWheelZoom.disable(),map.value.doubleClickZoom.disable(),map.value.touchZoom.disable(),y.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(map.value);const d=y.icon({iconUrl:"/image/map/pickup.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),v=y.icon({iconUrl:"/image/map/drop.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]});if(B.value=y.marker([r.value.pick_lat,r.value.pick_lng],{icon:d,draggable:!1}).addTo(map.value),C.value=y.marker([r.value.drop_lat,r.value.drop_lng],{icon:v,draggable:!1}).addTo(map.value),H.value.forEach((f,g)=>{const b=y.icon({iconUrl:"/image/map/"+g+".png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),Y=y.marker([f.latitude,f.longitude],{icon:b,draggable:!1}).addTo(map.value);D.value[g]=Y}),r.value.poly_line){const f=ne.decode(r.value.poly_line);let g=y.polyline(f,{color:"blue"}).addTo(map.value);map.value.fitBounds(g)}},I=()=>{t.value=!1},S=async d=>{try{const v=await _e.get(`/dispatcher/rides_request/cancel/${d}`);r.value=v.data.request,t.value=!1,J.fire(o("success"),o("trip_cancelled_successfully"),"success")}catch{J.fire(o("error"),o("failed_to_cancel_trip"),"error")}},N=d=>d.is_cancelled?{text:o("cancelled"),colorClass:"text-danger"}:d.is_completed?{text:o("completed"),colorClass:"text-success"}:d.is_trip_start?{text:o("on_trip"),colorClass:"text-primary"}:d.is_driver_arrived?{text:o("driver_arrived"),colorClass:"text-warning"}:d.is_later&&d.is_driver_started?{text:o("driver_started"),colorClass:"text-info"}:d.driver_id?{text:o("accepted"),colorClass:"text-secondary"}:d.is_later?{text:o("upcoming"),colorClass:"text-dark"}:{text:o("searching"),colorClass:"text-muted"},R=d=>d.cancel_method==0?o("automatic"):d.cancel_method==1?o("cancelled_by_user"):d.cancel_method==2?o("cancelled_by_driver"):o("cancelled_by_dispatcher"),L=()=>{const d=new Date,v={weekday:"short",day:"numeric",month:"short",year:"numeric"};return d.toLocaleDateString("en-US",v)},W=async d=>{J.fire({title:"Are you sure?",text:"You want to be cancel this ride!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, Cancel it!",cancelButtonText:"Close"}).then(async v=>{if(v.isConfirmed)try{await S(d)}catch(f){console.error(o("error_deleting_data"),f),J.fire(o("error"),o("failed_to_delete_the_data"),"error")}})};te(async()=>{if(!r.value.is_cancelled&&!r.value.is_completed)try{const d=l.firebaseConfig;firebase.apps.length||firebase.initializeApp(d),firebase.database().ref(`requests/${r.value.id}`).on("value",g=>{const b=g.val();b&&(b.hasOwnProperty("is_completed")&&(r.value.is_completed=!0),b.accept!==1&&(r.value.driver_id=null),r.value.is_later&&b.hasOwnProperty("modified_by_driver")&&(r.value.is_driver_started=1),b.trip_arrived==1&&(r.value.is_driver_arrived=!0,r.value.converted_arrived_at||(r.value.converted_arrived_at=L())),b.trip_start==1&&(r.value.is_trip_start=!0,r.value.converted_trip_start_time||(r.value.converted_trip_start_time=L())),(b.is_cancelled||b.is_cancel)&&(r.value.is_cancelled=!0,setTimeout(()=>{window.location.reload()},2e3)))})}catch(d){console.error("Error initializing Firebase or fetching settings:",d)}}),te(()=>{j()}),l.app_for!="demo"&&(r.value.userDetail&&(w.value=(z=r.value.userDetail.data)==null?void 0:z.mobile,Z.value=(O=r.value.userDetail.data)==null?void 0:O.email),r.value.driverDetail&&(M.value=(A=r.value.driverDetail.data)==null?void 0:A.mobile,T.value=(E=r.value.driverDetail.data)==null?void 0:E.email));const k=m(o("normal"));return r.value.is_out_station&&(r.value.is_round_trip?k.value=o("round_trip_outstation_trip"):k.value=o("one_way_outstation_trip")),{result:r,modalShow:t,successMessage:x,alertMessage:V,rejected_drivers:X,deleteModal:W,closeModal:I,deleteData:S,proof:$,stops:H,user_mobile:w,user_email:Z,driver_mobile:M,driver_email:T,showStops:Q,rideStatus:N,dispatch_type:k,dismissMessage:U,cancelledBy:R}}},ke={class:"mb-1"},qe={class:"row"},Be={class:"col-xxl-4 col-md-6"},Ce={class:"card card-animate border border-dashed border-primary"},De={class:"card-body text-center"},Me={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Te={class:"mb-3 fs-18"},Se={class:"fs-14 mb-4"},Le={key:0,class:"col-xxl-4 col-md-6"},ze={class:"card card-animate border border-dashed border-primary"},Oe={class:"card-body text-center"},Ae={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ee={class:"mb-3 fs-18"},Pe={class:"fs-14 mb-4"},Fe={key:1,class:"col-xxl-4 col-md-6"},He={class:"card card-animate border border-dashed border-primary"},Ve={class:"card-body text-center"},Ze={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ue={class:"mb-3 fs-18"},je={class:"fs-14 mb-4"},Ie={class:"col-xxl-4 col-md-6"},Ne={class:"card card-animate border border-dashed border-primary"},Re={class:"card-body text-center"},We={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ye={key:0,class:"fs-14 text-danger"},Je={class:"mb-1"},Xe={class:"row"},Ge={class:"col-xxl-4 col-md-6"},Ke={class:"card card-animate border border-dashed border-primary"},Qe={class:"card-body"},$e={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},es={class:"d-flex align-items-center mb-2"},ss={class:"flex-shrink-0"},ts={class:"text-muted mb-0"},ls={class:"flex-grow-1 ms-2"},os={class:"mb-0"},as={class:"d-flex align-items-center mb-2"},is={class:"flex-shrink-0"},rs={class:"text-muted mb-0"},ds={class:"flex-grow-1 ms-2"},cs={class:"mb-0"},ns={key:0},_s={key:1},us={key:2},ms={class:"d-flex align-items-center mb-2"},hs={class:"flex-shrink-0"},bs={class:"text-muted mb-0"},vs={class:"flex-grow-1 ms-2"},fs={class:"mb-0"},gs={class:"d-flex align-items-center mb-2"},ps={class:"flex-shrink-0"},ys={class:"text-muted mb-0"},xs={class:"flex-grow-1 ms-2"},ws={class:"mb-0"},ks={key:0,class:"d-flex align-items-center mb-2"},qs={class:"flex-shrink-0"},Bs={class:"text-muted mb-0"},Cs={class:"flex-grow-1 ms-2"},Ds={class:"mb-0"},Ms={class:"d-flex align-items-center mb-2"},Ts={class:"flex-shrink-0"},Ss={class:"text-muted mb-0"},Ls={class:"flex-grow-1 ms-2"},zs={class:"mb-0"},Os={key:1,class:"d-flex align-items-center mb-2"},As={class:"flex-shrink-0"},Es={class:"text-muted mb-0"},Ps={class:"flex-grow-1 ms-2"},Fs={class:"mb-0"},Hs={class:"col-xxl-4 col-md-6"},Vs={class:"card card-animate border border-dashed border-primary"},Zs={class:"card-body"},Us={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},js={class:"d-flex align-items-center mb-2"},Is={class:"flex-shrink-0"},Ns={class:"text-muted mb-0"},Rs={class:"flex-grow-1 ms-2"},Ws={class:"mb-0"},Ys={class:"d-flex align-items-center mb-2"},Js={class:"flex-shrink-0"},Xs={class:"text-muted mb-0"},Gs={class:"flex-grow-1 ms-2"},Ks={class:"mb-0"},Qs={class:"d-flex align-items-center mb-2"},$s={class:"flex-shrink-0"},et={class:"text-muted mb-0"},st={class:"flex-grow-1 ms-2"},tt={class:"mb-0"},lt={key:0,class:"col-xxl-4 col-md-6"},ot={class:"card card-animate border border-dashed border-primary"},at={class:"card-body"},it={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},rt={class:"d-flex align-items-center mb-2"},dt={class:"flex-shrink-0"},ct={class:"text-muted mb-0"},nt={class:"flex-grow-1 ms-2"},_t={class:"mb-0"},ut={class:"d-flex align-items-center mb-2"},mt={class:"flex-shrink-0"},ht={class:"text-muted mb-0"},bt={class:"flex-grow-1 ms-2"},vt={class:"mb-0"},ft={class:"d-flex align-items-center mb-2"},gt={class:"flex-shrink-0"},pt={class:"text-muted mb-0"},yt={class:"flex-grow-1 ms-2"},xt={class:"mb-0"},wt={class:"mb-1"},kt={class:"col-lg-6"},qt={class:"card border mt-3"},Bt={class:"table-responsive"},Ct={class:"table align-middle position-relative table-nowrap"},Dt={class:"table-active"},Mt={class:"fs-16"},Tt={scope:"col"},St={scope:"col"},Lt={scope:"col"},zt={key:0},Ot={key:0},At={key:1},Et={key:0},Pt={key:1,class:"text-danger"},Ft={key:2},Ht={class:"bg-body bg-success-subtle"},Vt={colspan:"2",class:"text-success"},Zt={class:"text-success"},Ut={class:"text-success"},jt={class:"text-success"},It={class:"col-lg-6"},Nt={class:"card border mt-3"},Rt={class:"table-responsive"},Wt={class:"table align-middle position-relative table-nowrap"},Yt={class:"table-active"},Jt={class:"fs-16"},Xt={scope:"col"},Gt={scope:"col"},Kt={class:"text-danger"},Qt={colspan:"2"},$t={class:"text-danger"},el={colspan:"2"},sl={class:"text-danger"},tl={colspan:"2"},ll={colspan:"2"},ol={class:"bg-body bg-success-subtle"},al={colspan:"2",class:"text-success"},il={class:"text-success"},rl={class:"text-success"},dl={class:"text-success"},cl={class:"card"},nl={class:"mb-1"},_l={class:"card-body"},ul={class:"profile-timeline"},ml={class:"accordion accordion-flush",id:"accordionFlushExample"},hl={class:"accordion-item border-0"},bl={class:"accordion-header",id:"headingOne"},vl={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"true","aria-controls":"collapseOne"},fl={class:"d-flex align-items-center"},gl={class:"flex-shrink-0 border border-4 border-success rounded-circle"},pl=["src"],yl={class:"flex-grow-1 ms-3"},xl={class:"fs-15 mb-0 fw-semibold text-primary"},wl={class:"fw-normal text-muted"},kl={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},ql={class:"accordion-body ms-5 ps-5 pt-0"},Bl={class:"mb-1 text-success"},Cl={class:"accordion-item border-0"},Dl={class:"accordion-header",id:"headingTwo"},Ml={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseTwo"},Tl={class:"d-flex align-items-center"},Sl={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},Ll=["src"],zl={class:"flex-grow-1 ms-3"},Ol={class:"fs-15 mb-1 fw-semibold text-danger"},Al={class:"fw-normal"},El={id:"collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},Pl={class:"accordion-body ms-5 ps-5 pt-0"},Fl={class:"mb-1"},Hl={class:"badge bg-light text-body fs-14 fw-large"},Vl={key:0,class:"accordion-item border-0"},Zl={class:"accordion-header",id:"headingThree"},Ul={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},jl={class:"d-flex align-items-center"},Il={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Nl=["src"],Rl={class:"flex-grow-1 ms-3"},Wl={class:"fs-15 mb-1 fw-semibold text-success"},Yl={class:"fw-normal"},Jl={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Xl={class:"accordion-body ms-5 ps-5 pt-0"},Gl={class:"mb-1"},Kl={class:"badge bg-light text-body fs-14 fw-large"},Ql={key:1,class:"accordion-item border-0"},$l={class:"accordion-header",id:"headingThree"},eo={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},so={class:"d-flex align-items-center"},to={class:"flex-shrink-0 border border-4 border-warning rounded-circle"},lo=["src"],oo={class:"flex-grow-1 ms-3"},ao={class:"fs-15 mb-1 fw-semibold text-warning"},io={class:"fw-normal"},ro={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},co={class:"accordion-body ms-5 ps-5 pt-0"},no={class:"mb-1"},_o={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},uo={class:"accordion-body ms-5 ps-5 pt-0"},mo={class:"mb-1 text-success"},ho={key:2,class:"accordion-item border-0"},bo={class:"accordion-header",id:"headingThree"},vo={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},fo={class:"d-flex align-items-center"},go={class:"flex-shrink-0 border border-4 border-success rounded-circle"},po=["src"],yo={class:"flex-grow-1 ms-3"},xo={class:"fs-15 mb-1 fw-semibold text-success"},wo={class:"fw-normal"},ko={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},qo={class:"accordion-body ms-5 ps-5 pt-0"},Bo={class:"mb-1"},Co={key:3,class:"accordion-item border-0"},Do={class:"accordion-header",id:"headingFour"},Mo={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},To={class:"d-flex align-items-center"},So={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Lo=["src"],zo={class:"flex-grow-1 ms-3"},Oo={class:"fs-14 mb-0 fw-semibold text-success"},Ao={class:"fw-normal text-muted"},Eo={key:4,class:"accordion-item border-0"},Po={class:"accordion-header",id:"headingFour"},Fo={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},Ho={class:"d-flex align-items-center"},Vo={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},Zo=["src"],Uo={class:"flex-grow-1 ms-3"},jo={class:"fs-14 mb-0 fw-semibold text-danger"},Io={class:"fw-normal text-muted"},No={key:1,class:"card"},Ro={class:"card-body border-top border-top-dashed p-4"},Wo={class:"text-muted text-uppercase fw-semibold mb-4"},Yo={class:"card-body"},Jo={class:"text-muted text-uppercase fw-semibold mb-2"},Xo={class:"d-flex"},Go={class:"flex-shrink-0 avatar-sm"},Ko={class:"avatar-title bg-light rounded"},Qo=["src"],$o={class:"flex-grow-1 ms-3"},ea={class:"text-muted mb-1 fst-italic"},sa={class:"text-muted mb-1 fst-italic"},ta={class:"fs-11 align-middle text-warning"},la=["id"],oa={class:"card-body"},aa={class:"text-muted text-uppercase fw-semibold mb-4"},ia={class:"d-flex"},ra={class:"flex-shrink-0 avatar-sm"},da={class:"avatar-title bg-light rounded"},ca=["src"],na={class:"flex-grow-1 ms-3"},_a={class:"text-muted mb-1 fst-italic"},ua={class:"text-muted mb-1 fst-italic"},ma={class:"fs-11 align-middle text-warning"},ha=["id"],ba={key:2,class:"card"},va={class:"mb-1"},fa={class:"card-body"},ga={class:"row"},pa={class:"col-lg-4"},ya=["src"],xa={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},wa={class:"alert-content"},ka={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},qa={class:"alert-content"};function Ba(l,o,r,t,Q,$){const H=p("Head"),X=p("PageHeader"),x=p("BCardHeader"),V=p("BButton"),B=p("BCardBody"),C=p("BCard"),D=p("BCol"),w=p("BRow"),Z=p("Layout");return a(),G(Z,null,{default:_(()=>{var M,T,U,j,I,S,N,R,L,W,k,z,O,A,E,d,v,f,g,b,Y,ee,se;return[u(H,{title:"View Details"}),u(X,{title:l.$t("view_details"),pageTitle:l.$t("view_details"),pageLink:"/dispatcher/rides_request"},null,8,["title","pageTitle"]),u(w,null,{default:_(()=>[u(D,{lg:"12"},{default:_(()=>[u(C,{"no-body":"",id:"tasksList"},{default:_(()=>[u(x,null,{default:_(()=>[e("h4",ke,s(l.$t("map_view")),1)]),_:1}),u(B,null,{default:_(()=>[e("div",qe,[o[8]||(o[8]=e("div",{class:"mt-3"},null,-1)),o[9]||(o[9]=e("div",{class:"col-sm-12"},[e("div",{class:"card"},[e("div",{class:"card-body"},[e("div",{id:"map",style:{height:"400px"}})])])],-1)),e("div",Be,[e("div",Ce,[e("div",De,[e("h4",Me,s(l.$t("pickup_details")),1),o[3]||(o[3]=e("div",{class:"flex-grow-1"},[e("img",{src:le,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Te,s(l.$t("location"))+":",1),e("h6",Se,s(t.result.pick_address),1)])])]),t.stops.length>0?(a(),i("div",Le,[e("div",ze,[e("div",Oe,[e("h4",Ae,s(l.$t("stop_details")),1),o[4]||(o[4]=e("div",{class:"flex-grow-1"},[e("img",{src:le,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Ee,s(l.$t("location"))+":",1),(a(!0),i(P,null,F(t.stops,(c,q)=>(a(),i("h6",Pe,s(c.address),1))),256))])])])):n("",!0),t.result.drop_address?(a(),i("div",Fe,[e("div",He,[e("div",Ve,[e("h4",Ze,s(l.$t("drop_details")),1),o[5]||(o[5]=e("div",{class:"flex-grow-1"},[e("img",{src:fe,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Ue,s(l.$t("location"))+":",1),e("h6",je,s(t.result.drop_address),1)])])])):n("",!0),e("div",Ie,[e("div",Ne,[e("div",Re,[e("h4",We,s(l.$t("trip_status"))+" "+s(t.result.is_bid_ride?l.$t("bidding"):""),1),o[7]||(o[7]=e("div",{class:"flex-grow-1 mt-2"},[e("img",{src:ge,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",{class:K(["mt-5 mb-3 fs-18",t.rideStatus(t.result).colorClass])},s(t.rideStatus(t.result).text),3),t.result.is_cancelled?(a(),i("h5",Ye,"( "+s(t.cancelledBy(t.result))+" )",1)):n("",!0),!t.result.is_cancelled&&!t.result.is_completed?(a(),G(V,{key:1,class:"btn btn-danger btn-md",type:"button",onClick:o[0]||(o[0]=ue(c=>t.deleteModal(t.result.id),["prevent"]))},{default:_(()=>[o[6]||(o[6]=e("i",{class:"bx bx-show-alt align-center text-muted me-2"},null,-1)),h(" "+s(l.$t("cancel")),1)]),_:1,__:[6]})):n("",!0)])])])])]),_:1})]),_:1})]),_:1})]),_:1}),u(w,null,{default:_(()=>[u(D,{lg:"12"},{default:_(()=>[u(C,{"no-body":"",id:"tasksList"},{default:_(()=>[u(x,null,{default:_(()=>[e("h4",Je,s(l.$t("request_details")),1)]),_:1}),u(B,null,{default:_(()=>{var c,q;return[e("div",Xe,[e("div",Ge,[e("div",Ke,[e("div",Qe,[e("h4",$e,s(l.$t("request")),1),o[10]||(o[10]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:pe,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",es,[e("div",ss,[e("p",ts,s(l.$t("zone"))+":",1)]),e("div",ls,[e("h6",os,s(t.result.zone_name??"-"),1)])]),e("div",as,[e("div",is,[e("p",rs,s(l.$t("transport_type"))+":",1)]),e("div",ds,[e("h6",cs,[t.result.transport_type==="taxi"?(a(),i("span",ns,s(l.$t("taxi"))+" "+s(t.result.is_bid_ride?l.$t("bidding"):""),1)):t.result.transport_type==="delivery"?(a(),i("span",_s,s(l.$t("delivery"))+" "+s(t.result.is_bid_ride?l.$t("bidding"):""),1)):(a(),i("span",us,s(l.$t("all")),1))])])]),e("div",ms,[e("div",hs,[e("p",bs,s(l.$t("vehicle_type"))+":",1)]),e("div",vs,[e("h6",fs,s(t.result.vehicle_type_name??"-"),1)])]),e("div",gs,[e("div",ps,[e("p",ys,s(l.$t("trip_time"))+":",1)]),e("div",xs,[e("h6",ws,s(t.result.is_later?t.result.converted_trip_start_time:t.result.converted_created_at),1)])]),t.result.rental_package_name!=="-"?(a(),i("div",ks,[e("div",qs,[e("p",Bs,s(l.$t("rental_pack"))+":",1)]),e("div",Cs,[e("h6",Ds,s(t.result.rental_package_name),1)])])):n("",!0),e("div",Ms,[e("div",Ts,[e("p",Ss,s(l.$t("ride_type"))+":",1)]),e("div",Ls,[e("h6",zs,s(t.dispatch_type),1)])]),t.result.is_round_trip?(a(),i("div",Os,[e("div",As,[e("p",Es,s(l.$t("return_time"))+":",1)]),e("div",Ps,[e("h6",Fs,s(t.result.return_time),1)])])):n("",!0)])])]),e("div",Hs,[e("div",Vs,[e("div",Zs,[e("h4",Us,s(l.$t("user_details")),1),o[11]||(o[11]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:ye,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",js,[e("div",Is,[e("p",Ns,s(l.$t("name"))+":",1)]),e("div",Rs,[e("h6",Ws,s(t.result.userDetail?(c=t.result.userDetail.data)==null?void 0:c.name:"-"),1)])]),e("div",Ys,[e("div",Js,[e("p",Xs,s(l.$t("email"))+":",1)]),e("div",Gs,[e("h6",Ks,s(t.user_email),1)])]),e("div",Qs,[e("div",$s,[e("p",et,s(l.$t("mobile"))+":",1)]),e("div",st,[e("h6",tt,s(t.user_mobile),1)])])])])]),t.result.driverDetail?(a(),i("div",lt,[e("div",ot,[e("div",at,[e("h4",it,s(l.$t("driver_details")),1),o[12]||(o[12]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:xe,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",rt,[e("div",dt,[e("p",ct,s(l.$t("name"))+":",1)]),e("div",nt,[e("h6",_t,s(t.result.driverDetail?(q=t.result.driverDetail.data)==null?void 0:q.name:"-"),1)])]),e("div",ut,[e("div",mt,[e("p",ht,s(l.$t("email"))+":",1)]),e("div",bt,[e("h6",vt,s(t.driver_email),1)])]),e("div",ft,[e("div",gt,[e("p",pt,s(l.$t("mobile"))+":",1)]),e("div",yt,[e("h6",xt,s(t.driver_mobile),1)])])])])])):n("",!0)])]}),_:1})]),_:1})]),_:1})]),_:1}),t.result.requestBill?(a(),G(w,{key:0},{default:_(()=>[u(D,{lg:"col-12"},{default:_(()=>[u(C,null,{default:_(()=>[u(x,null,{default:_(()=>[e("h4",wt,s(l.$t("bill_details")),1)]),_:1}),u(B,null,{default:_(()=>[u(w,null,{default:_(()=>[e("div",kt,[e("div",qt,[e("div",Bt,[e("table",Ct,[e("thead",Dt,[e("tr",Mt,[e("th",Tt,s(l.$t("title")),1),e("th",St,s(l.$t("description")),1),e("th",Lt,s(l.$t("price")),1)])]),t.result.accepted_ride_fare>0?(a(),i("tbody",zt,[e("tr",null,[e("td",null,s(l.$t("bid_fare")),1),o[13]||(o[13]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.accepted_ride_fare),1)]),t.result.additional_charges_amount>0?(a(),i("tr",Ot,[e("td",null,s(t.result.additional_charges_reason),1),o[14]||(o[14]=e("td",null,"-",-1)),e("td",null,s(t.result.additional_charges_amount),1)])):n("",!0)])):(a(),i("tbody",At,[e("tr",null,[e("td",null,s(l.$t("base_price")),1),e("td",null,s(l.$t("for_first"))+" "+s(t.result.requestBill.data.base_distance)+" "+s(l.$t("km")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.base_price),1)]),e("tr",null,[e("td",null,s(l.$t("distance_price")),1),e("td",null,s(t.result.requestBill.data.total_distance>t.result.requestBill.data.base_distance?t.result.requestBill.data.total_distance-t.result.requestBill.data.base_distance:0)+" "+s(l.$t("km"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_distance)+" / "+s(l.$t("km")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.distance_price),1)]),e("tr",null,[e("td",null,s(l.$t("time_price")),1),e("td",null,s(t.result.requestBill.data.total_time)+" "+s(l.$t("min"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_time)+" / "+s(l.$t("min")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.time_price),1)]),t.result.requestBill.data.cancellation_fee>0?(a(),i("tr",Et,[e("td",null,s(l.$t("cancellation_fee")),1),o[15]||(o[15]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.cancellation_fee),1)])):n("",!0),e("tr",null,[e("td",null,s(l.$t("service_tax")),1),o[16]||(o[16]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.service_tax),1)]),t.result.requestBill.data.promo_discount>0?(a(),i("tr",Pt,[e("td",null,s(l.$t("promo_discount")),1),o[17]||(o[17]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.promo_discount),1)])):n("",!0),e("tr",null,[e("td",null,s(l.$t("admin_commission")),1),o[18]||(o[18]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.admin_commision),1)]),t.result.additional_charges_amount>0?(a(),i("tr",Ft,[e("td",null,s(t.result.additional_charges_reason),1),o[19]||(o[19]=e("td",null,"-",-1)),e("td",null,s(t.result.additional_charges_amount),1)])):n("",!0)])),e("tfoot",Ht,[e("tr",null,[e("td",Vt,[e("h4",Zt,s(l.$t("total")),1)]),e("td",Ut,[e("h4",jt,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.total_amount),1)])])])])])])]),e("div",It,[e("div",Nt,[e("div",Rt,[e("table",Wt,[e("thead",Yt,[e("tr",Jt,[e("th",Xt,s(l.$t("title")),1),o[20]||(o[20]=e("th",{scope:"col"},null,-1)),e("th",Gt,s(l.$t("price")),1)])]),e("tbody",null,[e("tr",Kt,[e("td",Qt,s(l.$t("admin_commission")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.admin_commision),1)]),e("tr",$t,[e("td",el,s(l.$t("service_tax")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.service_tax),1)]),e("tr",sl,[e("td",tl,s(l.$t("admin_commission_from_driver")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.admin_commision_from_driver),1)]),e("tr",null,[e("td",ll,s(l.$t("driver_commission")),1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.driver_commision),1)])]),e("tfoot",ol,[e("tr",null,[e("td",al,[e("h4",il,s(l.$t("total")),1)]),e("td",rl,[e("h4",dl,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.total_amount),1)])])])])])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):n("",!0),e("div",cl,[u(x,null,{default:_(()=>[e("h4",nl,s(l.$t("request_timeline")),1)]),_:1}),e("div",_l,[e("div",ul,[e("div",ml,[e("div",hl,[e("div",bl,[e("a",vl,[e("div",fl,[e("div",gl,[e("img",{src:t.result.userDetail?(M=t.result.userDetail.data)==null?void 0:M.profile_picture:"/assets/images/default-profile-picture.png",alt:"",class:"avatar-md rounded-circle"},null,8,pl)]),e("div",yl,[e("h6",xl,[h(s(l.$t("ride_created"))+" -",1),e("span",wl,s(t.result.converted_created_at),1)])])])])]),!t.result.driver_id&&!t.result.is_cancelled?(a(),i("div",kl,[e("div",ql,[e("h6",Bl,s(l.$t("searching")),1)])])):n("",!0)]),(a(!0),i(P,null,F(t.rejected_drivers,(c,q)=>(a(),i("div",Cl,[e("div",Dl,[e("a",Ml,[e("div",Tl,[e("div",Sl,[e("img",{src:c.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Ll)]),e("div",zl,[e("h6",Ol,[h(s(l.$t("rejected"))+" - ",1),e("span",Al,s(c.converted_created_at),1)])])])])]),e("div",El,[e("div",Pl,[e("h5",Fl,s(c.driver_name),1),e("span",null,[e("span",Hl,[h(s(c.driver_rating),1),o[21]||(o[21]=e("i",{class:"mdi mdi-star text-warning ms-1"},null,-1))])])])])]))),256)),t.result.driverDetail?(a(),i("div",Vl,[e("div",Zl,[e("a",Ul,[e("div",jl,[e("div",Il,[e("img",{src:(U=(T=t.result.driverDetail)==null?void 0:T.data)==null?void 0:U.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Nl)]),e("div",Rl,[e("h6",Wl,[h(s(l.$t("accepted"))+" - ",1),e("span",Yl,s(t.result.converted_accepted_at),1)])])])])]),e("div",Jl,[e("div",Xl,[e("h5",Gl,s((j=t.result.driverDetail.data)==null?void 0:j.name),1),e("span",null,[e("span",Kl,[h(s((I=t.result.driverDetail.data)==null?void 0:I.rating),1),o[22]||(o[22]=e("i",{class:"mdi mdi-star text-warning ms-1"},null,-1))])])])])])):n("",!0),t.result.is_driver_arrived&&!t.result.instant_ride?(a(),i("div",Ql,[e("div",$l,[e("a",eo,[e("div",so,[e("div",to,[e("img",{src:(N=(S=t.result.driverDetail)==null?void 0:S.data)==null?void 0:N.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,lo)]),e("div",oo,[e("h6",ao,[h(s(l.$t("arrived"))+" - ",1),e("span",io,s(t.result.converted_arrived_at),1)])])])])]),e("div",ro,[e("div",co,[e("h5",no,s((L=(R=t.result.driverDetail)==null?void 0:R.data)==null?void 0:L.name),1)])]),t.result.is_trip_start?n("",!0):(a(),i("div",_o,[e("div",uo,[e("h6",mo,s(l.$t("waiting")),1)])]))])):n("",!0),t.result.is_trip_start?(a(),i("div",ho,[e("div",bo,[e("a",vo,[e("div",fo,[e("div",go,[e("img",{src:(k=(W=t.result.driverDetail)==null?void 0:W.data)==null?void 0:k.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,po)]),e("div",yo,[e("h6",xo,[h(s(t.result.transport_type=="delivery"?l.$t("tripLoaded"):l.$t("tripStarted"))+" - ",1),e("span",wo,s(t.result.converted_trip_start_time),1)])])])])]),e("div",ko,[e("div",qo,[e("h5",Bo,s((O=(z=t.result.driverDetail)==null?void 0:z.data)==null?void 0:O.name),1)])])])):n("",!0),t.result.is_completed?(a(),i("div",Co,[e("div",Do,[e("a",Mo,[e("div",To,[e("div",So,[e("img",{src:(E=(A=t.result.driverDetail)==null?void 0:A.data)==null?void 0:E.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Lo)]),e("div",zo,[e("h6",Oo,[h(s(t.result.transport_type=="delivery"?l.$t("tripUnloaded"):l.$t("ride_completed"))+" -",1),e("span",Ao,s(t.result.converted_completed_at),1)])])])])])])):n("",!0),t.result.is_cancelled?(a(),i("div",Eo,[e("div",Po,[e("a",Fo,[e("div",Ho,[e("div",Vo,[e("img",{src:(v=(d=t.result.userDetail)==null?void 0:d.data)==null?void 0:v.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Zo)]),e("div",Uo,[e("h6",jo,[h(s(l.$t("ride_cancelled"))+" -",1),e("span",Io,s(t.result.converted_cancelled_at),1)])])])])])])):n("",!0)])])])]),t.result.ride_user_rating>0||t.result.ride_driver_rating>0?(a(),i("div",No,[e("div",Ro,[e("div",null,[e("h6",Wo,s(l.$t("ratings")),1),e("div",Yo,[e("h6",Jo,s(l.$t("user_ratings")),1),e("div",Xo,[e("div",Go,[e("div",Ko,[e("img",{src:(g=(f=t.result.userDetail)==null?void 0:f.data)==null?void 0:g.profile_picture,alt:"User",height:"30"},null,8,Qo)])]),e("div",$o,[e("div",null,[e("p",ea,s(t.result.userDetail?(b=t.result.userDetail.data)==null?void 0:b.name:"-"),1),e("p",sa,s(t.result.ride_user_comment),1),e("div",ta,[(a(),i(P,null,F(5,c=>e("i",{key:c,id:"id-"+c,class:K({"ri-star-fill":c<=t.result.ride_user_rating,"ri-star-line":c>t.result.ride_user_rating})},null,10,la)),64))])])])])]),e("div",oa,[e("h6",aa,s(l.$t("driver_ratings")),1),e("div",ia,[e("div",ra,[e("div",da,[e("img",{src:(ee=(Y=t.result.driverDetail)==null?void 0:Y.data)==null?void 0:ee.profile_picture,alt:"Driver",height:"30"},null,8,ca)])]),e("div",na,[e("div",null,[e("p",_a,s(t.result.driverDetail?(se=t.result.driverDetail.data)==null?void 0:se.name:"-"),1),e("p",ua,s(t.result.ride_driver_comment),1),e("div",ma,[(a(),i(P,null,F(5,(c,q)=>e("i",{key:c,id:"id-"+c,class:K({"ri-star-fill":c<=t.result.ride_driver_rating,"ri-star-line":c>t.result.ride_driver_rating})},null,10,ha)),64))])])])])])])])])):n("",!0),t.proof.length>0?(a(),i("div",ba,[u(x,null,{default:_(()=>[e("h4",va,s(l.$t("request_proof")),1)]),_:1}),e("div",fa,[e("div",ga,[(a(!0),i(P,null,F(t.proof,(c,q)=>(a(),i("div",pa,[e("img",{src:c.proof_image,style:{height:"100%",width:"100%"}},null,8,ya)]))),256))])])])):n("",!0),e("div",null,[t.successMessage?(a(),i("div",xa,[e("div",wa,[o[23]||(o[23]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),o[24]||(o[24]=h()),o[25]||(o[25]=e("strong",null,"Success",-1)),h(" - "+s(t.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:o[1]||(o[1]=(...c)=>t.dismissMessage&&t.dismissMessage(...c)),"aria-label":"Close Success Message"})])])):n("",!0),t.alertMessage?(a(),i("div",ka,[e("div",qa,[o[26]||(o[26]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),o[27]||(o[27]=h()),o[28]||(o[28]=e("strong",null,"Alert",-1)),h(" - "+s(t.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:o[2]||(o[2]=(...c)=>t.dismissMessage&&t.dismissMessage(...c)),"aria-label":"Close Alert Message"})])])):n("",!0)])]}),_:1})}const Ea=oe(we,[["render",Ba]]);export{Ea as default};
